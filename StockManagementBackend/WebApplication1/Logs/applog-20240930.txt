2024-09-30 00:25:15.883 +06:00 [DBG] Connection id "0HN70JR9LM6LP" accepted.
2024-09-30 00:25:15.926 +06:00 [DBG] Connection id "0HN70JR9LM6LP" started.
2024-09-30 00:25:15.939 +06:00 [DBG] Connection 0HN70JR9LM6LP established using the following protocol: "Tls12"
2024-09-30 00:25:15.952 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:25:15.957 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:25:15.961 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:25:15.970 +06:00 [DBG] OPTIONS requests are not supported
2024-09-30 00:25:15.971 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:25:15.972 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:25:15.973 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:25:15.977 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 25.7717ms
2024-09-30 00:25:15.982 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:25:15.988 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:25:15.989 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:25:15.992 +06:00 [DBG] The request path  does not match the path filter
2024-09-30 00:25:15.993 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:25:15.994 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:25:16.012 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:25:16 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:25:16.023 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:25:16 PM'.
2024-09-30 00:25:16.026 +06:00 [INF] HTTP GET /api/Categories/ShowAllCategories responded 404 in 30.8444 ms
2024-09-30 00:25:16.028 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 0 null 46.0009ms
2024-09-30 00:25:16.036 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7028/api/Categories/ShowAllCategories, Response status code: 404
2024-09-30 00:25:24.680 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:25:24.688 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:25:24.690 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:25:24.692 +06:00 [DBG] OPTIONS requests are not supported
2024-09-30 00:25:24.693 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:25:24.693 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:25:24.694 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:25:24.702 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 23.0587ms
2024-09-30 00:25:24.705 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:25:24.709 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:25:24.710 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:25:24.715 +06:00 [DBG] The request path  does not match the path filter
2024-09-30 00:25:24.718 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:25:24.720 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:25:24.722 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:25:24 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:25:24.725 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:25:24 PM'.
2024-09-30 00:25:24.726 +06:00 [INF] HTTP GET /api/Categories/ShowAllCategories responded 404 in 5.1646 ms
2024-09-30 00:25:24.729 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 0 null 23.3769ms
2024-09-30 00:25:24.734 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7028/api/Categories/ShowAllCategories, Response status code: 404
2024-09-30 00:25:30.893 +06:00 [DBG] Connection id "0HN70JR9LM6LP" received FIN.
2024-09-30 00:25:30.896 +06:00 [DBG] Connection id "0HN70JR9LM6LP" is closed. The last processed stream ID was 7.
2024-09-30 00:25:30.897 +06:00 [DBG] The connection queue processing loop for 0HN70JR9LM6LP completed.
2024-09-30 00:25:30.898 +06:00 [DBG] Connection id "0HN70JR9LM6LP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:25:30.907 +06:00 [DBG] Connection id "0HN70JR9LM6LP" stopped.
2024-09-30 00:26:56.004 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:26:56.100 +06:00 [DBG] Hosting starting
2024-09-30 00:26:56.119 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:26:56.131 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:26:56.142 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:26:56.144 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:26:56.148 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:26:56.153 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:26:56.154 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:26:56.159 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:26:56.162 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:26:56.164 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:26:56.166 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:26:56.170 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:26:56.173 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:26:56.175 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:26:56.176 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:26:56.279 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:26:56.281 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:26:56.282 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:26:56.282 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:26:56.283 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:26:56.283 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:26:56.284 +06:00 [INF] Hosting environment: Development
2024-09-30 00:26:56.285 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:26:56.286 +06:00 [DBG] Hosting started
2024-09-30 00:26:56.464 +06:00 [DBG] Connection id "0HN70MH6AHV8K" accepted.
2024-09-30 00:26:56.464 +06:00 [DBG] Connection id "0HN70MH6AHV8J" accepted.
2024-09-30 00:26:56.466 +06:00 [DBG] Connection id "0HN70MH6AHV8K" started.
2024-09-30 00:26:56.466 +06:00 [DBG] Connection id "0HN70MH6AHV8J" started.
2024-09-30 00:26:56.486 +06:00 [DBG] Connection id "0HN70MH6AHV8J" received FIN.
2024-09-30 00:26:56.486 +06:00 [DBG] Connection id "0HN70MH6AHV8K" received FIN.
2024-09-30 00:26:56.491 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:26:56.491 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:26:56.502 +06:00 [DBG] Connection id "0HN70MH6AHV8K" stopped.
2024-09-30 00:26:56.502 +06:00 [DBG] Connection id "0HN70MH6AHV8J" stopped.
2024-09-30 00:26:56.507 +06:00 [DBG] Connection id "0HN70MH6AHV8K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:26:56.507 +06:00 [DBG] Connection id "0HN70MH6AHV8J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:26:56.611 +06:00 [DBG] Connection id "0HN70MH6AHV8L" accepted.
2024-09-30 00:26:56.614 +06:00 [DBG] Connection id "0HN70MH6AHV8L" started.
2024-09-30 00:26:56.656 +06:00 [DBG] Connection 0HN70MH6AHV8L established using the following protocol: "Tls12"
2024-09-30 00:26:56.690 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:26:56.762 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:26:56.782 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:26:56.788 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:26:56.889 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:26:56.910 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:26:56.917 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 227.0838ms
2024-09-30 00:26:57.340 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:26:57.340 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:26:57.350 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.8378ms
2024-09-30 00:26:57.381 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.2969ms
2024-09-30 00:26:57.699 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:26:57.703 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:26:57.704 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:26:57.892 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.5264ms
2024-09-30 00:27:00.765 +06:00 [DBG] Connection id "0HN70MH6AHV8M" accepted.
2024-09-30 00:27:00.789 +06:00 [DBG] Connection id "0HN70MH6AHV8M" started.
2024-09-30 00:27:00.802 +06:00 [DBG] Connection 0HN70MH6AHV8M established using the following protocol: "Tls12"
2024-09-30 00:27:00.825 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:27:00.832 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:27:00.859 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:27:00.881 +06:00 [DBG] OPTIONS requests are not supported
2024-09-30 00:27:00.934 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:27:00.980 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:27:00.998 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:27:01.002 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 177.2771ms
2024-09-30 00:27:01.006 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:27:01.034 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:27:01.041 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:27:01.043 +06:00 [DBG] The request path  does not match the path filter
2024-09-30 00:27:01.046 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:27:01.048 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:27:01.053 +06:00 [DBG] Connection id "0HN70MH6AHV8L" received FIN.
2024-09-30 00:27:01.063 +06:00 [DBG] The connection queue processing loop for 0HN70MH6AHV8L completed.
2024-09-30 00:27:01.071 +06:00 [DBG] Connection id "0HN70MH6AHV8L" is closed. The last processed stream ID was 7.
2024-09-30 00:27:01.077 +06:00 [DBG] Connection id "0HN70MH6AHV8L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:27:01.102 +06:00 [DBG] Connection id "0HN70MH6AHV8L" stopped.
2024-09-30 00:27:01.359 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:27:01 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:27:01.391 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:27:01 PM'.
2024-09-30 00:27:01.406 +06:00 [INF] HTTP GET /api/Categories/ShowAllCategories responded 404 in 344.7253 ms
2024-09-30 00:27:01.412 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 0 null 406.0489ms
2024-09-30 00:27:01.428 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7028/api/Categories/ShowAllCategories, Response status code: 404
2024-09-30 00:27:06.038 +06:00 [DBG] Connection id "0HN70MH6AHV8M" received FIN.
2024-09-30 00:27:06.040 +06:00 [DBG] Connection id "0HN70MH6AHV8M" is closed. The last processed stream ID was 3.
2024-09-30 00:27:06.040 +06:00 [DBG] The connection queue processing loop for 0HN70MH6AHV8M completed.
2024-09-30 00:27:06.041 +06:00 [DBG] Connection id "0HN70MH6AHV8M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:27:06.053 +06:00 [DBG] Connection id "0HN70MH6AHV8M" stopped.
2024-09-30 00:27:30.467 +06:00 [DBG] Connection id "0HN70MH6AHV8N" accepted.
2024-09-30 00:27:30.469 +06:00 [DBG] Connection id "0HN70MH6AHV8N" started.
2024-09-30 00:27:30.482 +06:00 [DBG] Connection 0HN70MH6AHV8N established using the following protocol: "Tls12"
2024-09-30 00:27:30.486 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:27:30.490 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:27:30.492 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:27:30.494 +06:00 [DBG] OPTIONS requests are not supported
2024-09-30 00:27:30.497 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:27:30.498 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:27:30.499 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:27:30.501 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 14.3415ms
2024-09-30 00:27:30.505 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:27:30.510 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:27:30.512 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:27:30.514 +06:00 [DBG] The request path  does not match the path filter
2024-09-30 00:27:30.515 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:27:30.517 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:27:30.524 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:27:30 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:27:30.529 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:27:30 PM'.
2024-09-30 00:27:30.531 +06:00 [INF] HTTP GET /api/Categories/ShowAllCategories responded 404 in 13.0953 ms
2024-09-30 00:27:30.534 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 0 null 28.6492ms
2024-09-30 00:27:30.537 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7028/api/Categories/ShowAllCategories, Response status code: 404
2024-09-30 00:27:35.520 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:27:35.523 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:27:35.523 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:27:35.524 +06:00 [DBG] OPTIONS requests are not supported
2024-09-30 00:27:35.525 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:27:35.525 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:27:35.527 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:27:35.528 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 7.8966ms
2024-09-30 00:27:35.532 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:27:35.539 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:27:35.540 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:27:35.541 +06:00 [DBG] The request path  does not match the path filter
2024-09-30 00:27:35.542 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:27:35.543 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:27:35.551 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:27:35 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:27:35.555 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:27:35 PM'.
2024-09-30 00:27:35.557 +06:00 [INF] HTTP GET /api/Categories/ShowAllCategories responded 404 in 12.2031 ms
2024-09-30 00:27:35.558 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 0 null 26.3802ms
2024-09-30 00:27:35.598 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7028/api/Categories/ShowAllCategories, Response status code: 404
2024-09-30 00:27:36.073 +06:00 [DBG] Connection id "0HN70MH6AHV8N" received FIN.
2024-09-30 00:27:36.076 +06:00 [DBG] Connection id "0HN70MH6AHV8N" is closed. The last processed stream ID was 7.
2024-09-30 00:27:36.076 +06:00 [DBG] The connection queue processing loop for 0HN70MH6AHV8N completed.
2024-09-30 00:27:36.081 +06:00 [DBG] Connection id "0HN70MH6AHV8N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:27:36.095 +06:00 [DBG] Connection id "0HN70MH6AHV8N" stopped.
2024-09-30 00:28:06.944 +06:00 [DBG] Connection id "0HN70MH6AHV8O" accepted.
2024-09-30 00:28:06.946 +06:00 [DBG] Connection id "0HN70MH6AHV8O" started.
2024-09-30 00:28:06.949 +06:00 [DBG] Connection 0HN70MH6AHV8O established using the following protocol: "Tls12"
2024-09-30 00:28:06.951 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:06.953 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:28:06.954 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:28:06.955 +06:00 [DBG] OPTIONS requests are not supported
2024-09-30 00:28:06.957 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:06.958 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:06.960 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:28:06.961 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 10.4571ms
2024-09-30 00:28:06.964 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:06.968 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:28:06.969 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:28:06.969 +06:00 [DBG] The request path  does not match the path filter
2024-09-30 00:28:06.970 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:06.971 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:06.972 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:06 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:28:06.978 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:06 PM'.
2024-09-30 00:28:06.979 +06:00 [INF] HTTP GET /api/Categories/ShowAllCategories responded 404 in 7.0236 ms
2024-09-30 00:28:06.980 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 0 null 15.9294ms
2024-09-30 00:28:06.983 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7028/api/Categories/ShowAllCategories, Response status code: 404
2024-09-30 00:28:16.145 +06:00 [DBG] Connection id "0HN70MH6AHV8O" received FIN.
2024-09-30 00:28:16.146 +06:00 [DBG] Connection id "0HN70MH6AHV8O" is closed. The last processed stream ID was 3.
2024-09-30 00:28:16.146 +06:00 [DBG] The connection queue processing loop for 0HN70MH6AHV8O completed.
2024-09-30 00:28:16.147 +06:00 [DBG] Connection id "0HN70MH6AHV8O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:28:16.159 +06:00 [DBG] Connection id "0HN70MH6AHV8O" stopped.
2024-09-30 00:28:21.110 +06:00 [DBG] Connection id "0HN70MH6AHV8P" accepted.
2024-09-30 00:28:21.111 +06:00 [DBG] Connection id "0HN70MH6AHV8P" started.
2024-09-30 00:28:21.114 +06:00 [DBG] Connection 0HN70MH6AHV8P established using the following protocol: "Tls12"
2024-09-30 00:28:21.116 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:21.119 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:28:21.121 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:28:21.122 +06:00 [DBG] OPTIONS requests are not supported
2024-09-30 00:28:21.123 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:21.127 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:21.128 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:28:21.129 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 13.04ms
2024-09-30 00:28:21.144 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:21.161 +06:00 [DBG] No candidates found for the request path '/api/Categories/ShowAllCategories'
2024-09-30 00:28:21.162 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:28:21.163 +06:00 [DBG] The request path  does not match the path filter
2024-09-30 00:28:21.164 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:21.166 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:21.169 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:21 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:28:21.203 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:21 PM'.
2024-09-30 00:28:21.205 +06:00 [INF] HTTP GET /api/Categories/ShowAllCategories responded 404 in 37.2733 ms
2024-09-30 00:28:21.208 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Categories/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 0 null 64.6671ms
2024-09-30 00:28:21.217 +06:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET https://localhost:7028/api/Categories/ShowAllCategories, Response status code: 404
2024-09-30 00:28:26.159 +06:00 [DBG] Connection id "0HN70MH6AHV8P" received FIN.
2024-09-30 00:28:26.164 +06:00 [DBG] Connection id "0HN70MH6AHV8P" is closed. The last processed stream ID was 3.
2024-09-30 00:28:26.164 +06:00 [DBG] The connection queue processing loop for 0HN70MH6AHV8P completed.
2024-09-30 00:28:26.166 +06:00 [DBG] Connection id "0HN70MH6AHV8P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:28:26.174 +06:00 [DBG] Connection id "0HN70MH6AHV8P" stopped.
2024-09-30 00:28:49.453 +06:00 [DBG] Connection id "0HN70MH6AHV8Q" accepted.
2024-09-30 00:28:49.456 +06:00 [DBG] Connection id "0HN70MH6AHV8Q" started.
2024-09-30 00:28:49.462 +06:00 [DBG] Connection 0HN70MH6AHV8Q established using the following protocol: "Tls12"
2024-09-30 00:28:49.465 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:49.476 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:28:49.478 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:28:49.482 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:28:49.485 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:49.487 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:49.489 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:28:49.490 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 25.0494ms
2024-09-30 00:28:49.494 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:49.503 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:28:49.510 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:28:49.515 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:28:49.516 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:28:49.518 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:49.519 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:49.523 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:49 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:28:49.529 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:49 PM'.
2024-09-30 00:28:49.533 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:28:49.593 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:28:49.595 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:28:49.596 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:28:49.598 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:28:49.600 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:28:49.601 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:28:49.605 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:28:49.616 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 7.9108ms
2024-09-30 00:28:49.620 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:28:49.621 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:28:49.637 +06:00 [ERR] HTTP GET /api/Category/ShowAllCategories responded 500 in 114.6081 ms
2024-09-30 00:28:49.639 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 500 null application/json; charset=utf-8 145.3085ms
2024-09-30 00:28:55.844 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:55.858 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:28:55.862 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:28:55.867 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:28:55.868 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:55.871 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:55.873 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:28:55.876 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 31.5762ms
2024-09-30 00:28:55.886 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:28:55.909 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:28:55.911 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:28:55.914 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:28:55.917 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:28:55.919 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:28:55.921 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:28:55.924 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:55 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:28:55.930 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:28:55 PM'.
2024-09-30 00:28:55.933 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:28:55.935 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:28:55.938 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:28:55.939 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:28:55.942 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:28:55.945 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:28:55.946 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:28:55.948 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:28:55.950 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 2.0434ms
2024-09-30 00:28:55.952 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:28:55.953 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:28:55.955 +06:00 [ERR] HTTP GET /api/Category/ShowAllCategories responded 500 in 32.0017 ms
2024-09-30 00:28:55.958 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 500 null application/json; charset=utf-8 72.2601ms
2024-09-30 00:28:56.205 +06:00 [DBG] Connection id "0HN70MH6AHV8Q" received FIN.
2024-09-30 00:28:56.207 +06:00 [DBG] Connection id "0HN70MH6AHV8Q" is closed. The last processed stream ID was 7.
2024-09-30 00:28:56.207 +06:00 [DBG] The connection queue processing loop for 0HN70MH6AHV8Q completed.
2024-09-30 00:28:56.208 +06:00 [DBG] Connection id "0HN70MH6AHV8Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:28:56.218 +06:00 [DBG] Connection id "0HN70MH6AHV8Q" stopped.
2024-09-30 00:29:14.200 +06:00 [DBG] Connection id "0HN70MH6AHV8R" accepted.
2024-09-30 00:29:14.202 +06:00 [DBG] Connection id "0HN70MH6AHV8R" started.
2024-09-30 00:29:14.210 +06:00 [DBG] Connection 0HN70MH6AHV8R established using the following protocol: "Tls12"
2024-09-30 00:29:14.212 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - null null
2024-09-30 00:29:14.213 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/getAllCategories'
2024-09-30 00:29:14.214 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)' with route pattern 'api/Category/getAllCategories' is valid for the request path '/api/Category/getAllCategories'
2024-09-30 00:29:14.216 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:29:14.218 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:29:14.219 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:29:14.220 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:29:14.229 +06:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:29:14.230 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:29:14.231 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:29:14.232 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:29:14.234 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:29:14.235 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:29:14.237 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:29:14.239 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1) in 1.5209ms
2024-09-30 00:29:14.240 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:29:14.240 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:29:14.241 +06:00 [ERR] HTTP GET /api/Category/getAllCategories responded 500 in 22.4435 ms
2024-09-30 00:29:14.242 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - 500 null application/json; charset=utf-8 30.2832ms
2024-09-30 00:29:16.238 +06:00 [DBG] Connection id "0HN70MH6AHV8R" received FIN.
2024-09-30 00:29:16.242 +06:00 [DBG] Connection id "0HN70MH6AHV8R" is closed. The last processed stream ID was 1.
2024-09-30 00:29:16.242 +06:00 [DBG] The connection queue processing loop for 0HN70MH6AHV8R completed.
2024-09-30 00:29:16.245 +06:00 [DBG] Connection id "0HN70MH6AHV8R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:29:16.251 +06:00 [DBG] Connection id "0HN70MH6AHV8R" stopped.
2024-09-30 00:29:49.746 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:29:49.915 +06:00 [DBG] Hosting starting
2024-09-30 00:29:49.973 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:29:49.982 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:29:50.002 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:29:50.005 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:29:50.022 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:29:50.036 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:29:50.039 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:29:50.055 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:29:50.068 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:29:50.073 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:29:50.078 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:29:50.087 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:29:50.100 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:29:50.108 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:29:50.110 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:29:50.645 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:29:50.647 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:29:50.649 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:29:50.650 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:29:50.652 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:29:50.654 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:29:50.656 +06:00 [INF] Hosting environment: Development
2024-09-30 00:29:50.658 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:29:50.659 +06:00 [DBG] Hosting started
2024-09-30 00:29:50.872 +06:00 [DBG] Connection id "0HN70MIQ9QSK6" accepted.
2024-09-30 00:29:50.872 +06:00 [DBG] Connection id "0HN70MIQ9QSK7" accepted.
2024-09-30 00:29:50.886 +06:00 [DBG] Connection id "0HN70MIQ9QSK6" started.
2024-09-30 00:29:50.886 +06:00 [DBG] Connection id "0HN70MIQ9QSK7" started.
2024-09-30 00:29:50.887 +06:00 [DBG] Connection id "0HN70MIQ9QSK6" received FIN.
2024-09-30 00:29:50.887 +06:00 [DBG] Connection id "0HN70MIQ9QSK7" received FIN.
2024-09-30 00:29:50.965 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:29:50.965 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:29:50.998 +06:00 [DBG] Connection id "0HN70MIQ9QSK7" stopped.
2024-09-30 00:29:50.998 +06:00 [DBG] Connection id "0HN70MIQ9QSK6" stopped.
2024-09-30 00:29:51.002 +06:00 [DBG] Connection id "0HN70MIQ9QSK6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:29:51.002 +06:00 [DBG] Connection id "0HN70MIQ9QSK7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:29:58.407 +06:00 [DBG] Connection id "0HN70MIQ9QSK8" accepted.
2024-09-30 00:29:58.517 +06:00 [DBG] Connection id "0HN70MIQ9QSK8" started.
2024-09-30 00:29:58.674 +06:00 [DBG] Connection 0HN70MIQ9QSK8 established using the following protocol: "Tls12"
2024-09-30 00:29:58.822 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:29:59.233 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:29:59.275 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:29:59.277 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:29:59.433 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:29:59.460 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:29:59.464 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 654.7138ms
2024-09-30 00:29:59.537 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:29:59.537 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:29:59.595 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 57.1001ms
2024-09-30 00:29:59.679 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 141.2923ms
2024-09-30 00:29:59.753 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:29:59.765 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:29:59.769 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:30:00.097 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 346.2911ms
2024-09-30 00:30:02.965 +06:00 [DBG] Connection id "0HN70MIQ9QSK8" received FIN.
2024-09-30 00:30:02.986 +06:00 [DBG] The connection queue processing loop for 0HN70MIQ9QSK8 completed.
2024-09-30 00:30:02.988 +06:00 [DBG] Connection id "0HN70MIQ9QSK8" is closed. The last processed stream ID was 7.
2024-09-30 00:30:02.989 +06:00 [DBG] Connection id "0HN70MIQ9QSK8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:30:02.996 +06:00 [DBG] Connection id "0HN70MIQ9QSK8" stopped.
2024-09-30 00:31:02.407 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:31:02.519 +06:00 [DBG] Hosting starting
2024-09-30 00:31:02.555 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:31:02.563 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:31:02.567 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:31:02.568 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:31:02.572 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:31:02.575 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:31:02.576 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:31:02.580 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:31:02.584 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:31:02.587 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:31:02.590 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:31:02.593 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:31:02.596 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:31:02.599 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:31:02.600 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:31:02.759 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:31:02.761 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:31:02.762 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:31:02.762 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:31:02.763 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:31:02.764 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:31:02.764 +06:00 [INF] Hosting environment: Development
2024-09-30 00:31:02.765 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:31:02.765 +06:00 [DBG] Hosting started
2024-09-30 00:31:02.782 +06:00 [DBG] Connection id "0HN70MJFNK5II" accepted.
2024-09-30 00:31:02.784 +06:00 [DBG] Connection id "0HN70MJFNK5II" started.
2024-09-30 00:31:02.799 +06:00 [DBG] Connection id "0HN70MJFNK5II" received FIN.
2024-09-30 00:31:02.804 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:31:02.820 +06:00 [DBG] Connection id "0HN70MJFNK5II" stopped.
2024-09-30 00:31:02.823 +06:00 [DBG] Connection id "0HN70MJFNK5II" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:31:15.794 +06:00 [DBG] Connection id "0HN70MJFNK5IJ" accepted.
2024-09-30 00:31:15.821 +06:00 [DBG] Connection id "0HN70MJFNK5IJ" started.
2024-09-30 00:31:16.007 +06:00 [DBG] Connection 0HN70MJFNK5IJ established using the following protocol: "Tls12"
2024-09-30 00:31:16.104 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:31:16.274 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:31:16.305 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:31:16.306 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:31:16.525 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:31:16.579 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:31:16.589 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 488.2753ms
2024-09-30 00:31:16.666 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:31:16.678 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:31:16.694 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 30.2648ms
2024-09-30 00:31:16.800 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 121.8556ms
2024-09-30 00:31:16.889 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:31:16.896 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:31:16.898 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:31:17.216 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 327.0125ms
2024-09-30 00:31:18.923 +06:00 [DBG] Connection id "0HN70MJFNK5IJ" received FIN.
2024-09-30 00:31:18.929 +06:00 [DBG] The connection queue processing loop for 0HN70MJFNK5IJ completed.
2024-09-30 00:31:18.934 +06:00 [DBG] Connection id "0HN70MJFNK5IJ" is closed. The last processed stream ID was 7.
2024-09-30 00:31:18.937 +06:00 [DBG] Connection id "0HN70MJFNK5IJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:31:18.946 +06:00 [DBG] Connection id "0HN70MJFNK5IJ" stopped.
2024-09-30 00:31:35.475 +06:00 [DBG] Connection id "0HN70MJFNK5IK" accepted.
2024-09-30 00:31:35.480 +06:00 [DBG] Connection id "0HN70MJFNK5IK" started.
2024-09-30 00:31:35.487 +06:00 [DBG] Connection 0HN70MJFNK5IK established using the following protocol: "Tls12"
2024-09-30 00:31:35.491 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - null null
2024-09-30 00:31:35.506 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/getAllCategories'
2024-09-30 00:31:35.512 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)' with route pattern 'api/Category/getAllCategories' is valid for the request path '/api/Category/getAllCategories'
2024-09-30 00:31:35.515 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:31:35.520 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:31:35.621 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:31:35.628 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:31:35.677 +06:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:31:35.685 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:31:35.686 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:31:35.687 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:31:35.689 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:31:35.690 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:31:35.692 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:31:35.698 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1) in 4.7455ms
2024-09-30 00:31:35.702 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:31:35.752 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:31:35.768 +06:00 [ERR] HTTP GET /api/Category/getAllCategories responded 500 in 242.0355 ms
2024-09-30 00:31:35.775 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - 500 null application/json; charset=utf-8 283.8441ms
2024-09-30 00:31:40.465 +06:00 [DBG] Connection id "0HN70MJFNK5IK" received FIN.
2024-09-30 00:31:40.469 +06:00 [DBG] Connection id "0HN70MJFNK5IK" is closed. The last processed stream ID was 1.
2024-09-30 00:31:40.470 +06:00 [DBG] The connection queue processing loop for 0HN70MJFNK5IK completed.
2024-09-30 00:31:40.471 +06:00 [DBG] Connection id "0HN70MJFNK5IK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:31:40.479 +06:00 [DBG] Connection id "0HN70MJFNK5IK" stopped.
2024-09-30 00:32:22.251 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:32:22.317 +06:00 [DBG] Hosting starting
2024-09-30 00:32:22.335 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:32:22.344 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:32:22.349 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:32:22.351 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:32:22.354 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:32:22.356 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:32:22.357 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:32:22.362 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:32:22.365 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:32:22.368 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:32:22.370 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:32:22.372 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:32:22.375 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:32:22.378 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:32:22.379 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:32:22.451 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:32:22.453 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:32:22.455 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:32:22.455 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:32:22.456 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:32:22.456 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:32:22.457 +06:00 [INF] Hosting environment: Development
2024-09-30 00:32:22.457 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:32:22.458 +06:00 [DBG] Hosting started
2024-09-30 00:32:22.533 +06:00 [DBG] Connection id "0HN70MK7G6A0F" accepted.
2024-09-30 00:32:22.533 +06:00 [DBG] Connection id "0HN70MK7G6A0G" accepted.
2024-09-30 00:32:22.536 +06:00 [DBG] Connection id "0HN70MK7G6A0F" started.
2024-09-30 00:32:22.537 +06:00 [DBG] Connection id "0HN70MK7G6A0G" started.
2024-09-30 00:32:22.548 +06:00 [DBG] Connection id "0HN70MK7G6A0F" received FIN.
2024-09-30 00:32:22.548 +06:00 [DBG] Connection id "0HN70MK7G6A0G" received FIN.
2024-09-30 00:32:22.552 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:32:22.552 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:32:22.562 +06:00 [DBG] Connection id "0HN70MK7G6A0F" stopped.
2024-09-30 00:32:22.562 +06:00 [DBG] Connection id "0HN70MK7G6A0G" stopped.
2024-09-30 00:32:22.564 +06:00 [DBG] Connection id "0HN70MK7G6A0F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:32:22.564 +06:00 [DBG] Connection id "0HN70MK7G6A0G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:32:22.820 +06:00 [DBG] Connection id "0HN70MK7G6A0H" accepted.
2024-09-30 00:32:22.822 +06:00 [DBG] Connection id "0HN70MK7G6A0H" started.
2024-09-30 00:32:22.906 +06:00 [DBG] Connection 0HN70MK7G6A0H established using the following protocol: "Tls12"
2024-09-30 00:32:23.006 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:32:23.088 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:32:23.104 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:32:23.105 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:32:23.204 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:32:23.223 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:32:23.227 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 222.8467ms
2024-09-30 00:32:23.302 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:32:23.302 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:32:23.314 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.2155ms
2024-09-30 00:32:23.369 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 67.2238ms
2024-09-30 00:32:23.772 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:32:23.775 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:32:23.777 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:32:23.966 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 193.9818ms
2024-09-30 00:32:26.579 +06:00 [DBG] Connection id "0HN70MK7G6A0H" received FIN.
2024-09-30 00:32:26.583 +06:00 [DBG] The connection queue processing loop for 0HN70MK7G6A0H completed.
2024-09-30 00:32:26.585 +06:00 [DBG] Connection id "0HN70MK7G6A0H" is closed. The last processed stream ID was 7.
2024-09-30 00:32:26.587 +06:00 [DBG] Connection id "0HN70MK7G6A0H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:32:26.598 +06:00 [DBG] Connection id "0HN70MK7G6A0H" stopped.
2024-09-30 00:32:37.119 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:32:37.483 +06:00 [DBG] Hosting starting
2024-09-30 00:32:37.821 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:32:37.842 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:32:37.849 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:32:37.852 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:32:37.858 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:32:37.863 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:32:37.865 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:32:37.871 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:32:37.877 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:32:37.880 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:32:37.883 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:32:37.887 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:32:37.891 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:32:37.895 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:32:37.897 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:32:38.110 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:32:38.111 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:32:38.112 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:32:38.113 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:32:38.114 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:32:38.115 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:32:38.115 +06:00 [INF] Hosting environment: Development
2024-09-30 00:32:38.116 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:32:38.117 +06:00 [DBG] Hosting started
2024-09-30 00:32:38.299 +06:00 [DBG] Connection id "0HN70MKC6HJG0" accepted.
2024-09-30 00:32:38.299 +06:00 [DBG] Connection id "0HN70MKC6HJFV" accepted.
2024-09-30 00:32:38.302 +06:00 [DBG] Connection id "0HN70MKC6HJG0" started.
2024-09-30 00:32:38.303 +06:00 [DBG] Connection id "0HN70MKC6HJFV" started.
2024-09-30 00:32:38.323 +06:00 [DBG] Connection id "0HN70MKC6HJG0" received FIN.
2024-09-30 00:32:38.323 +06:00 [DBG] Connection id "0HN70MKC6HJFV" received FIN.
2024-09-30 00:32:38.331 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:32:38.331 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:32:38.351 +06:00 [DBG] Connection id "0HN70MKC6HJFV" stopped.
2024-09-30 00:32:38.351 +06:00 [DBG] Connection id "0HN70MKC6HJG0" stopped.
2024-09-30 00:32:38.354 +06:00 [DBG] Connection id "0HN70MKC6HJG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:32:38.354 +06:00 [DBG] Connection id "0HN70MKC6HJFV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:32:53.134 +06:00 [DBG] Connection id "0HN70MKC6HJG1" accepted.
2024-09-30 00:32:53.197 +06:00 [DBG] Connection id "0HN70MKC6HJG1" started.
2024-09-30 00:32:53.357 +06:00 [DBG] Connection 0HN70MKC6HJG1 established using the following protocol: "Tls12"
2024-09-30 00:32:53.452 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:32:53.657 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:32:53.682 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:32:53.684 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:32:53.821 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:32:53.855 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:32:53.861 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 422.8926ms
2024-09-30 00:32:53.904 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:32:53.904 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:32:53.938 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 34.3916ms
2024-09-30 00:32:54.027 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 123.3392ms
2024-09-30 00:32:54.083 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:32:54.086 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:32:54.089 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:32:54.354 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 271.8862ms
2024-09-30 00:32:56.380 +06:00 [DBG] Connection id "0HN70MKC6HJG1" received FIN.
2024-09-30 00:32:56.387 +06:00 [DBG] The connection queue processing loop for 0HN70MKC6HJG1 completed.
2024-09-30 00:32:56.394 +06:00 [DBG] Connection id "0HN70MKC6HJG1" is closed. The last processed stream ID was 7.
2024-09-30 00:32:56.396 +06:00 [DBG] Connection id "0HN70MKC6HJG1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:32:56.408 +06:00 [DBG] Connection id "0HN70MKC6HJG1" stopped.
2024-09-30 00:33:23.427 +06:00 [DBG] Connection id "0HN70MKC6HJG2" accepted.
2024-09-30 00:33:23.436 +06:00 [DBG] Connection id "0HN70MKC6HJG2" started.
2024-09-30 00:33:23.454 +06:00 [DBG] Connection 0HN70MKC6HJG2 established using the following protocol: "Tls12"
2024-09-30 00:33:23.458 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - null null
2024-09-30 00:33:23.478 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/getAllCategories'
2024-09-30 00:33:23.485 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)' with route pattern 'api/Category/getAllCategories' is valid for the request path '/api/Category/getAllCategories'
2024-09-30 00:33:23.490 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:33:23.495 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:33:23.578 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:33:23.583 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:33:23.611 +06:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:33:23.614 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:33:23.616 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:33:23.618 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:33:23.622 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:33:23.623 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:33:23.625 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:33:23.631 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1) in 4.3189ms
2024-09-30 00:33:23.632 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:33:23.675 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:33:23.690 +06:00 [ERR] HTTP GET /api/Category/getAllCategories responded 500 in 188.7127 ms
2024-09-30 00:33:23.694 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - 500 null application/json; charset=utf-8 236.0389ms
2024-09-30 00:33:27.858 +06:00 [DBG] Connection id "0HN70MKC6HJG2" received FIN.
2024-09-30 00:33:27.860 +06:00 [DBG] Connection id "0HN70MKC6HJG2" is closed. The last processed stream ID was 1.
2024-09-30 00:33:27.860 +06:00 [DBG] The connection queue processing loop for 0HN70MKC6HJG2 completed.
2024-09-30 00:33:27.864 +06:00 [DBG] Connection id "0HN70MKC6HJG2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:33:27.873 +06:00 [DBG] Connection id "0HN70MKC6HJG2" stopped.
2024-09-30 00:33:30.681 +06:00 [DBG] Connection id "0HN70MKC6HJG3" accepted.
2024-09-30 00:33:30.682 +06:00 [DBG] Connection id "0HN70MKC6HJG3" started.
2024-09-30 00:33:30.697 +06:00 [DBG] Connection 0HN70MKC6HJG3 established using the following protocol: "Tls12"
2024-09-30 00:33:30.700 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories - null null
2024-09-30 00:33:30.708 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:33:30.709 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:33:30.710 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:33:30.711 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:33:30.713 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:33:30.721 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:33:30.737 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:33:30.740 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:33:30.741 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:33:30.743 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:33:30.748 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:33:30.750 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:33:30.752 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:33:30.755 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 3.1139ms
2024-09-30 00:33:30.756 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:33:30.787 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:33:30.789 +06:00 [ERR] HTTP GET /api/Category/ShowAllCategories responded 500 in 76.9903 ms
2024-09-30 00:33:30.790 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories - 500 null application/json; charset=utf-8 90.4685ms
2024-09-30 00:33:37.867 +06:00 [DBG] Connection id "0HN70MKC6HJG3" received FIN.
2024-09-30 00:33:37.869 +06:00 [DBG] Connection id "0HN70MKC6HJG3" is closed. The last processed stream ID was 1.
2024-09-30 00:33:37.869 +06:00 [DBG] The connection queue processing loop for 0HN70MKC6HJG3 completed.
2024-09-30 00:33:37.872 +06:00 [DBG] Connection id "0HN70MKC6HJG3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:33:37.882 +06:00 [DBG] Connection id "0HN70MKC6HJG3" stopped.
2024-09-30 00:33:57.908 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:33:58.012 +06:00 [DBG] Hosting starting
2024-09-30 00:33:58.047 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:33:58.056 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:33:58.060 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:33:58.060 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:33:58.064 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:33:58.067 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:33:58.068 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:33:58.072 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:33:58.075 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:33:58.078 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:33:58.080 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:33:58.084 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:33:58.087 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:33:58.090 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:33:58.092 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:33:58.261 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:33:58.268 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:33:58.270 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:33:58.270 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:33:58.271 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:33:58.271 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:33:58.272 +06:00 [INF] Hosting environment: Development
2024-09-30 00:33:58.272 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:33:58.273 +06:00 [DBG] Hosting started
2024-09-30 00:33:58.502 +06:00 [DBG] Connection id "0HN70ML43DITG" received FIN.
2024-09-30 00:33:58.502 +06:00 [DBG] Connection id "0HN70ML43DITH" accepted.
2024-09-30 00:33:58.507 +06:00 [DBG] Connection id "0HN70ML43DITH" started.
2024-09-30 00:33:58.520 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:33:58.547 +06:00 [DBG] Connection id "0HN70ML43DITH" stopped.
2024-09-30 00:33:58.549 +06:00 [DBG] Connection id "0HN70ML43DITH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:34:10.677 +06:00 [DBG] Connection id "0HN70ML43DITI" accepted.
2024-09-30 00:34:10.749 +06:00 [DBG] Connection id "0HN70ML43DITI" started.
2024-09-30 00:34:10.871 +06:00 [DBG] Connection 0HN70ML43DITI established using the following protocol: "Tls12"
2024-09-30 00:34:10.992 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:34:11.138 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:34:11.162 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:34:11.164 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:34:11.331 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:34:11.353 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:34:11.359 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 373.6719ms
2024-09-30 00:34:11.397 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:34:11.397 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:34:11.420 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 23.5789ms
2024-09-30 00:34:11.488 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 91.0418ms
2024-09-30 00:34:11.524 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:34:11.529 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:34:11.532 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:34:11.823 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 299.3607ms
2024-09-30 00:34:14.072 +06:00 [DBG] Connection id "0HN70ML43DITI" received FIN.
2024-09-30 00:34:14.077 +06:00 [DBG] The connection queue processing loop for 0HN70ML43DITI completed.
2024-09-30 00:34:14.083 +06:00 [DBG] Connection id "0HN70ML43DITI" is closed. The last processed stream ID was 7.
2024-09-30 00:34:14.085 +06:00 [DBG] Connection id "0HN70ML43DITI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:34:14.089 +06:00 [DBG] Connection id "0HN70ML43DITI" stopped.
2024-09-30 00:35:06.598 +06:00 [DBG] Connection id "0HN70ML43DITJ" accepted.
2024-09-30 00:35:06.608 +06:00 [DBG] Connection id "0HN70ML43DITJ" started.
2024-09-30 00:35:06.653 +06:00 [DBG] Connection 0HN70ML43DITJ established using the following protocol: "Tls12"
2024-09-30 00:35:06.664 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories - null null
2024-09-30 00:35:06.677 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:35:06.680 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:35:06.682 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:35:06.685 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:35:06.793 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:35:06.800 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:35:06.855 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:35:06.864 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:35:06.865 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:35:06.867 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:35:06.869 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:35:06.872 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:35:06.875 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:35:06.881 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 4.7535ms
2024-09-30 00:35:06.883 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:35:06.924 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:35:06.938 +06:00 [ERR] HTTP GET /api/Category/ShowAllCategories responded 500 in 248.3218 ms
2024-09-30 00:35:06.941 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories - 500 null application/json; charset=utf-8 276.9161ms
2024-09-30 00:35:15.396 +06:00 [DBG] Connection id "0HN70ML43DITJ" received FIN.
2024-09-30 00:35:15.401 +06:00 [DBG] Connection id "0HN70ML43DITJ" is closed. The last processed stream ID was 1.
2024-09-30 00:35:15.401 +06:00 [DBG] The connection queue processing loop for 0HN70ML43DITJ completed.
2024-09-30 00:35:15.404 +06:00 [DBG] Connection id "0HN70ML43DITJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:35:15.408 +06:00 [DBG] Connection id "0HN70ML43DITJ" stopped.
2024-09-30 00:35:16.019 +06:00 [DBG] Connection id "0HN70ML43DITK" accepted.
2024-09-30 00:35:16.021 +06:00 [DBG] Connection id "0HN70ML43DITK" started.
2024-09-30 00:35:16.026 +06:00 [DBG] Connection 0HN70ML43DITK established using the following protocol: "Tls12"
2024-09-30 00:35:16.030 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - null null
2024-09-30 00:35:16.034 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/getAllCategories'
2024-09-30 00:35:16.035 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)' with route pattern 'api/Category/getAllCategories' is valid for the request path '/api/Category/getAllCategories'
2024-09-30 00:35:16.037 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:35:16.040 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:35:16.044 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:35:16.050 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:35:16.057 +06:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:35:16.059 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:35:16.059 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:35:16.060 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:35:16.062 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:35:16.063 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:35:16.065 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:35:16.066 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1) in 1.3775ms
2024-09-30 00:35:16.067 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:35:16.088 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:35:16.090 +06:00 [ERR] HTTP GET /api/Category/getAllCategories responded 500 in 48.5676 ms
2024-09-30 00:35:16.092 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - 500 null application/json; charset=utf-8 62.273ms
2024-09-30 00:36:01.484 +06:00 [DBG] Connection id "0HN70ML43DITK" received FIN.
2024-09-30 00:36:01.488 +06:00 [DBG] Connection id "0HN70ML43DITK" is closed. The last processed stream ID was 1.
2024-09-30 00:36:01.489 +06:00 [DBG] The connection queue processing loop for 0HN70ML43DITK completed.
2024-09-30 00:36:01.494 +06:00 [DBG] Connection id "0HN70ML43DITK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:36:09.846 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:36:09.995 +06:00 [DBG] Hosting starting
2024-09-30 00:36:10.036 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:36:10.046 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:36:10.053 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:36:10.055 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:36:10.060 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:36:10.065 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:36:10.066 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:36:10.074 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:36:10.078 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:36:10.084 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:36:10.087 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:36:10.091 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:36:10.098 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:36:10.102 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:36:10.103 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:36:10.386 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:36:10.387 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:36:10.388 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:36:10.388 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:36:10.390 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:36:10.391 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:36:10.392 +06:00 [INF] Hosting environment: Development
2024-09-30 00:36:10.395 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:36:10.396 +06:00 [DBG] Hosting started
2024-09-30 00:36:10.419 +06:00 [DBG] Connection id "0HN70MMBDFA9H" received FIN.
2024-09-30 00:36:10.419 +06:00 [DBG] Connection id "0HN70MMBDFA9G" received FIN.
2024-09-30 00:36:10.428 +06:00 [DBG] Connection id "0HN70MMBDFA9H" accepted.
2024-09-30 00:36:10.428 +06:00 [DBG] Connection id "0HN70MMBDFA9G" accepted.
2024-09-30 00:36:10.432 +06:00 [DBG] Connection id "0HN70MMBDFA9H" started.
2024-09-30 00:36:10.432 +06:00 [DBG] Connection id "0HN70MMBDFA9G" started.
2024-09-30 00:36:10.453 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:36:10.453 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:36:10.477 +06:00 [DBG] Connection id "0HN70MMBDFA9H" stopped.
2024-09-30 00:36:10.477 +06:00 [DBG] Connection id "0HN70MMBDFA9G" stopped.
2024-09-30 00:36:10.482 +06:00 [DBG] Connection id "0HN70MMBDFA9H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:36:10.482 +06:00 [DBG] Connection id "0HN70MMBDFA9G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:36:11.521 +06:00 [DBG] Connection id "0HN70MMBDFA9I" accepted.
2024-09-30 00:36:11.535 +06:00 [DBG] Connection id "0HN70MMBDFA9I" started.
2024-09-30 00:36:11.673 +06:00 [DBG] Connection 0HN70MMBDFA9I established using the following protocol: "Tls12"
2024-09-30 00:36:11.732 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:36:11.810 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:36:11.827 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:36:11.831 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:36:11.924 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:36:11.949 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:36:11.954 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 227.5049ms
2024-09-30 00:36:19.519 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:36:19.519 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:36:19.538 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 18.7964ms
2024-09-30 00:36:19.616 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.3839ms
2024-09-30 00:36:19.657 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:36:19.660 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:36:19.662 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:36:19.942 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 285.2129ms
2024-09-30 00:36:22.641 +06:00 [DBG] Connection id "0HN70MMBDFA9I" received FIN.
2024-09-30 00:36:22.653 +06:00 [DBG] The connection queue processing loop for 0HN70MMBDFA9I completed.
2024-09-30 00:36:22.658 +06:00 [DBG] Connection id "0HN70MMBDFA9I" is closed. The last processed stream ID was 7.
2024-09-30 00:36:22.665 +06:00 [DBG] Connection id "0HN70MMBDFA9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:36:22.674 +06:00 [DBG] Connection id "0HN70MMBDFA9I" stopped.
2024-09-30 00:36:27.465 +06:00 [DBG] Connection id "0HN70MMBDFA9J" accepted.
2024-09-30 00:36:27.467 +06:00 [DBG] Connection id "0HN70MMBDFA9J" started.
2024-09-30 00:36:27.473 +06:00 [DBG] Connection 0HN70MMBDFA9J established using the following protocol: "Tls12"
2024-09-30 00:36:27.477 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - null null
2024-09-30 00:36:27.486 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/getAllCategories'
2024-09-30 00:36:27.494 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)' with route pattern 'api/Category/getAllCategories' is valid for the request path '/api/Category/getAllCategories'
2024-09-30 00:36:27.498 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:36:27.502 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:36:27.596 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:36:27.602 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:36:27.642 +06:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:36:27.649 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:36:27.651 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:36:27.653 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:36:27.656 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:36:27.658 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:36:27.664 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:36:27.671 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1) in 6.8848ms
2024-09-30 00:36:27.673 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:36:27.719 +06:00 [ERR] Unable to resolve service for type 'Service.Interfaces.ICategoriesService' while attempting to activate 'WebApplication1.Controllers.CategoryController'.
2024-09-30 00:36:27.734 +06:00 [ERR] HTTP GET /api/Category/getAllCategories responded 500 in 226.6479 ms
2024-09-30 00:36:27.737 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - 500 null application/json; charset=utf-8 260.5585ms
2024-09-30 00:37:01.272 +06:00 [DBG] Connection id "0HN70MMBDFA9J" received FIN.
2024-09-30 00:37:01.278 +06:00 [DBG] Connection id "0HN70MMBDFA9J" is closed. The last processed stream ID was 1.
2024-09-30 00:37:01.278 +06:00 [DBG] The connection queue processing loop for 0HN70MMBDFA9J completed.
2024-09-30 00:37:01.280 +06:00 [DBG] Connection id "0HN70MMBDFA9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:37:01.283 +06:00 [DBG] Connection id "0HN70MMBDFA9J" stopped.
2024-09-30 00:37:44.911 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:37:45.031 +06:00 [DBG] Hosting starting
2024-09-30 00:37:45.102 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:37:45.114 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:37:45.127 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:37:45.128 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:37:45.134 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:37:45.143 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:37:45.144 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:37:45.152 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:37:45.157 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:37:45.160 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:37:45.163 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:37:45.169 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:37:45.173 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:37:45.177 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:37:45.180 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:37:45.459 +06:00 [DBG] Connection id "0HN70MN7NRGNN" received FIN.
2024-09-30 00:37:45.469 +06:00 [DBG] Connection id "0HN70MN7NRGNN" accepted.
2024-09-30 00:37:45.471 +06:00 [DBG] Connection id "0HN70MN7NRGNN" started.
2024-09-30 00:37:45.476 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:37:45.482 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:37:45.483 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:37:45.483 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:37:45.484 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:37:45.486 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:37:45.487 +06:00 [INF] Hosting environment: Development
2024-09-30 00:37:45.487 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:37:45.488 +06:00 [DBG] Hosting started
2024-09-30 00:37:45.493 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:37:45.513 +06:00 [DBG] Connection id "0HN70MN7NRGNN" stopped.
2024-09-30 00:37:45.515 +06:00 [DBG] Connection id "0HN70MN7NRGNN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:37:50.455 +06:00 [DBG] Connection id "0HN70MN7NRGNO" accepted.
2024-09-30 00:37:50.460 +06:00 [DBG] Connection id "0HN70MN7NRGNO" started.
2024-09-30 00:37:50.662 +06:00 [DBG] Connection 0HN70MN7NRGNO established using the following protocol: "Tls12"
2024-09-30 00:37:50.787 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:37:50.921 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:37:50.938 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:37:50.939 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:37:51.127 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:37:51.161 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:37:51.170 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 391.2676ms
2024-09-30 00:37:51.246 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:37:51.246 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:37:51.275 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 29.399ms
2024-09-30 00:37:51.332 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.0343ms
2024-09-30 00:37:51.407 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:37:51.410 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:37:51.412 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:37:51.603 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 196.7655ms
2024-09-30 00:37:53.649 +06:00 [DBG] Connection id "0HN70MN7NRGNO" received FIN.
2024-09-30 00:37:53.653 +06:00 [DBG] The connection queue processing loop for 0HN70MN7NRGNO completed.
2024-09-30 00:37:53.658 +06:00 [DBG] Connection id "0HN70MN7NRGNO" is closed. The last processed stream ID was 7.
2024-09-30 00:37:53.661 +06:00 [DBG] Connection id "0HN70MN7NRGNO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:37:53.670 +06:00 [DBG] Connection id "0HN70MN7NRGNO" stopped.
2024-09-30 00:38:03.229 +06:00 [DBG] Connection id "0HN70MN7NRGNP" accepted.
2024-09-30 00:38:03.232 +06:00 [DBG] Connection id "0HN70MN7NRGNP" started.
2024-09-30 00:38:03.238 +06:00 [DBG] Connection 0HN70MN7NRGNP established using the following protocol: "Tls12"
2024-09-30 00:38:03.242 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - null null
2024-09-30 00:38:03.257 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/getAllCategories'
2024-09-30 00:38:03.263 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)' with route pattern 'api/Category/getAllCategories' is valid for the request path '/api/Category/getAllCategories'
2024-09-30 00:38:03.270 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:38:03.276 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:38:03.376 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:38:03.379 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:38:03.404 +06:00 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:38:03.408 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:38:03.409 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:38:03.411 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:38:03.413 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:38:03.417 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:38:03.423 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:38:03.596 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 00:38:03.718 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:38:11.016 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 00:38:11.019 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 00:38:11.312 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 00:38:11.600 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:38:11.699 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()'
2024-09-30 00:38:11.904 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Categories>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
        SELECT c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
        FROM Categories AS c), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 00:38:11.969 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:38:12.010 +06:00 [DBG] Created DbConnection. (41ms).
2024-09-30 00:38:12.017 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:38:13.126 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:38:13.133 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:38:13.142 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-30 00:38:13.148 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-09-30 00:38:13.159 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
2024-09-30 00:38:13.272 +06:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
2024-09-30 00:38:13.299 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:38:13.308 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 26ms reading results.
2024-09-30 00:38:13.320 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:38:13.336 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (16ms).
2024-09-30 00:38:24.710 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:38:24.722 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:38:24.723 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:38:24.724 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:38:24.727 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-30 00:38:24.729 +06:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-09-30 00:38:24.740 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1) in 21316.2806ms
2024-09-30 00:38:24.741 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.GetAllCategories (WebApplication1)'
2024-09-30 00:38:25.890 +06:00 [INF] HTTP GET /api/Category/getAllCategories responded 404 in 22605.0364 ms
2024-09-30 00:38:26.983 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:38:26.988 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:38:26.991 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-30 00:38:27.549 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/getAllCategories - 404 null text/plain; charset=utf-8 24307.0706ms
2024-09-30 00:38:35.217 +06:00 [DBG] Connection id "0HN70MN7NRGNP" received FIN.
2024-09-30 00:38:35.219 +06:00 [DBG] Connection id "0HN70MN7NRGNP" is closed. The last processed stream ID was 1.
2024-09-30 00:38:35.220 +06:00 [DBG] The connection queue processing loop for 0HN70MN7NRGNP completed.
2024-09-30 00:38:35.222 +06:00 [DBG] Connection id "0HN70MN7NRGNP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:38:35.244 +06:00 [DBG] Connection id "0HN70MN7NRGNP" stopped.
2024-09-30 00:40:19.465 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 00:40:19.541 +06:00 [DBG] Hosting starting
2024-09-30 00:40:19.560 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 00:40:19.576 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 00:40:19.586 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 00:40:19.594 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 00:40:19.597 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 00:40:19.600 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 00:40:19.601 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 00:40:19.606 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 00:40:19.609 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:40:19.612 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 00:40:19.614 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 00:40:19.621 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 00:40:19.625 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 00:40:19.628 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 00:40:19.629 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 00:40:19.721 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 00:40:19.723 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 00:40:19.725 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 00:40:19.726 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 00:40:19.727 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 00:40:19.728 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 00:40:19.729 +06:00 [INF] Hosting environment: Development
2024-09-30 00:40:19.729 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 00:40:19.730 +06:00 [DBG] Hosting started
2024-09-30 00:40:19.746 +06:00 [DBG] Connection id "0HN70MOLN7V9D" accepted.
2024-09-30 00:40:19.746 +06:00 [DBG] Connection id "0HN70MOLN7V9E" accepted.
2024-09-30 00:40:19.748 +06:00 [DBG] Connection id "0HN70MOLN7V9D" started.
2024-09-30 00:40:19.749 +06:00 [DBG] Connection id "0HN70MOLN7V9E" started.
2024-09-30 00:40:19.753 +06:00 [DBG] Connection id "0HN70MOLN7V9D" received FIN.
2024-09-30 00:40:19.753 +06:00 [DBG] Connection id "0HN70MOLN7V9E" received FIN.
2024-09-30 00:40:19.761 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:40:19.761 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 00:40:19.782 +06:00 [DBG] Connection id "0HN70MOLN7V9E" stopped.
2024-09-30 00:40:19.782 +06:00 [DBG] Connection id "0HN70MOLN7V9D" stopped.
2024-09-30 00:40:19.786 +06:00 [DBG] Connection id "0HN70MOLN7V9E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:40:19.786 +06:00 [DBG] Connection id "0HN70MOLN7V9D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:40:19.873 +06:00 [DBG] Connection id "0HN70MOLN7V9F" accepted.
2024-09-30 00:40:19.887 +06:00 [DBG] Connection id "0HN70MOLN7V9F" started.
2024-09-30 00:40:19.991 +06:00 [DBG] Connection 0HN70MOLN7V9F established using the following protocol: "Tls12"
2024-09-30 00:40:20.167 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 00:40:20.254 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 00:40:20.269 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 00:40:20.270 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:40:20.360 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 00:40:20.380 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 00:40:20.388 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 224.1723ms
2024-09-30 00:40:20.409 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 00:40:20.422 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 13.6148ms
2024-09-30 00:40:20.433 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 00:40:20.518 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 85.2008ms
2024-09-30 00:40:20.823 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 00:40:20.827 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 00:40:20.830 +06:00 [DBG] Request did not match any endpoints
2024-09-30 00:40:21.089 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 265.4677ms
2024-09-30 00:40:22.364 +06:00 [DBG] Connection id "0HN70MOLN7V9F" received FIN.
2024-09-30 00:40:22.369 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9F completed.
2024-09-30 00:40:22.373 +06:00 [DBG] Connection id "0HN70MOLN7V9F" is closed. The last processed stream ID was 7.
2024-09-30 00:40:22.374 +06:00 [DBG] Connection id "0HN70MOLN7V9F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:40:22.379 +06:00 [DBG] Connection id "0HN70MOLN7V9F" stopped.
2024-09-30 00:40:44.341 +06:00 [DBG] Connection id "0HN70MOLN7V9G" accepted.
2024-09-30 00:40:44.343 +06:00 [DBG] Connection id "0HN70MOLN7V9G" started.
2024-09-30 00:40:44.347 +06:00 [DBG] Connection 0HN70MOLN7V9G established using the following protocol: "Tls12"
2024-09-30 00:40:44.349 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 00:40:44.358 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 00:40:44.364 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 00:40:44.367 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 00:40:44.370 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:40:44.372 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 00:40:44.372 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:40:44.399 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 00:40:44.404 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 00:40:44.420 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 00:40:44.424 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:40:44.425 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:40:44.428 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:40:44.431 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:40:44.432 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:40:44.434 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 00:40:44.553 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 00:40:44.652 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 00:40:44.668 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 00:40:44.679 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 00:40:44.682 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 00:40:44.688 +06:00 [DBG] Connection id "0HN70MOLN7V9G", Request id "0HN70MOLN7V9G:00000001": started reading request body.
2024-09-30 00:40:44.689 +06:00 [DBG] Connection id "0HN70MOLN7V9G", Request id "0HN70MOLN7V9G:00000001": done reading request body.
2024-09-30 00:40:44.697 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 00:40:44.699 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 00:40:44.700 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 00:40:44.701 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 00:40:44.705 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 00:40:45.209 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 00:40:45.214 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 00:40:45.349 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 00:40:45.508 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:40:45.580 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 00:40:45.755 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 00:40:45.798 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:40:45.818 +06:00 [DBG] Created DbConnection. (20ms).
2024-09-30 00:40:45.823 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.569 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.573 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:40:46.579 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-30 00:40:46.585 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-30 00:40:46.592 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 00:40:46.665 +06:00 [INF] Executed DbCommand (75ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 00:40:46.686 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.694 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-09-30 00:40:46.698 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.704 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-09-30 00:40:46.818 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 00:40:46.853 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 00:40:46.857 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.860 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.862 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:40:46.863 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:40:46.863 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:40:46.864 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 00:40:46.874 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 00:40:46.878 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.879 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 00:40:46.881 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.882 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:40:46.905 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:40:46.908 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:40:46.909 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:40:46.911 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:40:46.913 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:40:46.914 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 00:40:46.922 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 2486.9949ms
2024-09-30 00:40:46.923 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 00:40:46.927 +06:00 [INF] HTTP POST /api/User/login responded 200 in 2551.1797 ms
2024-09-30 00:40:46.932 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:40:46.935 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:46.938 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 00:40:46.941 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 2591.1522ms
2024-09-30 00:40:53.319 +06:00 [DBG] Connection id "0HN70MOLN7V9H" accepted.
2024-09-30 00:40:53.321 +06:00 [DBG] Connection id "0HN70MOLN7V9H" started.
2024-09-30 00:40:53.336 +06:00 [DBG] Connection 0HN70MOLN7V9H established using the following protocol: "Tls12"
2024-09-30 00:40:53.339 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-30 00:40:53.343 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 00:40:53.345 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:40:53.346 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:40:53.347 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:40:53.347 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:40:53.348 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:40:53.349 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 9.338ms
2024-09-30 00:40:53.350 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-30 00:40:53.352 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 00:40:53.353 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 00:40:53.355 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 00:40:53.356 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:40:53.357 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:40:53.358 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:40:53.445 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:40:53 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 00:40:53.453 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 2:28:21 PM', Current time (UTC): '9/29/2024 6:40:53 PM'.
2024-09-30 00:40:53.454 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 00:40:53.456 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 00:40:53.457 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:40:53.458 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:40:53.461 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:40:53.463 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:40:53.464 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:40:53.465 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 00:40:53.470 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 00:40:53.472 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 00:40:53.474 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 00:40:53.475 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 00:40:53.477 +06:00 [DBG] Connection id "0HN70MOLN7V9H", Request id "0HN70MOLN7V9H:00000003": started reading request body.
2024-09-30 00:40:53.478 +06:00 [DBG] Connection id "0HN70MOLN7V9H", Request id "0HN70MOLN7V9H:00000003": done reading request body.
2024-09-30 00:40:53.480 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 00:40:53.481 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 00:40:53.482 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 00:40:53.483 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 00:40:53.485 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 00:40:53.527 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:40:53.532 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:40:53.532 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:40:53.533 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.534 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.534 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:40:53.535 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:40:53.536 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:40:53.536 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 00:40:53.541 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 00:40:53.543 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.544 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:40:53.544 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.545 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:40:53.621 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.631 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.634 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:40:53.635 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:40:53.636 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 00:40:53.637 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 00:40:53.641 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 00:40:53.643 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.643 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:40:53.644 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.645 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:40:53.646 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:40:53.647 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:40:53.648 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:40:53.648 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:40:53.649 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:40:53.650 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 00:40:53.651 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 185.8295ms
2024-09-30 00:40:53.652 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 00:40:53.652 +06:00 [INF] HTTP POST /api/User/login responded 200 in 294.0212 ms
2024-09-30 00:40:53.653 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:40:53.654 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:40:53.655 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:40:53.657 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 306.4023ms
2024-09-30 00:41:17.439 +06:00 [DBG] Connection id "0HN70MOLN7V9G" received FIN.
2024-09-30 00:41:17.439 +06:00 [DBG] Connection id "0HN70MOLN7V9H" received FIN.
2024-09-30 00:41:17.443 +06:00 [DBG] Connection id "0HN70MOLN7V9G" is closed. The last processed stream ID was 1.
2024-09-30 00:41:17.444 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9G completed.
2024-09-30 00:41:17.444 +06:00 [DBG] Connection id "0HN70MOLN7V9H" is closed. The last processed stream ID was 3.
2024-09-30 00:41:17.444 +06:00 [DBG] Connection id "0HN70MOLN7V9H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:41:17.445 +06:00 [DBG] Connection id "0HN70MOLN7V9G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:41:17.448 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9H completed.
2024-09-30 00:41:17.450 +06:00 [DBG] Connection id "0HN70MOLN7V9H" stopped.
2024-09-30 00:41:17.454 +06:00 [DBG] Connection id "0HN70MOLN7V9G" stopped.
2024-09-30 00:41:20.511 +06:00 [DBG] Connection id "0HN70MOLN7V9I" accepted.
2024-09-30 00:41:20.513 +06:00 [DBG] Connection id "0HN70MOLN7V9I" started.
2024-09-30 00:41:20.517 +06:00 [DBG] Connection 0HN70MOLN7V9I established using the following protocol: "Tls12"
2024-09-30 00:41:20.521 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:41:20.526 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:41:20.528 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:41:20.529 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:41:20.530 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:41:20.531 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:41:20.533 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:41:20.534 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 13.1568ms
2024-09-30 00:41:20.538 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:41:20.547 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:41:20.548 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:41:20.550 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:41:20.551 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:41:20.553 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:41:20.554 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:41:20.580 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:41:20.583 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:41:20.586 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:41:20.595 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:41:20.597 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:41:20.597 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:41:20.598 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:41:20.600 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:41:20.601 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:41:20.602 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:41:20.604 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:41:20.611 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:41:20.613 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:41:20.619 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:41:20.624 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:41:20.628 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:41:20.631 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:41:20.633 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:41:20.635 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:41:20.638 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:41:20.640 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:41:20.642 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:20.643 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:20.644 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:41:20.647 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:20.699 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:41:20.712 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .Count()'
2024-09-30 00:41:20.741 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Categories AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 00:41:20.748 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:41:20.748 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:41:20.749 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:20.751 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:20.751 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:41:20.752 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:41:20.752 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:41:20.753 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:41:20.760 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:41:20.763 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:20.764 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 00:41:20.764 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:20.765 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:41:21.016 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .OrderBy( => .Id)
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-30 00:41:21.028 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Categories>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
        SELECT t.Id, t.CreatedAtUtc, t.Name, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
            FROM Categories AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        ORDER BY t.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 00:41:21.032 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:21.033 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:21.034 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:41:21.034 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:41:21.035 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:41:21.036 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:41:21.043 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:41:21.045 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:21.045 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:41:21.046 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:21.047 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:41:21.049 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:41:21.051 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:41:21.052 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-30 00:41:21.053 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-30 00:41:21.054 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-30 00:41:21.065 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 463.0651ms
2024-09-30 00:41:21.066 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:41:21.067 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 404 in 511.7332 ms
2024-09-30 00:41:21.068 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:41:21.069 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:21.070 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:41:21.071 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 null application/problem+json; charset=utf-8 533.4618ms
2024-09-30 00:41:22.930 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:41:22.934 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 00:41:22.937 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:41:22.938 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:41:22.939 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:41:22.940 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:41:22.942 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:41:22.943 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 13.4566ms
2024-09-30 00:41:22.946 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:41:22.955 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 00:41:22.960 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 00:41:22.989 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 00:41:22.991 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:41:22.992 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:41:23.000 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:41:23.003 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:41:23.005 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:41:23.008 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 00:41:23.015 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 00:41:23.017 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:41:23.019 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:41:23.020 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:41:23.025 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:41:23.027 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:41:23.030 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 00:41:23.032 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 00:41:23.033 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:41:23.034 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:41:23.035 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:41:23.036 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:41:23.037 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:41:23.039 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:41:23.040 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:41:23.042 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:41:23.043 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:41:23.045 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:41:23.046 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:23.047 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:23.048 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:41:23.049 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:23.053 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:41:23.054 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Count()'
2024-09-30 00:41:23.060 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM BussinessEntities AS b), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 00:41:23.062 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:41:23.062 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:41:23.063 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.064 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.066 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:41:23.066 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:41:23.067 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:41:23.068 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 00:41:23.076 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 00:41:23.078 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.078 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:41:23.080 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.080 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:41:23.083 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .OrderBy( => .Id)
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-30 00:41:23.089 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT t.Id, t.Address, t.CreatedAtUtc, t.Email, t.Name, t.Type, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            ORDER BY b.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        ORDER BY t.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 00:41:23.093 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.094 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.095 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:41:23.095 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:41:23.096 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:41:23.098 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY [b].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:41:23.103 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY [b].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:41:23.123 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:41:23.143 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:41:23.145 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:41:23.146 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:41:23.146 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:41:23.147 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.148 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 42ms reading results.
2024-09-30 00:41:23.149 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.149 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:41:23.158 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:41:23.159 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:41:23.160 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:41:23.160 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:41:23.161 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:41:23.161 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:41:23.168 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 137.9167ms
2024-09-30 00:41:23.169 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 00:41:23.170 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 167.9770 ms
2024-09-30 00:41:23.171 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:41:23.172 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:23.173 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:41:23.174 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 227.2579ms
2024-09-30 00:41:25.688 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:41:25.693 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:41:25.695 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:41:25.697 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:41:25.700 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:41:25.702 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:41:25.703 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:41:25.708 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 20.6987ms
2024-09-30 00:41:25.711 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:41:25.719 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:41:25.721 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:41:25.725 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:41:25.727 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:41:25.729 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:41:25.731 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:41:25.733 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:41:25.734 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:41:25.736 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:41:25.739 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:41:25.743 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:41:25.746 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:41:25.748 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:41:25.754 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:41:25.756 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:41:25.759 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:41:25.764 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:41:25.766 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:41:25.768 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:41:25.772 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:41:25.775 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:41:25.778 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:41:25.779 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:41:25.780 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:41:25.782 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:41:25.783 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:41:25.785 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:41:25.785 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:25.786 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:25.787 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:41:25.788 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:41:25.791 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:41:25.794 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:41:25.794 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:41:25.795 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.796 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.796 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:41:25.797 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:41:25.797 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:41:25.798 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:41:25.802 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:41:25.804 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.805 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:41:25.807 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.808 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:41:25.809 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.810 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.811 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:41:25.811 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:41:25.812 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:41:25.813 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:41:25.816 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:41:25.817 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.818 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:41:25.818 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.819 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:41:25.820 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:41:25.821 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:41:25.822 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-30 00:41:25.824 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-30 00:41:25.825 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-30 00:41:25.825 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 66.3164ms
2024-09-30 00:41:25.827 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:41:25.827 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 404 in 94.9323 ms
2024-09-30 00:41:25.829 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:41:25.830 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:41:25.831 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:41:25.832 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 null application/problem+json; charset=utf-8 120.5124ms
2024-09-30 00:41:27.450 +06:00 [DBG] Connection id "0HN70MOLN7V9I" received FIN.
2024-09-30 00:41:27.451 +06:00 [DBG] Connection id "0HN70MOLN7V9I" is closed. The last processed stream ID was 11.
2024-09-30 00:41:27.451 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9I completed.
2024-09-30 00:41:27.452 +06:00 [DBG] Connection id "0HN70MOLN7V9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:41:27.464 +06:00 [DBG] Connection id "0HN70MOLN7V9I" stopped.
2024-09-30 00:42:03.346 +06:00 [DBG] Connection id "0HN70MOLN7V9J" accepted.
2024-09-30 00:42:03.347 +06:00 [DBG] Connection id "0HN70MOLN7V9J" started.
2024-09-30 00:42:03.350 +06:00 [DBG] Connection 0HN70MOLN7V9J established using the following protocol: "Tls12"
2024-09-30 00:42:03.352 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:42:03.354 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:03.355 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:42:03.356 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:03.357 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:03.358 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:03.359 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:42:03.360 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 7.8616ms
2024-09-30 00:42:03.362 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:42:03.366 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:03.367 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:03.369 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:03.371 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:03.371 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:03.372 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:03.374 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:42:03.375 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:42:03.376 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:03.377 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:42:03.379 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:42:03.381 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:42:03.382 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:42:03.386 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:42:03.387 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:42:03.389 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:03.394 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:03.396 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:03.397 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:42:03.398 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:42:03.400 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:42:03.401 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:42:03.403 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:42:03.404 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:42:03.406 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:42:03.408 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:42:03.409 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:42:03.410 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:03.411 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:03.412 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:03.414 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:03.416 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:42:03.419 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:42:03.420 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:42:03.421 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.423 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.423 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:03.424 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:03.425 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:03.427 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:03.432 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:03.439 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.440 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:42:03.442 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.443 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:42:03.445 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.447 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.447 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:03.448 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:03.449 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:03.451 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:03.456 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:03.458 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.459 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:42:03.460 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.460 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:42:03.461 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:42:03.463 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:42:03.464 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-30 00:42:03.465 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-30 00:42:03.466 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-30 00:42:03.469 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 80.137ms
2024-09-30 00:42:03.470 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:03.471 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 404 in 97.5105 ms
2024-09-30 00:42:03.472 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:42:03.473 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:03.473 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:42:03.474 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 null application/problem+json; charset=utf-8 111.8692ms
2024-09-30 00:42:07.521 +06:00 [DBG] Connection id "0HN70MOLN7V9J" received FIN.
2024-09-30 00:42:07.525 +06:00 [DBG] Connection id "0HN70MOLN7V9J" is closed. The last processed stream ID was 3.
2024-09-30 00:42:07.525 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9J completed.
2024-09-30 00:42:07.526 +06:00 [DBG] Connection id "0HN70MOLN7V9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:42:07.534 +06:00 [DBG] Connection id "0HN70MOLN7V9J" stopped.
2024-09-30 00:42:25.551 +06:00 [DBG] Connection id "0HN70MOLN7V9K" accepted.
2024-09-30 00:42:25.552 +06:00 [DBG] Connection id "0HN70MOLN7V9K" started.
2024-09-30 00:42:25.555 +06:00 [DBG] Connection 0HN70MOLN7V9K established using the following protocol: "Tls12"
2024-09-30 00:42:25.557 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:42:25.559 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:25.560 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:42:25.561 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:25.562 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:25.563 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:25.564 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:42:25.565 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 8.2109ms
2024-09-30 00:42:25.567 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:42:25.570 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:25.571 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:25.572 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:25.574 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:25.574 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:25.575 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:25.578 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:42:25.579 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:42:25.580 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:25.582 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:42:25.584 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:42:25.586 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:42:25.587 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:42:25.588 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:42:25.589 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:42:25.592 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:25.595 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:25.598 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:25.601 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:42:25.603 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:42:25.604 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:42:25.605 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:42:25.607 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:42:25.609 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:42:25.610 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:42:25.611 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:42:25.611 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:42:25.612 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:25.615 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:25.616 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:25.617 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:25.619 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:42:25.620 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:42:25.620 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:42:25.621 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.622 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.622 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:25.623 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:25.623 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:25.624 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:25.627 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:25.628 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.628 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:42:25.632 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.633 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:42:25.634 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.635 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.636 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:25.636 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:25.637 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:25.638 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:25.653 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:25.655 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.656 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:42:25.657 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.658 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:42:25.659 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:42:25.662 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:42:25.663 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-30 00:42:25.668 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-30 00:42:25.669 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-30 00:42:25.670 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 77.8791ms
2024-09-30 00:42:25.672 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:25.673 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 404 in 96.1428 ms
2024-09-30 00:42:25.674 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:42:25.675 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:25.676 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:42:25.679 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 null application/problem+json; charset=utf-8 111.1739ms
2024-09-30 00:42:27.548 +06:00 [DBG] Connection id "0HN70MOLN7V9K" received FIN.
2024-09-30 00:42:27.550 +06:00 [DBG] Connection id "0HN70MOLN7V9K" is closed. The last processed stream ID was 3.
2024-09-30 00:42:27.550 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9K completed.
2024-09-30 00:42:27.552 +06:00 [DBG] Connection id "0HN70MOLN7V9K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:42:27.555 +06:00 [DBG] Connection id "0HN70MOLN7V9K" stopped.
2024-09-30 00:42:36.593 +06:00 [DBG] Connection id "0HN70MOLN7V9L" accepted.
2024-09-30 00:42:36.595 +06:00 [DBG] Connection id "0HN70MOLN7V9L" started.
2024-09-30 00:42:36.597 +06:00 [DBG] Connection 0HN70MOLN7V9L established using the following protocol: "Tls12"
2024-09-30 00:42:36.601 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - null null
2024-09-30 00:42:36.601 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:42:36.606 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:42:36.608 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:36.609 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:42:36.609 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:42:36.610 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:36.610 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:36.611 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:36.612 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:36.613 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:36.614 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:36.614 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:42:36.615 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:42:36.615 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - 204 null null 14.691ms
2024-09-30 00:42:36.616 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 15.244ms
2024-09-30 00:42:36.617 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Category/AddCategories - application/json 19
2024-09-30 00:42:36.617 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:42:36.623 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:42:36.624 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:36.625 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)' with route pattern 'api/Category/AddCategories' is valid for the request path '/api/Category/AddCategories'
2024-09-30 00:42:36.625 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:36.626 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:42:36.627 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:36.628 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:36.629 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:36.629 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:36.630 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:36.631 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:36.631 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:36.632 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:42:36.632 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:42:36.633 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:42:36.633 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:42:36.635 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:36.636 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:42:36.638 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:42:36.639 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:42:36.640 +06:00 [DBG] Authorization was successful.
2024-09-30 00:42:36.640 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:42:36.641 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:42:36.642 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:42:36.643 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:42:36.644 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:36.645 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:36.646 +06:00 [INF] Route matched with {action = "AddCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCategories(Service.dtos.AddCategoryDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:42:36.646 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:36.647 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:42:36.648 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:42:36.649 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:42:36.650 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:42:36.651 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:42:36.652 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:42:36.653 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:42:36.654 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:42:36.655 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:42:36.656 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:42:36.658 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:36.658 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:42:36.659 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:36.660 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:42:36.661 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:42:36.662 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:42:36.663 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' using the name '' in request data ...
2024-09-30 00:42:36.664 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:42:36.665 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 00:42:36.666 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:36.667 +06:00 [DBG] Connection id "0HN70MOLN7V9L", Request id "0HN70MOLN7V9L:00000005": started reading request body.
2024-09-30 00:42:36.668 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:36.668 +06:00 [DBG] Connection id "0HN70MOLN7V9L", Request id "0HN70MOLN7V9L:00000005": done reading request body.
2024-09-30 00:42:36.669 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:36.671 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddCategoryDto'
2024-09-30 00:42:36.671 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:36.672 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:42:36.673 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:42:36.673 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:42:36.675 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:42:36.675 +06:00 [DBG] Attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:42:36.676 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 00:42:36.677 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.677 +06:00 [DBG] Done attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:42:36.678 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.679 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:36.680 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:36.681 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:36.682 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:36.681 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:42:36.684 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:36.685 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __categoryDto_Name_0)'
2024-09-30 00:42:36.686 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.687 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:42:36.688 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.689 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:42:36.690 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Categories>(
    asyncEnumerable: new SingleQueryingEnumerable<Categories>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
            SELECT TOP(1) c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
            FROM Categories AS c
            WHERE c.Name == @__categoryDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 00:42:36.690 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.692 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:42:36.692 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.693 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:36.694 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:36.693 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 00:42:36.695 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:36.695 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.696 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:36.701 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:36.703 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.703 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.704 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:42:36.704 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:36.705 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.706 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:36.707 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:42:36.707 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 00:42:36.708 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:42:36.709 +06:00 [DBG] Executing DbCommand [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:42:36.710 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:42:36.712 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-30 00:42:36.714 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-30 00:42:36.715 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-30 00:42:36.715 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:42:36.716 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 71.6375ms
2024-09-30 00:42:36.718 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.718 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:36.719 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:42:36.720 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 404 in 87.4007 ms
2024-09-30 00:42:36.721 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.722 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:42:36.723 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-30 00:42:36.723 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.725 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:42:36.726 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 404 null application/problem+json; charset=utf-8 108.5966ms
2024-09-30 00:42:36.743 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Categories.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:42:36.759 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:42:36.763 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 00:42:36.766 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:42:36.774 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:42:36.776 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:42:36.778 +06:00 [DBG] The unchanged property 'Categories.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:42:36.779 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:42:36.823 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.825 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.827 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:36.828 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:36.830 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 00:42:36.831 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:42:36.853 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:42:36.861 +06:00 [DBG] The foreign key property 'Categories.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:42:36.867 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.868 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 13ms reading results.
2024-09-30 00:42:36.869 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.870 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:42:36.877 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:42:36.879 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 00:42:36.881 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:42:36.883 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:42:36.883 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:42:36.884 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:42:36.884 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:42:36.885 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowCategoryDto'.
2024-09-30 00:42:36.887 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1) in 229.1194ms
2024-09-30 00:42:36.888 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:42:36.889 +06:00 [INF] HTTP POST /api/Category/AddCategories responded 200 in 257.0862 ms
2024-09-30 00:42:36.890 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:42:36.891 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:36.891 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:42:36.892 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Category/AddCategories - 200 null application/json; charset=utf-8 275.2406ms
2024-09-30 00:42:37.571 +06:00 [DBG] Connection id "0HN70MOLN7V9L" received FIN.
2024-09-30 00:42:37.575 +06:00 [DBG] Connection id "0HN70MOLN7V9L" is closed. The last processed stream ID was 7.
2024-09-30 00:42:37.575 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9L completed.
2024-09-30 00:42:37.576 +06:00 [DBG] Connection id "0HN70MOLN7V9L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:42:37.585 +06:00 [DBG] Connection id "0HN70MOLN7V9L" stopped.
2024-09-30 00:42:40.543 +06:00 [DBG] Connection id "0HN70MOLN7V9M" accepted.
2024-09-30 00:42:40.546 +06:00 [DBG] Connection id "0HN70MOLN7V9M" started.
2024-09-30 00:42:40.552 +06:00 [DBG] Connection 0HN70MOLN7V9M established using the following protocol: "Tls12"
2024-09-30 00:42:40.555 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:42:40.558 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:40.559 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:42:40.560 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:40.561 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:42:40.564 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:42:40.565 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:42:40.566 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:42:40.567 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:42:40.568 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:40.569 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:42:40.571 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:42:40.572 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:42:40.573 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:42:40.575 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:42:40.576 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:42:40.577 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:40.580 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:42:40.581 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:40.582 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:42:40.583 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:42:40.584 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:42:40.585 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:42:40.587 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:42:40.588 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:42:40.591 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:42:40.592 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:42:40.594 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:42:40.597 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:40.598 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:40.599 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:42:40.600 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:42:40.601 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:42:40.603 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:42:40.603 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:42:40.604 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.605 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.606 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:40.607 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:40.608 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 00:42:40.609 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:40.616 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:42:40.618 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.619 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:42:40.620 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.621 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:42:40.622 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.623 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.624 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:42:40.624 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:42:40.625 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:42:40.626 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:40.631 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:42:40.634 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:42:40.635 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.637 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 00:42:40.638 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.640 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:42:40.647 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:42:40.650 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:42:40.651 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:42:40.652 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:42:40.652 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:42:40.654 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:42:40.664 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 87.1385ms
2024-09-30 00:42:40.668 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:42:40.669 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 103.2904 ms
2024-09-30 00:42:40.673 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:42:40.675 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:42:40.676 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:42:40.678 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 122.2618ms
2024-09-30 00:42:47.595 +06:00 [DBG] Connection id "0HN70MOLN7V9M" received FIN.
2024-09-30 00:42:47.600 +06:00 [DBG] Connection id "0HN70MOLN7V9M" is closed. The last processed stream ID was 1.
2024-09-30 00:42:47.600 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9M completed.
2024-09-30 00:42:47.601 +06:00 [DBG] Connection id "0HN70MOLN7V9M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:42:47.609 +06:00 [DBG] Connection id "0HN70MOLN7V9M" stopped.
2024-09-30 00:43:10.914 +06:00 [DBG] Connection id "0HN70MOLN7V9N" accepted.
2024-09-30 00:43:10.918 +06:00 [DBG] Connection id "0HN70MOLN7V9N" started.
2024-09-30 00:43:10.919 +06:00 [DBG] Connection 0HN70MOLN7V9N established using the following protocol: "Tls12"
2024-09-30 00:43:10.921 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:10.922 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:10.923 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:10.924 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:10.924 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:10.925 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:10.926 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:10.926 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 5.6651ms
2024-09-30 00:43:10.929 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:10.931 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:10.932 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:10.934 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:10.935 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:10.936 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:10.936 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:10.937 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:10.938 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:10.938 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:10.939 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:10.940 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:10.941 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:10.942 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:10.945 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:10.946 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:10.947 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:10.948 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:10.949 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:10.950 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:43:10.951 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:43:10.952 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:43:10.953 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:43:10.954 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:43:10.955 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:43:10.956 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:43:10.958 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:43:10.959 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:43:10.960 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:10.961 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:10.961 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:10.962 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:10.964 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:10.965 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:10.965 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:10.966 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.967 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.967 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:10.968 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:10.969 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:10.969 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:10.972 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:10.974 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.975 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:43:10.976 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.977 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:10.978 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.980 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.981 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:10.982 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:10.983 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:10.983 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:10.987 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:10.989 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:10.990 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.991 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:43:10.993 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:10.994 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:43:10.995 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:10.996 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:10.997 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:10.997 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:10.998 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:10.999 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:43:11.000 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 53.1231ms
2024-09-30 00:43:11.001 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:11.001 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 64.7760 ms
2024-09-30 00:43:11.002 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:11.003 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:11.004 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:43:11.005 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 76.099ms
2024-09-30 00:43:15.933 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:15.936 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:15.936 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:15.937 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:15.938 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:15.939 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:15.943 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:15.947 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 13.4429ms
2024-09-30 00:43:15.949 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:15.952 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:15.953 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:15.956 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:15.959 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:15.961 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:15.961 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:15.963 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:15.964 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:15.966 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:15.968 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:15.970 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:15.972 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:15.976 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:15.979 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:15.981 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:15.982 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:15.985 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:15.987 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:15.989 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:43:15.991 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:43:15.995 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:43:15.996 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:43:15.998 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:43:16.000 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:43:16.001 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:43:16.002 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:43:16.004 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:43:16.005 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:16.011 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:16.012 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:16.014 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:16.017 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:16.019 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:16.020 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 00:43:16.021 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.023 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.026 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:16.027 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:16.029 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 00:43:16.030 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:16.036 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:16.041 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.044 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-30 00:43:16.047 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.049 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:43:16.051 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.052 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.053 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:16.054 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:16.055 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 00:43:16.057 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:16.063 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:16.066 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:16.068 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.069 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 00:43:16.070 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.071 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:43:16.072 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:16.076 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:16.077 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:16.078 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:16.079 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:16.083 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:43:16.086 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 103.7124ms
2024-09-30 00:43:16.088 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:16.091 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 128.5480 ms
2024-09-30 00:43:16.094 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:16.099 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:16.101 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:43:16.103 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 154.2869ms
2024-09-30 00:43:17.646 +06:00 [DBG] Connection id "0HN70MOLN7V9N" received FIN.
2024-09-30 00:43:17.650 +06:00 [DBG] Connection id "0HN70MOLN7V9N" is closed. The last processed stream ID was 7.
2024-09-30 00:43:17.650 +06:00 [DBG] Connection id "0HN70MOLN7V9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:43:17.652 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9N completed.
2024-09-30 00:43:17.652 +06:00 [DBG] Connection id "0HN70MOLN7V9N" stopped.
2024-09-30 00:43:24.403 +06:00 [DBG] Connection id "0HN70MOLN7V9O" accepted.
2024-09-30 00:43:24.405 +06:00 [DBG] Connection id "0HN70MOLN7V9O" started.
2024-09-30 00:43:24.408 +06:00 [DBG] Connection 0HN70MOLN7V9O established using the following protocol: "Tls12"
2024-09-30 00:43:24.413 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - null null
2024-09-30 00:43:24.414 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:43:24.415 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:24.416 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:24.416 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:24.417 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:24.417 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:24.418 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - 204 null null 5.0936ms
2024-09-30 00:43:24.419 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Category/AddCategories - application/json 15
2024-09-30 00:43:24.421 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:43:24.422 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)' with route pattern 'api/Category/AddCategories' is valid for the request path '/api/Category/AddCategories'
2024-09-30 00:43:24.424 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:24.424 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:24.425 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:24.426 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:24.427 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:24.427 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:24.429 +06:00 [DBG] Authorization was successful.
2024-09-30 00:43:24.429 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:24.430 +06:00 [INF] Route matched with {action = "AddCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCategories(Service.dtos.AddCategoryDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:24.431 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:24.432 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:24.433 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:24.434 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:24.435 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:24.436 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:24.436 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:24.437 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:43:24.438 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' using the name '' in request data ...
2024-09-30 00:43:24.439 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 00:43:24.440 +06:00 [DBG] Connection id "0HN70MOLN7V9O", Request id "0HN70MOLN7V9O:00000003": started reading request body.
2024-09-30 00:43:24.441 +06:00 [DBG] Connection id "0HN70MOLN7V9O", Request id "0HN70MOLN7V9O:00000003": done reading request body.
2024-09-30 00:43:24.442 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddCategoryDto'
2024-09-30 00:43:24.442 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:24.443 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:24.443 +06:00 [DBG] Attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:43:24.444 +06:00 [DBG] Done attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:24.445 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:24.447 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:24.447 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:24.448 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.449 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.449 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:24.450 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:24.451 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:24.451 +06:00 [DBG] Executing DbCommand [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:43:24.475 +06:00 [INF] Executed DbCommand (24ms) [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:43:24.477 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.478 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:43:24.479 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.480 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:24.481 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Categories.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:24.482 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:24.483 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 00:43:24.483 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:24.484 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:24.484 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:24.485 +06:00 [DBG] The unchanged property 'Categories.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:43:24.486 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:24.487 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.487 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.489 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:24.489 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:24.490 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:24.491 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:43:24.494 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:43:24.496 +06:00 [DBG] The foreign key property 'Categories.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:43:24.497 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.498 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:43:24.499 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.499 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:24.500 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:24.501 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 00:43:24.502 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:24.503 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:24.504 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:24.505 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:24.505 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:24.506 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowCategoryDto'.
2024-09-30 00:43:24.507 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1) in 71.2255ms
2024-09-30 00:43:24.508 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:24.508 +06:00 [INF] HTTP POST /api/Category/AddCategories responded 200 in 81.8869 ms
2024-09-30 00:43:24.509 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:24.510 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.511 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:43:24.512 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Category/AddCategories - 200 null application/json; charset=utf-8 93.2773ms
2024-09-30 00:43:24.513 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:24.516 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:24.516 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:24.517 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:24.517 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:24.518 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:24.518 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:24.519 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 6.0482ms
2024-09-30 00:43:24.520 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:24.523 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:24.523 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:24.525 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:24.525 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:24.526 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:24.526 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:24.527 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:24.527 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:24.528 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:24.529 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:24.530 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:24.531 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:24.531 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:24.533 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:24.533 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:24.534 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:24.535 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:24.537 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:24.537 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:43:24.539 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:43:24.540 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:43:24.541 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:43:24.543 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:43:24.544 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:43:24.545 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:43:24.545 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:43:24.546 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:43:24.547 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:24.548 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:24.548 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:24.549 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:24.551 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:24.552 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:24.552 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:24.553 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.554 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.554 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:24.555 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:24.556 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 00:43:24.557 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:24.560 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:24.561 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.562 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:43:24.563 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.563 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:24.564 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.565 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.566 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:24.567 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:24.568 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:24.568 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:24.571 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:24.574 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:24.575 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:24.576 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.577 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 00:43:24.578 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.579 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:24.580 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:24.582 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:24.582 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:24.583 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:24.583 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:24.584 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:43:24.585 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 51.1416ms
2024-09-30 00:43:24.586 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:24.587 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 60.4459 ms
2024-09-30 00:43:24.589 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:24.591 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:24.592 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:43:24.594 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 73.2226ms
2024-09-30 00:43:27.650 +06:00 [DBG] Connection id "0HN70MOLN7V9O" received FIN.
2024-09-30 00:43:27.654 +06:00 [DBG] Connection id "0HN70MOLN7V9O" is closed. The last processed stream ID was 7.
2024-09-30 00:43:27.654 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9O completed.
2024-09-30 00:43:27.655 +06:00 [DBG] Connection id "0HN70MOLN7V9O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:43:27.664 +06:00 [DBG] Connection id "0HN70MOLN7V9O" stopped.
2024-09-30 00:43:33.792 +06:00 [DBG] Connection id "0HN70MOLN7V9P" accepted.
2024-09-30 00:43:33.794 +06:00 [DBG] Connection id "0HN70MOLN7V9P" started.
2024-09-30 00:43:33.796 +06:00 [DBG] Connection 0HN70MOLN7V9P established using the following protocol: "Tls12"
2024-09-30 00:43:33.798 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - null null
2024-09-30 00:43:33.803 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:43:33.804 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:33.805 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:33.806 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:33.807 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:33.807 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:33.808 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - 204 null null 9.7824ms
2024-09-30 00:43:33.809 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Category/AddCategories - application/json 17
2024-09-30 00:43:33.812 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:43:33.813 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)' with route pattern 'api/Category/AddCategories' is valid for the request path '/api/Category/AddCategories'
2024-09-30 00:43:33.814 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:33.814 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:33.815 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:33.816 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:33.817 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:33.818 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:33.819 +06:00 [DBG] Authorization was successful.
2024-09-30 00:43:33.820 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:33.821 +06:00 [INF] Route matched with {action = "AddCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCategories(Service.dtos.AddCategoryDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:33.822 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:33.823 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:33.824 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:33.825 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:33.826 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:33.827 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:33.828 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:33.829 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:43:33.830 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' using the name '' in request data ...
2024-09-30 00:43:33.830 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 00:43:33.832 +06:00 [DBG] Connection id "0HN70MOLN7V9P", Request id "0HN70MOLN7V9P:00000003": started reading request body.
2024-09-30 00:43:33.833 +06:00 [DBG] Connection id "0HN70MOLN7V9P", Request id "0HN70MOLN7V9P:00000003": done reading request body.
2024-09-30 00:43:33.834 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddCategoryDto'
2024-09-30 00:43:33.834 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:33.835 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:33.836 +06:00 [DBG] Attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:43:33.836 +06:00 [DBG] Done attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:33.837 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:33.839 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:33.839 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:33.840 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.840 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.841 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:33.842 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:33.842 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:33.843 +06:00 [DBG] Executing DbCommand [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:43:33.847 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:43:33.849 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.850 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:43:33.851 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.852 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:33.853 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Categories.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:33.853 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:33.854 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 00:43:33.855 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:33.855 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:33.856 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:33.856 +06:00 [DBG] The unchanged property 'Categories.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:43:33.857 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:33.858 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.859 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.860 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:33.860 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:33.861 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:33.862 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:43:33.866 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:43:33.867 +06:00 [DBG] The foreign key property 'Categories.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:43:33.868 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.869 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:43:33.870 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.871 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:33.871 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:33.872 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 00:43:33.873 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:33.875 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:33.875 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:33.876 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:33.877 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:33.878 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowCategoryDto'.
2024-09-30 00:43:33.879 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1) in 51.5172ms
2024-09-30 00:43:33.880 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:33.880 +06:00 [INF] HTTP POST /api/Category/AddCategories responded 200 in 63.2438 ms
2024-09-30 00:43:33.881 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:33.882 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.883 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:43:33.884 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Category/AddCategories - 200 null application/json; charset=utf-8 74.7432ms
2024-09-30 00:43:33.885 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:33.889 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:33.889 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:33.890 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:33.891 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:33.892 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:33.892 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:33.893 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 8.526ms
2024-09-30 00:43:33.894 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:33.897 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:33.897 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:33.898 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:33.899 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:33.899 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:33.900 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:33.901 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:33.901 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:33.902 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:33.902 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:33.903 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:33.904 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:33.905 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:33.907 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:33.908 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:33.909 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:33.910 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:33.910 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:33.911 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:43:33.912 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:43:33.913 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:43:33.914 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:43:33.915 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:43:33.916 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:43:33.917 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:43:33.918 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:43:33.919 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:43:33.920 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:33.920 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:33.921 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:33.922 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:33.923 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:33.925 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:33.925 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:33.926 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.927 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.928 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:33.928 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:33.929 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:33.929 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:33.931 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:33.933 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.933 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:43:33.934 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.935 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:33.936 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.936 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.937 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:33.937 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:33.938 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:33.939 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:33.942 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:33.943 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:33.944 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:33.945 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:33.945 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.946 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 00:43:33.947 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.948 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:33.948 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:33.950 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:33.950 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:33.951 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:33.951 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:33.952 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:43:33.953 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 43.856ms
2024-09-30 00:43:33.954 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:33.954 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 54.0691 ms
2024-09-30 00:43:33.955 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:33.956 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:33.957 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:43:33.958 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 63.3487ms
2024-09-30 00:43:37.663 +06:00 [DBG] Connection id "0HN70MOLN7V9P" received FIN.
2024-09-30 00:43:37.666 +06:00 [DBG] Connection id "0HN70MOLN7V9P" is closed. The last processed stream ID was 7.
2024-09-30 00:43:37.667 +06:00 [DBG] Connection id "0HN70MOLN7V9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:43:37.666 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9P completed.
2024-09-30 00:43:37.670 +06:00 [DBG] Connection id "0HN70MOLN7V9P" stopped.
2024-09-30 00:43:48.354 +06:00 [DBG] Connection id "0HN70MOLN7V9Q" accepted.
2024-09-30 00:43:48.357 +06:00 [DBG] Connection id "0HN70MOLN7V9Q" started.
2024-09-30 00:43:48.359 +06:00 [DBG] Connection 0HN70MOLN7V9Q established using the following protocol: "Tls12"
2024-09-30 00:43:48.360 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/DeleteCategories/1 - null null
2024-09-30 00:43:48.362 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/DeleteCategories/1'
2024-09-30 00:43:48.363 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:48.363 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:48.364 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:48.364 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:48.365 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:48.365 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/DeleteCategories/1 - 204 null null 4.7423ms
2024-09-30 00:43:48.366 +06:00 [INF] Request starting HTTP/2 DELETE https://localhost:7028/api/Category/DeleteCategories/1 - null null
2024-09-30 00:43:48.368 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/DeleteCategories/1'
2024-09-30 00:43:48.370 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.DeleteCategories (WebApplication1)' with route pattern 'api/Category/DeleteCategories/{id}' is valid for the request path '/api/Category/DeleteCategories/1'
2024-09-30 00:43:48.371 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.DeleteCategories (WebApplication1)'
2024-09-30 00:43:48.373 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:48.373 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:48.374 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:48.374 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:48.375 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:48.375 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.DeleteCategories (WebApplication1)'
2024-09-30 00:43:48.379 +06:00 [INF] Route matched with {action = "DeleteCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCategories(Int32) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:48.380 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:48.381 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:48.382 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:48.383 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:48.384 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:48.385 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:48.386 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:48.387 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' ...
2024-09-30 00:43:48.388 +06:00 [DBG] Attempting to bind parameter 'id' of type 'System.Int32' using the name 'id' in request data ...
2024-09-30 00:43:48.389 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-30 00:43:48.390 +06:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Int32'.
2024-09-30 00:43:48.391 +06:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Int32' ...
2024-09-30 00:43:48.392 +06:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Int32'.
2024-09-30 00:43:48.394 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:48.395 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __id_0)'
2024-09-30 00:43:48.398 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Categories>(
    asyncEnumerable: new SingleQueryingEnumerable<Categories>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
            SELECT TOP(1) c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
            FROM Categories AS c
            WHERE c.Id == @__id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 00:43:48.400 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:48.400 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:48.401 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.402 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.403 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:48.404 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:48.405 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:48.405 +06:00 [DBG] Executing DbCommand [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-30 00:43:48.414 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Id] = @__id_0
2024-09-30 00:43:48.415 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.416 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:43:48.417 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.417 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:48.421 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:48.423 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Deleted"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:48.425 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 00:43:48.426 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:48.427 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:48.427 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:48.428 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:48.432 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.432 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.433 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:48.434 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:48.434 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:48.435 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Categories]
OUTPUT 1
WHERE [Id] = @p0;
2024-09-30 00:43:48.443 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Categories]
OUTPUT 1
WHERE [Id] = @p0;
2024-09-30 00:43:48.445 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.446 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:43:48.447 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.448 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:48.450 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Deleted"' to '"Detached"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:48.451 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 00:43:48.453 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:48.455 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:48.455 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:48.456 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:48.457 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:48.458 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-09-30 00:43:48.460 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.DeleteCategories (WebApplication1) in 75.7549ms
2024-09-30 00:43:48.462 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.DeleteCategories (WebApplication1)'
2024-09-30 00:43:48.462 +06:00 [INF] HTTP DELETE /api/Category/DeleteCategories/1 responded 200 in 88.0351 ms
2024-09-30 00:43:48.463 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:48.464 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.465 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:43:48.466 +06:00 [INF] Request finished HTTP/2 DELETE https://localhost:7028/api/Category/DeleteCategories/1 - 200 null application/json; charset=utf-8 99.4683ms
2024-09-30 00:43:48.466 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:48.470 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:48.471 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:48.472 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:48.473 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:48.474 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:48.475 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:48.475 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 9.1203ms
2024-09-30 00:43:48.476 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:48.478 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:48.479 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:48.480 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:48.481 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:48.481 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:48.481 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:48.482 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:48.483 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:48.483 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:48.484 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:48.485 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:48.486 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:48.488 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:48.490 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:48.490 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:48.491 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:48.492 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:48.493 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:48.493 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:43:48.494 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:43:48.495 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:43:48.496 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:43:48.497 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:43:48.498 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:43:48.499 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:43:48.500 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:43:48.501 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:43:48.501 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:48.503 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:48.505 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:48.506 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:48.507 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:48.508 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:48.509 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:48.509 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.510 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.511 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:48.511 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:48.512 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:48.512 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:48.516 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:48.517 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.517 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:43:48.520 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.521 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:43:48.523 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.524 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.525 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:48.525 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:48.526 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:48.526 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:48.530 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:48.532 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:48.533 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:48.534 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.535 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 00:43:48.536 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.537 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 00:43:48.538 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:48.540 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:48.540 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:48.541 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:48.541 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:48.542 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:43:48.543 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 51.7321ms
2024-09-30 00:43:48.544 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:48.545 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 62.6095 ms
2024-09-30 00:43:48.546 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:48.546 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:48.547 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 00:43:48.548 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 71.7165ms
2024-09-30 00:43:56.594 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - null null
2024-09-30 00:43:56.596 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:43:56.597 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:56.598 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:56.598 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:56.599 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:56.600 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:56.600 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/AddCategories - 204 null null 6.2657ms
2024-09-30 00:43:56.603 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Category/AddCategories - application/json 19
2024-09-30 00:43:56.607 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 00:43:56.608 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)' with route pattern 'api/Category/AddCategories' is valid for the request path '/api/Category/AddCategories'
2024-09-30 00:43:56.609 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:56.609 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:56.610 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:56.610 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:56.611 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:56.612 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:56.612 +06:00 [DBG] Authorization was successful.
2024-09-30 00:43:56.613 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:56.613 +06:00 [INF] Route matched with {action = "AddCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCategories(Service.dtos.AddCategoryDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:56.614 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:56.615 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:56.616 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:56.617 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:56.619 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:56.620 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:56.622 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:56.622 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:43:56.623 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' using the name '' in request data ...
2024-09-30 00:43:56.624 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 00:43:56.625 +06:00 [DBG] Connection id "0HN70MOLN7V9Q", Request id "0HN70MOLN7V9Q:0000000B": started reading request body.
2024-09-30 00:43:56.626 +06:00 [DBG] Connection id "0HN70MOLN7V9Q", Request id "0HN70MOLN7V9Q:0000000B": done reading request body.
2024-09-30 00:43:56.626 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddCategoryDto'
2024-09-30 00:43:56.627 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:56.628 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:56.628 +06:00 [DBG] Attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 00:43:56.629 +06:00 [DBG] Done attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 00:43:56.630 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:56.632 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:56.632 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:56.633 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.633 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.634 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:56.635 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:56.636 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:56.637 +06:00 [DBG] Executing DbCommand [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:43:56.640 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 00:43:56.642 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.642 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:43:56.643 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.644 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:56.645 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Categories.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:56.646 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:56.647 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 00:43:56.647 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:56.648 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:56.648 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 00:43:56.649 +06:00 [DBG] The unchanged property 'Categories.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:43:56.650 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 00:43:56.651 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.652 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.652 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:56.653 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:56.654 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:56.654 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:43:56.658 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 00:43:56.661 +06:00 [DBG] The foreign key property 'Categories.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 00:43:56.662 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.663 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 00:43:56.663 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.664 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:56.665 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:56.666 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 00:43:56.667 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:56.669 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:56.669 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:56.670 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:56.670 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:56.671 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowCategoryDto'.
2024-09-30 00:43:56.672 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1) in 51.7828ms
2024-09-30 00:43:56.673 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 00:43:56.674 +06:00 [INF] HTTP POST /api/Category/AddCategories responded 200 in 62.6695 ms
2024-09-30 00:43:56.675 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:56.676 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.677 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:43:56.678 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Category/AddCategories - 200 null application/json; charset=utf-8 74.9927ms
2024-09-30 00:43:56.678 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:56.682 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:56.683 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 00:43:56.684 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:56.685 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:56.686 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:56.686 +06:00 [DBG] The request is a preflight request.
2024-09-30 00:43:56.687 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 8.317ms
2024-09-30 00:43:56.688 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-09-30 00:43:56.690 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:56.691 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 00:43:56.692 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:56.693 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 00:43:56.693 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 00:43:56.694 +06:00 [INF] CORS policy execution successful.
2024-09-30 00:43:56.694 +06:00 [DBG] Successfully validated the token.
2024-09-30 00:43:56.695 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 00:43:56.695 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:56.696 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 00:43:56.697 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 00:43:56.698 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 00:43:56.699 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 00:43:56.700 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 00:43:56.701 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 00:43:56.703 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:56.704 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 00:43:56.704 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:56.705 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 00:43:56.706 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 00:43:56.707 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 00:43:56.708 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 00:43:56.709 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 00:43:56.709 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 00:43:56.710 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 00:43:56.711 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 00:43:56.712 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 00:43:56.713 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:56.714 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:56.715 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 00:43:56.716 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 00:43:56.717 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 00:43:56.719 +06:00 [DBG] Creating DbConnection.
2024-09-30 00:43:56.719 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 00:43:56.720 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.720 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.721 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:56.722 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:56.722 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:56.723 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:56.725 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 00:43:56.726 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.727 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 00:43:56.728 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.729 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:56.730 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.731 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.732 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 00:43:56.732 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 00:43:56.733 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 00:43:56.734 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:56.736 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 00:43:56.738 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:56.739 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:56.740 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 00:43:56.741 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.741 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 00:43:56.742 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.743 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 00:43:56.744 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 00:43:56.745 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 00:43:56.746 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 00:43:56.747 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 00:43:56.747 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 00:43:56.748 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 00:43:56.749 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 46.2123ms
2024-09-30 00:43:56.750 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 00:43:56.750 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 56.3732 ms
2024-09-30 00:43:56.751 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 00:43:56.752 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 00:43:56.753 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 00:43:56.754 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 66.3449ms
2024-09-30 00:43:57.699 +06:00 [DBG] Connection id "0HN70MOLN7V9Q" received FIN.
2024-09-30 00:43:57.704 +06:00 [DBG] Connection id "0HN70MOLN7V9Q" is closed. The last processed stream ID was 15.
2024-09-30 00:43:57.706 +06:00 [DBG] Connection id "0HN70MOLN7V9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 00:43:57.704 +06:00 [DBG] The connection queue processing loop for 0HN70MOLN7V9Q completed.
2024-09-30 00:43:57.707 +06:00 [DBG] Connection id "0HN70MOLN7V9Q" stopped.
2024-09-30 01:25:31.602 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 01:25:32.210 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:25:32.211 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:25:32.418 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:25:32.658 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 01:25:32.712 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:25:32.712 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:25:32.726 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:25:36.027 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 01:25:55.129 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 01:25:55.693 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:25:55.694 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:25:55.864 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:25:56.053 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 01:25:56.078 +06:00 [DBG] Creating DbConnection.
2024-09-30 01:25:56.207 +06:00 [DBG] Created DbConnection. (123ms).
2024-09-30 01:25:56.212 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:56.223 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:56.914 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:56.919 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 01:25:56.928 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-09-30 01:25:56.930 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (12ms).
2024-09-30 01:25:56.940 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:25:56.982 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:25:56.984 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:56.997 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-30 01:25:57.000 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 01:25:57.001 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:25:57.001 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:25:57.001 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.003 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.004 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:25:57.038 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:25:57.038 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.039 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 01:25:57.042 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.042 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.043 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 01:25:57.043 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 01:25:57.044 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 01:25:57.044 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:25:57.047 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:25:57.048 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.048 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:25:57.048 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 01:25:57.048 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:25:57.048 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:25:57.049 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.049 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.049 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:25:57.051 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:25:57.051 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.052 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:25:57.083 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.083 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.084 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 01:25:57.084 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 01:25:57.084 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 01:25:57.085 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 01:25:57.121 +06:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 01:25:57.130 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.134 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-09-30 01:25:57.134 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.135 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:25:57.157 +06:00 [INF] Applying migration '20240929192535_new properties added in products'.
2024-09-30 01:25:57.277 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 01:25:57.279 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:25:57.280 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 01:30:31.962 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 01:30:32.724 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:30:32.727 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:30:33.111 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:30:33.307 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 01:30:33.363 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:30:33.363 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:30:33.383 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:30:34.140 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 01:30:45.474 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 01:30:45.948 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:30:45.950 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:30:46.066 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:30:46.252 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 01:30:46.282 +06:00 [DBG] Creating DbConnection.
2024-09-30 01:30:46.366 +06:00 [DBG] Created DbConnection. (80ms).
2024-09-30 01:30:46.370 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:46.381 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.133 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.140 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 01:30:47.146 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-09-30 01:30:47.148 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-09-30 01:30:47.157 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:30:47.203 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:30:47.207 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.222 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (8ms).
2024-09-30 01:30:47.226 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 01:30:47.226 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:30:47.226 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:30:47.226 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.227 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.228 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:30:47.256 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:30:47.257 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.258 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:30:47.259 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.260 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.260 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 01:30:47.260 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 01:30:47.260 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 01:30:47.260 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:30:47.263 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:30:47.263 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.264 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:30:47.264 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 01:30:47.264 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:30:47.264 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:30:47.264 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.264 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.265 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:30:47.266 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:30:47.266 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.266 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:30:47.295 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.295 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.295 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 01:30:47.296 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 01:30:47.296 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 01:30:47.296 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 01:30:47.312 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 01:30:47.315 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.316 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 01:30:47.316 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.317 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:30:47.329 +06:00 [INF] Applying migration '20240929193034_new properties added in products'.
2024-09-30 01:30:47.456 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 01:30:47.459 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:30:47.460 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 01:45:30.416 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 01:45:31.168 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:45:31.171 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:45:31.476 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:45:31.680 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 01:45:31.729 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:45:31.729 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:45:31.741 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:45:32.548 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 01:45:46.336 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 01:45:46.849 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:45:46.851 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:45:47.020 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:45:47.212 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 01:45:47.228 +06:00 [DBG] Creating DbConnection.
2024-09-30 01:45:47.322 +06:00 [DBG] Created DbConnection. (90ms).
2024-09-30 01:45:47.325 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.332 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.766 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.776 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 01:45:47.786 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (8ms).
2024-09-30 01:45:47.790 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (16ms).
2024-09-30 01:45:47.803 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:45:47.852 +06:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:45:47.857 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.878 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (11ms).
2024-09-30 01:45:47.885 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 01:45:47.885 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:45:47.886 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:45:47.886 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.888 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.889 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:45:47.932 +06:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:45:47.932 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.933 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 01:45:47.936 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.936 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.937 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 01:45:47.937 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 01:45:47.937 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 01:45:47.938 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:45:47.942 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 01:45:47.942 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.942 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:45:47.943 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 01:45:47.943 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:45:47.943 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 01:45:47.943 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.944 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.944 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:45:47.946 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 01:45:47.947 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.947 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:45:47.975 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.975 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:47.976 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 01:45:47.976 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 01:45:47.976 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 01:45:47.977 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 01:45:47.998 +06:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 01:45:48.005 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:48.008 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 7ms reading results.
2024-09-30 01:45:48.009 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:48.009 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 01:45:48.027 +06:00 [INF] Applying migration '20240929194532_new properties added in product and products change to product'.
2024-09-30 01:45:48.143 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 01:45:48.144 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 01:45:48.145 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 01:58:55.281 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 01:58:56.175 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:58:56.176 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:58:56.429 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:58:56.754 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 01:58:56.804 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 01:58:56.804 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 01:58:56.824 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 01:58:57.762 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 02:01:04.296 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 02:01:04.806 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 02:01:04.808 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 02:01:05.041 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 02:01:05.182 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 02:01:05.211 +06:00 [DBG] Creating DbConnection.
2024-09-30 02:01:05.318 +06:00 [DBG] Created DbConnection. (99ms).
2024-09-30 02:01:05.323 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:05.341 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:05.981 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:05.991 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:01:06.004 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2024-09-30 02:01:06.008 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2024-09-30 02:01:06.023 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:01:06.086 +06:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:01:06.090 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.107 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (9ms).
2024-09-30 02:01:06.111 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 02:01:06.112 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:01:06.112 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:01:06.112 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.114 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.116 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:01:06.146 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:01:06.147 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.148 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 02:01:06.150 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.150 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.151 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:01:06.151 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:01:06.151 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:01:06.151 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:01:06.153 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:01:06.154 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.154 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:01:06.154 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 02:01:06.154 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:01:06.155 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:01:06.155 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.155 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.155 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:01:06.156 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:01:06.156 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.157 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:01:06.174 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.175 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.175 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 02:01:06.175 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 02:01:06.175 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 02:01:06.176 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 02:01:06.194 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 02:01:06.199 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.202 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-30 02:01:06.203 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.203 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:01:06.215 +06:00 [INF] Applying migration '20240929195857_new properties added in product and products change to product'.
2024-09-30 02:01:06.306 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 02:01:06.309 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:01:06.310 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 02:02:33.099 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 02:02:33.503 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 02:02:33.504 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 02:02:33.643 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 02:02:33.866 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 02:02:33.901 +06:00 [DBG] Creating DbConnection.
2024-09-30 02:02:33.955 +06:00 [DBG] Created DbConnection. (51ms).
2024-09-30 02:02:33.957 +06:00 [DBG] Migrating using database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:33.961 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:34.236 +06:00 [DBG] An error occurred using the connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:34.237 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:34.240 +06:00 [DBG] An error occurred using the connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:34.333 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 02:02:34.334 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 02:02:34.360 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 02:02:34.413 +06:00 [DBG] Creating DbConnection.
2024-09-30 02:02:34.413 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 02:02:34.413 +06:00 [DBG] Opening connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:34.446 +06:00 [DBG] Opened connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:34.456 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:34.467 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2024-09-30 02:02:34.470 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (18ms).
2024-09-30 02:02:34.482 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Stock];
2024-09-30 02:02:35.019 +06:00 [INF] Executed DbCommand (532ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Stock];
2024-09-30 02:02:35.021 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:35.021 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.022 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.022 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Stock] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-09-30 02:02:35.165 +06:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Stock] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-09-30 02:02:35.167 +06:00 [DBG] Closing connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.189 +06:00 [DBG] Closed connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (13ms).
2024-09-30 02:02:35.193 +06:00 [DBG] Disposing connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.194 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 02:02:35.194 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.204 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.205 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:35.205 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.205 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.206 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:02:35.220 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:02:35.221 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.221 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:35.326 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:35.326 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.326 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.326 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.327 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.327 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-09-30 02:02:35.356 +06:00 [INF] Executed DbCommand (29ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-09-30 02:02:35.357 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.357 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:35.358 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.359 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.359 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:35.359 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.359 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.360 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:02:35.361 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:02:35.361 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.362 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:35.368 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 02:02:35.368 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:02:35.368 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:02:35.369 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.369 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.371 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:02:35.406 +06:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:02:35.406 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.408 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 02:02:35.412 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.412 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.413 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 02:02:35.726 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (312ms).
2024-09-30 02:02:35.726 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (313ms).
2024-09-30 02:02:35.727 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 02:02:35.747 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 02:02:35.750 +06:00 [DBG] Closing data reader to 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.752 +06:00 [DBG] A data reader for 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 02:02:35.753 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.753 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:35.768 +06:00 [INF] Applying migration '20240926080958_init'.
2024-09-30 02:02:35.830 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:02:35.838 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.839 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:35.843 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:02:35.852 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:02:35.853 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:35.853 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.854 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-30 02:02:35.854 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-09-30 02:02:35.860 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-09-30 02:02:35.860 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:35.860 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.860 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:35.861 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [CreatedAtUtc] datetime2 NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-09-30 02:02:35.865 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [CreatedAtUtc] datetime2 NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-09-30 02:02:37.575 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:37.576 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.576 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.576 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:37.584 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:37.584 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:37.584 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.584 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.584 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:37.590 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:37.591 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:37.591 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.591 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.591 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:37.599 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:37.599 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:37.599 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.599 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:37.599 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:40.160 +06:00 [INF] Executed DbCommand (2,560ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:40.160 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:40.160 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:40.160 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:40.160 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:40.167 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 02:02:40.167 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:40.167 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:40.167 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:40.167 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UsersId] nvarchar(450) NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Categories_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id])
);
2024-09-30 02:02:40.174 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UsersId] nvarchar(450) NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Categories_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id])
);
2024-09-30 02:02:40.174 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:40.174 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:40.174 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:40.174 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [StockAmount] float NOT NULL,
    [MinStockAmount] float NOT NULL,
    [UnitPrice] float NOT NULL,
    [UnitType] nvarchar(20) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserId] nvarchar(450) NULL,
    [CategoriesId] int NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Products_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Products_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id])
);
2024-09-30 02:02:40.180 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(100) NOT NULL,
    [StockAmount] float NOT NULL,
    [MinStockAmount] float NOT NULL,
    [UnitPrice] float NOT NULL,
    [UnitType] nvarchar(20) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserId] nvarchar(450) NULL,
    [CategoriesId] int NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Products_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Products_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id])
);
2024-09-30 02:02:42.457 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:42.457 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:42.457 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:42.457 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] int NOT NULL IDENTITY,
    [Qty] float NOT NULL,
    [UnitType] nvarchar(20) NOT NULL,
    [TotalPrice] float NOT NULL,
    [TransactionTypes] nvarchar(20) NOT NULL,
    [DateTime] datetime2 NOT NULL,
    [UserId] nvarchar(450) NULL,
    [ProductsId] nvarchar(450) NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Transactions_Products_ProductsId] FOREIGN KEY ([ProductsId]) REFERENCES [Products] ([Id])
);
2024-09-30 02:02:42.474 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] int NOT NULL IDENTITY,
    [Qty] float NOT NULL,
    [UnitType] nvarchar(20) NOT NULL,
    [TotalPrice] float NOT NULL,
    [TransactionTypes] nvarchar(20) NOT NULL,
    [DateTime] datetime2 NOT NULL,
    [UserId] nvarchar(450) NULL,
    [ProductsId] nvarchar(450) NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Transactions_Products_ProductsId] FOREIGN KEY ([ProductsId]) REFERENCES [Products] ([Id])
);
2024-09-30 02:02:42.474 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:42.474 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:42.474 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:42.474 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'b0e86a5b-e3f1-473f-8778-1febb0a9455b', NULL, N'manager', N'MANAGER'),
(N'b7cb2f53-6291-4210-a742-0694ecaeabb3', NULL, N'user', N'USER'),
(N'f6fc55da-2834-4aee-a766-16cd401ee322', NULL, N'admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:42.592 +06:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'b0e86a5b-e3f1-473f-8778-1febb0a9455b', NULL, N'manager', N'MANAGER'),
(N'b7cb2f53-6291-4210-a742-0694ecaeabb3', NULL, N'user', N'USER'),
(N'f6fc55da-2834-4aee-a766-16cd401ee322', NULL, N'admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:42.593 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.817 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2223ms).
2024-09-30 02:02:44.817 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2224ms).
2024-09-30 02:02:44.817 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-09-30 02:02:44.833 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-09-30 02:02:44.833 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.833 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.833 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.833 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-09-30 02:02:44.876 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-09-30 02:02:44.876 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.876 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.876 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.876 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-09-30 02:02:44.879 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-09-30 02:02:44.879 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.879 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.879 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.879 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-09-30 02:02:44.881 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-09-30 02:02:44.881 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.881 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.881 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.881 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-09-30 02:02:44.882 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-09-30 02:02:44.882 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.882 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.882 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.882 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-09-30 02:02:44.884 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-09-30 02:02:44.884 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.884 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.884 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.884 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-09-30 02:02:44.887 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-09-30 02:02:44.887 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:44.887 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.887 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:44.887 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Categories_UsersId] ON [Categories] ([UsersId]);
2024-09-30 02:02:47.408 +06:00 [INF] Executed DbCommand (2,521ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Categories_UsersId] ON [Categories] ([UsersId]);
2024-09-30 02:02:47.409 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:47.409 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.409 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.409 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_CategoriesId] ON [Products] ([CategoriesId]);
2024-09-30 02:02:47.412 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_CategoriesId] ON [Products] ([CategoriesId]);
2024-09-30 02:02:47.412 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:47.412 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.412 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.412 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_UserId] ON [Products] ([UserId]);
2024-09-30 02:02:47.415 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_UserId] ON [Products] ([UserId]);
2024-09-30 02:02:47.415 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:47.415 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.415 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.415 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_ProductsId] ON [Transactions] ([ProductsId]);
2024-09-30 02:02:47.418 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_ProductsId] ON [Transactions] ([ProductsId]);
2024-09-30 02:02:47.418 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:47.418 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.418 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.418 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_UserId] ON [Transactions] ([UserId]);
2024-09-30 02:02:47.420 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_UserId] ON [Transactions] ([UserId]);
2024-09-30 02:02:47.420 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:47.420 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.420 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.420 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240926080958_init', N'8.0.8');
2024-09-30 02:02:47.430 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240926080958_init', N'8.0.8');
2024-09-30 02:02:47.432 +06:00 [DBG] Committing transaction.
2024-09-30 02:02:47.438 +06:00 [DBG] Committed transaction.
2024-09-30 02:02:47.440 +06:00 [DBG] Disposing transaction.
2024-09-30 02:02:47.440 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:47.440 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:47.440 +06:00 [INF] Applying migration '20240927025853_businnessentities table added'.
2024-09-30 02:02:47.473 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:02:47.473 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:47.474 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:47.474 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:02:47.475 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:02:47.475 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:47.475 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.475 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:47.475 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'b0e86a5b-e3f1-473f-8778-1febb0a9455b';
SELECT @@ROWCOUNT;
2024-09-30 02:02:49.038 +06:00 [INF] Executed DbCommand (1,563ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'b0e86a5b-e3f1-473f-8778-1febb0a9455b';
SELECT @@ROWCOUNT;
2024-09-30 02:02:49.038 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:49.038 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.038 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.038 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'b7cb2f53-6291-4210-a742-0694ecaeabb3';
SELECT @@ROWCOUNT;
2024-09-30 02:02:49.047 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'b7cb2f53-6291-4210-a742-0694ecaeabb3';
SELECT @@ROWCOUNT;
2024-09-30 02:02:49.047 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:49.047 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.047 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.047 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'f6fc55da-2834-4aee-a766-16cd401ee322';
SELECT @@ROWCOUNT;
2024-09-30 02:02:49.055 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'f6fc55da-2834-4aee-a766-16cd401ee322';
SELECT @@ROWCOUNT;
2024-09-30 02:02:49.056 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:49.056 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.056 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.056 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Transactions]') AND [c].[name] = N'UnitType');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Transactions] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Transactions] DROP COLUMN [UnitType];
2024-09-30 02:02:49.510 +06:00 [INF] Executed DbCommand (454ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Transactions]') AND [c].[name] = N'UnitType');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Transactions] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Transactions] DROP COLUMN [UnitType];
2024-09-30 02:02:49.510 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:49.510 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.510 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.510 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] ADD [BussinessEntitiesId] int NOT NULL DEFAULT 0;
2024-09-30 02:02:49.516 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] ADD [BussinessEntitiesId] int NOT NULL DEFAULT 0;
2024-09-30 02:02:49.516 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:49.516 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.516 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:49.516 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BussinessEntities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Address] nvarchar(300) NOT NULL,
    [Type] nvarchar(20) NOT NULL,
    CONSTRAINT [PK_BussinessEntities] PRIMARY KEY ([Id])
);
2024-09-30 02:02:49.520 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BussinessEntities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Address] nvarchar(300) NOT NULL,
    [Type] nvarchar(20) NOT NULL,
    CONSTRAINT [PK_BussinessEntities] PRIMARY KEY ([Id])
);
2024-09-30 02:02:49.520 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:50.904 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1384ms).
2024-09-30 02:02:50.904 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1384ms).
2024-09-30 02:02:50.904 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'34cdb9d7-c066-424a-a7c5-655155927584', NULL, N'admin', N'ADMIN'),
(N'69599223-f095-4d98-9280-9f535dc71c0a', NULL, N'manager', N'MANAGER'),
(N'c5da32d0-d665-495d-b8aa-f399a98ecd93', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:50.951 +06:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'34cdb9d7-c066-424a-a7c5-655155927584', NULL, N'admin', N'ADMIN'),
(N'69599223-f095-4d98-9280-9f535dc71c0a', NULL, N'manager', N'MANAGER'),
(N'c5da32d0-d665-495d-b8aa-f399a98ecd93', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:50.951 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:50.951 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:50.951 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:50.951 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_BussinessEntitiesId] ON [Transactions] ([BussinessEntitiesId]);
2024-09-30 02:02:50.953 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_BussinessEntitiesId] ON [Transactions] ([BussinessEntitiesId]);
2024-09-30 02:02:50.953 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:50.953 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:50.953 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:50.953 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] ADD CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId] FOREIGN KEY ([BussinessEntitiesId]) REFERENCES [BussinessEntities] ([Id]) ON DELETE CASCADE;
2024-09-30 02:02:50.955 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] ADD CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId] FOREIGN KEY ([BussinessEntitiesId]) REFERENCES [BussinessEntities] ([Id]) ON DELETE CASCADE;
2024-09-30 02:02:50.956 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:50.956 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:50.956 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:50.956 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927025853_businnessentities table added', N'8.0.8');
2024-09-30 02:02:50.958 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927025853_businnessentities table added', N'8.0.8');
2024-09-30 02:02:50.959 +06:00 [DBG] Committing transaction.
2024-09-30 02:02:50.959 +06:00 [DBG] Committed transaction.
2024-09-30 02:02:50.960 +06:00 [DBG] Disposing transaction.
2024-09-30 02:02:50.960 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:50.960 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:53.257 +06:00 [INF] Applying migration '20240927030241_businnessentities table have changes'.
2024-09-30 02:02:53.298 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:02:53.298 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:53.298 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:53.298 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:02:53.299 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:02:53.299 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:53.299 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.299 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.299 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'34cdb9d7-c066-424a-a7c5-655155927584';
SELECT @@ROWCOUNT;
2024-09-30 02:02:53.313 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'34cdb9d7-c066-424a-a7c5-655155927584';
SELECT @@ROWCOUNT;
2024-09-30 02:02:53.313 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:53.313 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.313 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.313 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'69599223-f095-4d98-9280-9f535dc71c0a';
SELECT @@ROWCOUNT;
2024-09-30 02:02:53.321 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'69599223-f095-4d98-9280-9f535dc71c0a';
SELECT @@ROWCOUNT;
2024-09-30 02:02:53.321 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:53.321 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.321 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.321 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'c5da32d0-d665-495d-b8aa-f399a98ecd93';
SELECT @@ROWCOUNT;
2024-09-30 02:02:53.327 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'c5da32d0-d665-495d-b8aa-f399a98ecd93';
SELECT @@ROWCOUNT;
2024-09-30 02:02:53.327 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:53.327 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.327 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.327 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [CreatedAtUtc] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2024-09-30 02:02:53.332 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [CreatedAtUtc] datetime2 NOT NULL DEFAULT '0001-01-01T00:00:00.0000000';
2024-09-30 02:02:53.332 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:53.332 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.332 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.332 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [UpdatedAtUtc] datetime2 NULL;
2024-09-30 02:02:53.335 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [UpdatedAtUtc] datetime2 NULL;
2024-09-30 02:02:53.335 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:53.335 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.335 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:53.335 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'18390647-748e-4606-b908-c22a8b0ef390', NULL, N'admin', N'ADMIN'),
(N'5a227af1-cbb4-4586-8987-27ff3264bd4a', NULL, N'manager', N'MANAGER'),
(N'f28802fa-baad-45d4-9964-856869951969', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:54.735 +06:00 [INF] Executed DbCommand (1,400ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'18390647-748e-4606-b908-c22a8b0ef390', NULL, N'admin', N'ADMIN'),
(N'5a227af1-cbb4-4586-8987-27ff3264bd4a', NULL, N'manager', N'MANAGER'),
(N'f28802fa-baad-45d4-9964-856869951969', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:54.735 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:54.735 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.736 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.736 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927030241_businnessentities table have changes', N'8.0.8');
2024-09-30 02:02:54.741 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927030241_businnessentities table have changes', N'8.0.8');
2024-09-30 02:02:54.741 +06:00 [DBG] Committing transaction.
2024-09-30 02:02:54.750 +06:00 [DBG] Committed transaction.
2024-09-30 02:02:54.750 +06:00 [DBG] Disposing transaction.
2024-09-30 02:02:54.750 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:54.750 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:54.750 +06:00 [INF] Applying migration '20240927030841_added cascading delete scenario to transactions'.
2024-09-30 02:02:54.782 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:02:54.782 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:54.783 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:54.783 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:02:54.784 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:02:54.784 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:54.784 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.784 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.784 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] DROP CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId];
2024-09-30 02:02:54.791 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] DROP CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId];
2024-09-30 02:02:54.792 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:54.792 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.792 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.792 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'18390647-748e-4606-b908-c22a8b0ef390';
SELECT @@ROWCOUNT;
2024-09-30 02:02:54.809 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'18390647-748e-4606-b908-c22a8b0ef390';
SELECT @@ROWCOUNT;
2024-09-30 02:02:54.810 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:54.810 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:54.810 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'5a227af1-cbb4-4586-8987-27ff3264bd4a';
SELECT @@ROWCOUNT;
2024-09-30 02:02:56.720 +06:00 [INF] Executed DbCommand (1,910ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'5a227af1-cbb4-4586-8987-27ff3264bd4a';
SELECT @@ROWCOUNT;
2024-09-30 02:02:56.720 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:56.720 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.720 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.720 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'f28802fa-baad-45d4-9964-856869951969';
SELECT @@ROWCOUNT;
2024-09-30 02:02:56.730 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'f28802fa-baad-45d4-9964-856869951969';
SELECT @@ROWCOUNT;
2024-09-30 02:02:56.730 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:56.730 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.730 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.730 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'8fbe11af-871e-4ece-907e-cd49e9c1b1a1', NULL, N'user', N'USER'),
(N'ca57ed10-0479-4238-8908-12f21a86b595', NULL, N'manager', N'MANAGER'),
(N'cc324826-555b-4172-9da4-2bf0915a1196', NULL, N'admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:56.779 +06:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'8fbe11af-871e-4ece-907e-cd49e9c1b1a1', NULL, N'user', N'USER'),
(N'ca57ed10-0479-4238-8908-12f21a86b595', NULL, N'manager', N'MANAGER'),
(N'cc324826-555b-4172-9da4-2bf0915a1196', NULL, N'admin', N'ADMIN');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:56.779 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:56.779 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.779 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.779 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] ADD CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId] FOREIGN KEY ([BussinessEntitiesId]) REFERENCES [BussinessEntities] ([Id]);
2024-09-30 02:02:56.783 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Transactions] ADD CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId] FOREIGN KEY ([BussinessEntitiesId]) REFERENCES [BussinessEntities] ([Id]);
2024-09-30 02:02:56.784 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:56.784 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.784 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:56.784 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927030841_added cascading delete scenario to transactions', N'8.0.8');
2024-09-30 02:02:56.788 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927030841_added cascading delete scenario to transactions', N'8.0.8');
2024-09-30 02:02:56.788 +06:00 [DBG] Committing transaction.
2024-09-30 02:02:58.265 +06:00 [DBG] Committed transaction.
2024-09-30 02:02:58.265 +06:00 [DBG] Disposing transaction.
2024-09-30 02:02:58.265 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:58.266 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:02:58.266 +06:00 [INF] Applying migration '20240927031820_added keys in bussinessentities'.
2024-09-30 02:02:58.302 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:02:58.303 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:58.303 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:02:58.303 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:02:58.303 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:02:58.303 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:58.303 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.304 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.304 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'8fbe11af-871e-4ece-907e-cd49e9c1b1a1';
SELECT @@ROWCOUNT;
2024-09-30 02:02:58.315 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'8fbe11af-871e-4ece-907e-cd49e9c1b1a1';
SELECT @@ROWCOUNT;
2024-09-30 02:02:58.315 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:58.316 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.316 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.316 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ca57ed10-0479-4238-8908-12f21a86b595';
SELECT @@ROWCOUNT;
2024-09-30 02:02:58.322 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ca57ed10-0479-4238-8908-12f21a86b595';
SELECT @@ROWCOUNT;
2024-09-30 02:02:58.322 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:58.323 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.323 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.323 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'cc324826-555b-4172-9da4-2bf0915a1196';
SELECT @@ROWCOUNT;
2024-09-30 02:02:58.328 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'cc324826-555b-4172-9da4-2bf0915a1196';
SELECT @@ROWCOUNT;
2024-09-30 02:02:58.328 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:02:58.328 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.328 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:02:58.328 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'01ee4608-f2a5-4c0d-9895-0416041606b3', NULL, N'admin', N'ADMIN'),
(N'd53253fe-d129-406e-844e-35bcfb7dc3c7', NULL, N'manager', N'MANAGER'),
(N'e397af88-55ac-4446-b546-958a79ad5040', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:02:58.353 +06:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'01ee4608-f2a5-4c0d-9895-0416041606b3', NULL, N'admin', N'ADMIN'),
(N'd53253fe-d129-406e-844e-35bcfb7dc3c7', NULL, N'manager', N'MANAGER'),
(N'e397af88-55ac-4446-b546-958a79ad5040', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:03:00.037 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:00.038 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.038 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.038 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927031820_added keys in bussinessentities', N'8.0.8');
2024-09-30 02:03:00.043 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927031820_added keys in bussinessentities', N'8.0.8');
2024-09-30 02:03:00.043 +06:00 [DBG] Committing transaction.
2024-09-30 02:03:00.043 +06:00 [DBG] Committed transaction.
2024-09-30 02:03:00.043 +06:00 [DBG] Disposing transaction.
2024-09-30 02:03:00.043 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:00.044 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:03:00.044 +06:00 [INF] Applying migration '20240927104155_change in products and bussinessEntities'.
2024-09-30 02:03:00.072 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:03:00.072 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:00.072 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:00.073 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:03:00.073 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:03:00.073 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:00.073 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.073 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.073 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'01ee4608-f2a5-4c0d-9895-0416041606b3';
SELECT @@ROWCOUNT;
2024-09-30 02:03:00.082 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'01ee4608-f2a5-4c0d-9895-0416041606b3';
SELECT @@ROWCOUNT;
2024-09-30 02:03:00.082 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:00.082 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.082 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.082 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'd53253fe-d129-406e-844e-35bcfb7dc3c7';
SELECT @@ROWCOUNT;
2024-09-30 02:03:00.089 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'd53253fe-d129-406e-844e-35bcfb7dc3c7';
SELECT @@ROWCOUNT;
2024-09-30 02:03:00.089 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:00.089 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.089 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.089 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'e397af88-55ac-4446-b546-958a79ad5040';
SELECT @@ROWCOUNT;
2024-09-30 02:03:00.095 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'e397af88-55ac-4446-b546-958a79ad5040';
SELECT @@ROWCOUNT;
2024-09-30 02:03:00.096 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:00.096 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.096 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.096 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Products] ADD [Description] nvarchar(200) NULL;
2024-09-30 02:03:00.099 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Products] ADD [Description] nvarchar(200) NULL;
2024-09-30 02:03:00.099 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:00.099 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:00.099 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.107 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [Email] nvarchar(max) NOT NULL DEFAULT N'';
2024-09-30 02:03:02.122 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [Email] nvarchar(max) NOT NULL DEFAULT N'';
2024-09-30 02:03:02.122 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:02.123 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.123 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.123 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [UsersId] nvarchar(450) NOT NULL DEFAULT N'';
2024-09-30 02:03:02.128 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD [UsersId] nvarchar(450) NOT NULL DEFAULT N'';
2024-09-30 02:03:02.128 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:02.128 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.128 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.128 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'39bcdb0a-cffb-4796-9b7f-ceac1da7f6b2', NULL, N'admin', N'ADMIN'),
(N'9a8a16f3-bf5b-49b8-97bf-46ad86373f6d', NULL, N'user', N'USER'),
(N'ea91e2eb-d494-44dc-88ba-17f34fa2b476', NULL, N'manager', N'MANAGER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:03:02.189 +06:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'39bcdb0a-cffb-4796-9b7f-ceac1da7f6b2', NULL, N'admin', N'ADMIN'),
(N'9a8a16f3-bf5b-49b8-97bf-46ad86373f6d', NULL, N'user', N'USER'),
(N'ea91e2eb-d494-44dc-88ba-17f34fa2b476', NULL, N'manager', N'MANAGER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:03:02.189 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:02.189 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.189 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.189 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BussinessEntities_UsersId] ON [BussinessEntities] ([UsersId]);
2024-09-30 02:03:02.192 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BussinessEntities_UsersId] ON [BussinessEntities] ([UsersId]);
2024-09-30 02:03:02.192 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:02.192 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.192 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:02.192 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD CONSTRAINT [FK_BussinessEntities_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-09-30 02:03:02.196 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [BussinessEntities] ADD CONSTRAINT [FK_BussinessEntities_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE;
2024-09-30 02:03:02.196 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:04.272 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2076ms).
2024-09-30 02:03:04.272 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2076ms).
2024-09-30 02:03:04.272 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927104155_change in products and bussinessEntities', N'8.0.8');
2024-09-30 02:03:04.284 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240927104155_change in products and bussinessEntities', N'8.0.8');
2024-09-30 02:03:04.284 +06:00 [DBG] Committing transaction.
2024-09-30 02:03:04.293 +06:00 [DBG] Committed transaction.
2024-09-30 02:03:04.293 +06:00 [DBG] Disposing transaction.
2024-09-30 02:03:04.293 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:04.293 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:03:04.293 +06:00 [INF] Applying migration '20240928141227_Categories type change'.
2024-09-30 02:03:04.328 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:03:04.329 +06:00 [DBG] Opening connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:04.329 +06:00 [DBG] Opened connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:04.329 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:03:04.330 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:03:04.330 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:04.330 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.330 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.330 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'39bcdb0a-cffb-4796-9b7f-ceac1da7f6b2';
SELECT @@ROWCOUNT;
2024-09-30 02:03:04.341 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'39bcdb0a-cffb-4796-9b7f-ceac1da7f6b2';
SELECT @@ROWCOUNT;
2024-09-30 02:03:04.341 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:04.341 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.341 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.341 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'9a8a16f3-bf5b-49b8-97bf-46ad86373f6d';
SELECT @@ROWCOUNT;
2024-09-30 02:03:04.348 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'9a8a16f3-bf5b-49b8-97bf-46ad86373f6d';
SELECT @@ROWCOUNT;
2024-09-30 02:03:04.348 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:04.348 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.348 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.349 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ea91e2eb-d494-44dc-88ba-17f34fa2b476';
SELECT @@ROWCOUNT;
2024-09-30 02:03:04.355 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ea91e2eb-d494-44dc-88ba-17f34fa2b476';
SELECT @@ROWCOUNT;
2024-09-30 02:03:04.355 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:04.355 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.355 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:04.355 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BussinessEntities]') AND [c].[name] = N'Type');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BussinessEntities] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BussinessEntities] ALTER COLUMN [Type] nvarchar(max) NOT NULL;
2024-09-30 02:03:04.441 +06:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BussinessEntities]') AND [c].[name] = N'Type');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [BussinessEntities] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [BussinessEntities] ALTER COLUMN [Type] nvarchar(max) NOT NULL;
2024-09-30 02:03:05.705 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:05.705 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:05.705 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:05.705 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'4a35ad2c-baeb-4343-89cc-93a68042e557', NULL, N'admin', N'ADMIN'),
(N'6f496e29-fc30-4916-8125-ac54454f2bac', NULL, N'manager', N'MANAGER'),
(N'7f4600d1-e20c-4965-9b5f-bc754d743e52', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:03:05.750 +06:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'4a35ad2c-baeb-4343-89cc-93a68042e557', NULL, N'admin', N'ADMIN'),
(N'6f496e29-fc30-4916-8125-ac54454f2bac', NULL, N'manager', N'MANAGER'),
(N'7f4600d1-e20c-4965-9b5f-bc754d743e52', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 02:03:05.750 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:03:05.750 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:05.750 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:03:05.750 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240928141227_Categories type change', N'8.0.8');
2024-09-30 02:03:05.753 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240928141227_Categories type change', N'8.0.8');
2024-09-30 02:03:05.753 +06:00 [DBG] Committing transaction.
2024-09-30 02:03:05.762 +06:00 [DBG] Committed transaction.
2024-09-30 02:03:05.762 +06:00 [DBG] Disposing transaction.
2024-09-30 02:03:05.762 +06:00 [DBG] Closing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:05.762 +06:00 [DBG] Closed connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:03:05.762 +06:00 [INF] Applying migration '20240929195857_new properties added in product and products change to product'.
2024-09-30 02:03:05.783 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 02:03:05.784 +06:00 [DBG] Disposing connection to database 'Stock' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:03:05.784 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 02:04:20.128 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 02:04:20.607 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 02:04:20.608 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 02:04:20.795 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 02:04:20.931 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 02:04:21.021 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 02:04:21.021 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 02:04:21.048 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 02:04:21.733 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 02:04:33.263 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 02:04:33.717 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 02:04:33.718 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 02:04:33.842 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 02:04:33.994 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 02:04:34.007 +06:00 [DBG] Creating DbConnection.
2024-09-30 02:04:34.032 +06:00 [DBG] Created DbConnection. (23ms).
2024-09-30 02:04:34.034 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.037 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.403 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.415 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:04:34.428 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-09-30 02:04:34.431 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2024-09-30 02:04:34.442 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:04:34.472 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:04:34.474 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.481 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-09-30 02:04:34.485 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 02:04:34.485 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:04:34.485 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:04:34.485 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.486 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.487 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:04:34.507 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:04:34.507 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.508 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:04:34.509 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.509 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.509 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:04:34.509 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:04:34.509 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:04:34.509 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:04:34.511 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 02:04:34.511 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.512 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:04:34.512 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 02:04:34.512 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:04:34.512 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 02:04:34.512 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.512 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.512 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:04:34.513 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 02:04:34.514 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.514 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:04:34.528 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.529 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.529 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 02:04:34.529 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 02:04:34.529 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 02:04:34.529 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 02:04:34.543 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 02:04:34.547 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.548 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 02:04:34.549 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.710 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (161ms).
2024-09-30 02:04:34.729 +06:00 [INF] Applying migration '20240929200421_init'.
2024-09-30 02:04:34.865 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 02:04:34.875 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.875 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.877 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 02:04:34.882 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 02:04:34.883 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 02:04:34.883 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 02:04:34.885 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-30 02:04:34.885 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-09-30 02:04:34.911 +06:00 [ERR] Failed executing DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-09-30 02:04:34.914 +06:00 [DBG] Disposing transaction.
2024-09-30 02:04:34.915 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.915 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 02:04:34.917 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 02:04:34.920 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 02:04:34.922 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 09:44:51.195 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 09:44:51.649 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 09:44:51.650 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 09:44:51.778 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 09:44:51.942 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:44:51.998 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 09:44:51.998 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 09:44:52.023 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 09:44:52.677 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:45:03.224 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 09:45:03.706 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 09:45:03.707 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 09:45:03.851 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 09:45:03.972 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:45:03.991 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:45:04.041 +06:00 [DBG] Created DbConnection. (47ms).
2024-09-30 09:45:04.043 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:04.055 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:04.286 +06:00 [DBG] An error occurred using the connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:04.287 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:04.288 +06:00 [DBG] An error occurred using the connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:04.359 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 09:45:04.359 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 09:45:04.388 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 09:45:04.417 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:45:04.418 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 09:45:04.418 +06:00 [DBG] Opening connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:04.443 +06:00 [DBG] Opened connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:04.451 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:04.467 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-09-30 09:45:04.471 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (21ms).
2024-09-30 09:45:04.481 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Stocks];
2024-09-30 09:45:05.591 +06:00 [INF] Executed DbCommand (1,022ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [Stocks];
2024-09-30 09:45:05.603 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:05.605 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2024-09-30 09:45:05.607 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2024-09-30 09:45:05.608 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Stocks] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-09-30 09:45:07.053 +06:00 [INF] Executed DbCommand (1,442ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [Stocks] SET READ_COMMITTED_SNAPSHOT ON;
END;
2024-09-30 09:45:07.071 +06:00 [DBG] Closing connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:07.218 +06:00 [DBG] Closed connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (88ms).
2024-09-30 09:45:07.265 +06:00 [DBG] Disposing connection to database 'master' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:07.281 +06:00 [DBG] Disposed connection to database '' on server '' (20ms).
2024-09-30 09:45:07.283 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:08.138 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:08.141 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:08.143 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-30 09:45:08.144 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2024-09-30 09:45:08.147 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 09:45:08.268 +06:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 09:45:08.269 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:08.271 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 09:45:09.174 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:09.175 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-30 09:45:09.176 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-30 09:45:09.177 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.186 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.187 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-09-30 09:45:09.257 +06:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [__EFMigrationsHistory] (
    [MigrationId] nvarchar(150) NOT NULL,
    [ProductVersion] nvarchar(32) NOT NULL,
    CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
);
2024-09-30 09:45:09.259 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.260 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 09:45:09.272 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.274 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.275 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:09.276 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:09.277 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-30 09:45:09.278 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 09:45:09.298 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 09:45:09.299 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.301 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 09:45:09.355 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 09:45:09.356 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2024-09-30 09:45:09.357 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2024-09-30 09:45:09.358 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.360 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.373 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 09:45:09.745 +06:00 [INF] Executed DbCommand (373ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 09:45:09.746 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.753 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-09-30 09:45:09.774 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.776 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:09.777 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:45:09.777 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:45:09.778 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:45:09.784 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 09:45:09.938 +06:00 [INF] Executed DbCommand (154ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 09:45:09.988 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:10.006 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 49ms reading results.
2024-09-30 09:45:10.010 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:10.011 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 09:45:10.064 +06:00 [INF] Applying migration '20240930034452_init'.
2024-09-30 09:45:10.288 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-30 09:45:10.313 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:10.314 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:10.318 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 09:45:10.342 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 09:45:10.344 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:10.344 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.349 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2024-09-30 09:45:10.350 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-09-30 09:45:10.359 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoles] (
    [Id] nvarchar(450) NOT NULL,
    [Name] nvarchar(256) NULL,
    [NormalizedName] nvarchar(256) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoles] PRIMARY KEY ([Id])
);
2024-09-30 09:45:10.361 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:10.361 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.361 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.362 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [CreatedAtUtc] datetime2 NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-09-30 09:45:10.366 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUsers] (
    [Id] nvarchar(450) NOT NULL,
    [Discriminator] nvarchar(13) NOT NULL,
    [CreatedAtUtc] datetime2 NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserName] nvarchar(256) NULL,
    [NormalizedUserName] nvarchar(256) NULL,
    [Email] nvarchar(256) NULL,
    [NormalizedEmail] nvarchar(256) NULL,
    [EmailConfirmed] bit NOT NULL,
    [PasswordHash] nvarchar(max) NULL,
    [SecurityStamp] nvarchar(max) NULL,
    [ConcurrencyStamp] nvarchar(max) NULL,
    [PhoneNumber] nvarchar(max) NULL,
    [PhoneNumberConfirmed] bit NOT NULL,
    [TwoFactorEnabled] bit NOT NULL,
    [LockoutEnd] datetimeoffset NULL,
    [LockoutEnabled] bit NOT NULL,
    [AccessFailedCount] int NOT NULL,
    CONSTRAINT [PK_AspNetUsers] PRIMARY KEY ([Id])
);
2024-09-30 09:45:10.366 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:10.366 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.367 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.367 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:10.583 +06:00 [INF] Executed DbCommand (216ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetRoleClaims] (
    [Id] int NOT NULL IDENTITY,
    [RoleId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetRoleClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetRoleClaims_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:10.584 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:10.584 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.584 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.584 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:10.591 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserClaims] (
    [Id] int NOT NULL IDENTITY,
    [UserId] nvarchar(450) NOT NULL,
    [ClaimType] nvarchar(max) NULL,
    [ClaimValue] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserClaims] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_AspNetUserClaims_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:10.591 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:10.591 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.591 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.592 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:10.597 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserLogins] (
    [LoginProvider] nvarchar(450) NOT NULL,
    [ProviderKey] nvarchar(450) NOT NULL,
    [ProviderDisplayName] nvarchar(max) NULL,
    [UserId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserLogins] PRIMARY KEY ([LoginProvider], [ProviderKey]),
    CONSTRAINT [FK_AspNetUserLogins_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:10.597 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:10.597 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.597 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:10.597 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:10.605 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserRoles] (
    [UserId] nvarchar(450) NOT NULL,
    [RoleId] nvarchar(450) NOT NULL,
    CONSTRAINT [PK_AspNetUserRoles] PRIMARY KEY ([UserId], [RoleId]),
    CONSTRAINT [FK_AspNetUserRoles_AspNetRoles_RoleId] FOREIGN KEY ([RoleId]) REFERENCES [AspNetRoles] ([Id]) ON DELETE CASCADE,
    CONSTRAINT [FK_AspNetUserRoles_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:11.237 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:11.237 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.237 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.237 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:11.242 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [AspNetUserTokens] (
    [UserId] nvarchar(450) NOT NULL,
    [LoginProvider] nvarchar(450) NOT NULL,
    [Name] nvarchar(450) NOT NULL,
    [Value] nvarchar(max) NULL,
    CONSTRAINT [PK_AspNetUserTokens] PRIMARY KEY ([UserId], [LoginProvider], [Name]),
    CONSTRAINT [FK_AspNetUserTokens_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:11.242 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:11.242 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.242 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.243 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BussinessEntities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Address] nvarchar(300) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Type] nvarchar(max) NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    CONSTRAINT [PK_BussinessEntities] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_BussinessEntities_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:11.247 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [BussinessEntities] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Address] nvarchar(300) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [Type] nvarchar(max) NOT NULL,
    [UsersId] nvarchar(450) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    CONSTRAINT [PK_BussinessEntities] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_BussinessEntities_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id]) ON DELETE CASCADE
);
2024-09-30 09:45:11.247 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:11.247 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.247 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.247 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UsersId] nvarchar(450) NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Categories_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id])
);
2024-09-30 09:45:11.250 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Categories] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UsersId] nvarchar(450) NULL,
    CONSTRAINT [PK_Categories] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Categories_AspNetUsers_UsersId] FOREIGN KEY ([UsersId]) REFERENCES [AspNetUsers] ([Id])
);
2024-09-30 09:45:11.618 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:11.618 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.618 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.619 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(200) NULL,
    [SKU] nvarchar(max) NOT NULL,
    [StockAmount] float NOT NULL,
    [UnitPrice] float NOT NULL,
    [UnitType] nvarchar(20) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserId] nvarchar(450) NULL,
    [CategoriesId] int NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Products_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Products_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id])
);
2024-09-30 09:45:11.625 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Products] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(100) NOT NULL,
    [Description] nvarchar(200) NULL,
    [SKU] nvarchar(max) NOT NULL,
    [StockAmount] float NOT NULL,
    [UnitPrice] float NOT NULL,
    [UnitType] nvarchar(20) NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    [UserId] nvarchar(450) NULL,
    [CategoriesId] int NULL,
    CONSTRAINT [PK_Products] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Products_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Products_Categories_CategoriesId] FOREIGN KEY ([CategoriesId]) REFERENCES [Categories] ([Id])
);
2024-09-30 09:45:11.625 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:11.626 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.626 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.626 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] int NOT NULL IDENTITY,
    [Qty] float NOT NULL,
    [TotalPrice] float NOT NULL,
    [TransactionTypes] nvarchar(20) NOT NULL,
    [UserId] nvarchar(450) NULL,
    [ProductsId] int NULL,
    [BussinessEntitiesId] int NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId] FOREIGN KEY ([BussinessEntitiesId]) REFERENCES [BussinessEntities] ([Id]),
    CONSTRAINT [FK_Transactions_Products_ProductsId] FOREIGN KEY ([ProductsId]) REFERENCES [Products] ([Id])
);
2024-09-30 09:45:11.634 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Transactions] (
    [Id] int NOT NULL IDENTITY,
    [Qty] float NOT NULL,
    [TotalPrice] float NOT NULL,
    [TransactionTypes] nvarchar(20) NOT NULL,
    [UserId] nvarchar(450) NULL,
    [ProductsId] int NULL,
    [BussinessEntitiesId] int NOT NULL,
    [CreatedAtUtc] datetime2 NOT NULL,
    [UpdatedAtUtc] datetime2 NULL,
    CONSTRAINT [PK_Transactions] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_Transactions_AspNetUsers_UserId] FOREIGN KEY ([UserId]) REFERENCES [AspNetUsers] ([Id]),
    CONSTRAINT [FK_Transactions_BussinessEntities_BussinessEntitiesId] FOREIGN KEY ([BussinessEntitiesId]) REFERENCES [BussinessEntities] ([Id]),
    CONSTRAINT [FK_Transactions_Products_ProductsId] FOREIGN KEY ([ProductsId]) REFERENCES [Products] ([Id])
);
2024-09-30 09:45:11.635 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:11.635 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.635 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:11.635 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'1', NULL, N'admin', N'ADMIN'),
(N'2', NULL, N'manager', N'MANAGER'),
(N'3', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 09:45:12.127 +06:00 [INF] Executed DbCommand (492ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'1', NULL, N'admin', N'ADMIN'),
(N'2', NULL, N'manager', N'MANAGER'),
(N'3', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-30 09:45:12.127 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.127 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.127 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.127 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-09-30 09:45:12.130 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetRoleClaims_RoleId] ON [AspNetRoleClaims] ([RoleId]);
2024-09-30 09:45:12.130 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.130 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.130 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.130 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-09-30 09:45:12.139 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [RoleNameIndex] ON [AspNetRoles] ([NormalizedName]) WHERE [NormalizedName] IS NOT NULL;
2024-09-30 09:45:12.139 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.139 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.139 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.139 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-09-30 09:45:12.141 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserClaims_UserId] ON [AspNetUserClaims] ([UserId]);
2024-09-30 09:45:12.141 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.141 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.141 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.141 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-09-30 09:45:12.143 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserLogins_UserId] ON [AspNetUserLogins] ([UserId]);
2024-09-30 09:45:12.143 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.143 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.143 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.143 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-09-30 09:45:12.145 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_AspNetUserRoles_RoleId] ON [AspNetUserRoles] ([RoleId]);
2024-09-30 09:45:12.146 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.475 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (329ms).
2024-09-30 09:45:12.475 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (329ms).
2024-09-30 09:45:12.475 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-09-30 09:45:12.478 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [EmailIndex] ON [AspNetUsers] ([NormalizedEmail]);
2024-09-30 09:45:12.479 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.479 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.479 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.479 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-09-30 09:45:12.481 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [UserNameIndex] ON [AspNetUsers] ([NormalizedUserName]) WHERE [NormalizedUserName] IS NOT NULL;
2024-09-30 09:45:12.481 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.481 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.481 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.481 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BussinessEntities_UsersId] ON [BussinessEntities] ([UsersId]);
2024-09-30 09:45:12.484 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_BussinessEntities_UsersId] ON [BussinessEntities] ([UsersId]);
2024-09-30 09:45:12.484 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.484 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.484 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.484 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Categories_UsersId] ON [Categories] ([UsersId]);
2024-09-30 09:45:12.487 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Categories_UsersId] ON [Categories] ([UsersId]);
2024-09-30 09:45:12.487 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.487 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.487 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.487 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_CategoriesId] ON [Products] ([CategoriesId]);
2024-09-30 09:45:12.489 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_CategoriesId] ON [Products] ([CategoriesId]);
2024-09-30 09:45:12.490 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.490 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.490 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.490 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_UserId] ON [Products] ([UserId]);
2024-09-30 09:45:12.491 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Products_UserId] ON [Products] ([UserId]);
2024-09-30 09:45:12.492 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.492 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.492 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.492 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_BussinessEntitiesId] ON [Transactions] ([BussinessEntitiesId]);
2024-09-30 09:45:12.495 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_BussinessEntitiesId] ON [Transactions] ([BussinessEntitiesId]);
2024-09-30 09:45:12.495 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.495 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.495 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.495 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_ProductsId] ON [Transactions] ([ProductsId]);
2024-09-30 09:45:12.497 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_ProductsId] ON [Transactions] ([ProductsId]);
2024-09-30 09:45:12.786 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.786 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.787 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.787 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_UserId] ON [Transactions] ([UserId]);
2024-09-30 09:45:12.788 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX [IX_Transactions_UserId] ON [Transactions] ([UserId]);
2024-09-30 09:45:12.789 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 09:45:12.789 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.789 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 09:45:12.789 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930034452_init', N'8.0.8');
2024-09-30 09:45:12.809 +06:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930034452_init', N'8.0.8');
2024-09-30 09:45:12.811 +06:00 [DBG] Committing transaction.
2024-09-30 09:45:12.817 +06:00 [DBG] Committed transaction.
2024-09-30 09:45:12.819 +06:00 [DBG] Disposing transaction.
2024-09-30 09:45:12.819 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:12.819 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:45:12.821 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:45:12.823 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:45:12.823 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 09:45:24.125 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 09:45:24.211 +06:00 [DBG] Hosting starting
2024-09-30 09:45:24.227 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 09:45:24.238 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 09:45:24.243 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 09:45:24.244 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 09:45:24.248 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 09:45:24.251 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 09:45:24.251 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 09:45:24.256 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 09:45:24.259 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 09:45:24.262 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 09:45:24.265 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 09:45:24.269 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 09:45:24.273 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 09:45:24.275 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 09:45:24.276 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 09:45:24.376 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 09:45:24.378 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 09:45:24.379 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 09:45:24.383 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 09:45:24.386 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 09:45:24.387 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 09:45:24.389 +06:00 [INF] Hosting environment: Development
2024-09-30 09:45:24.389 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 09:45:24.390 +06:00 [DBG] Hosting started
2024-09-30 09:45:24.838 +06:00 [DBG] Connection id "0HN71098J9VQ6" received FIN.
2024-09-30 09:45:24.838 +06:00 [DBG] Connection id "0HN71098J9VQ7" received FIN.
2024-09-30 09:45:24.846 +06:00 [DBG] Connection id "0HN71098J9VQ7" accepted.
2024-09-30 09:45:24.846 +06:00 [DBG] Connection id "0HN71098J9VQ6" accepted.
2024-09-30 09:45:24.849 +06:00 [DBG] Connection id "0HN71098J9VQ7" started.
2024-09-30 09:45:24.852 +06:00 [DBG] Connection id "0HN71098J9VQ6" started.
2024-09-30 09:45:24.868 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 09:45:24.868 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 09:45:24.891 +06:00 [DBG] Connection id "0HN71098J9VQ6" stopped.
2024-09-30 09:45:24.892 +06:00 [DBG] Connection id "0HN71098J9VQ7" stopped.
2024-09-30 09:45:24.895 +06:00 [DBG] Connection id "0HN71098J9VQ7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:45:24.895 +06:00 [DBG] Connection id "0HN71098J9VQ6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:45:25.407 +06:00 [DBG] Connection id "0HN71098J9VQ8" accepted.
2024-09-30 09:45:25.459 +06:00 [DBG] Connection id "0HN71098J9VQ8" started.
2024-09-30 09:45:25.590 +06:00 [DBG] Connection 0HN71098J9VQ8 established using the following protocol: "Tls12"
2024-09-30 09:45:25.717 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 09:45:25.971 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 09:45:26.017 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 09:45:26.018 +06:00 [DBG] Request did not match any endpoints
2024-09-30 09:45:26.172 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 09:45:26.199 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 09:45:26.211 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 501.8951ms
2024-09-30 09:45:26.284 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 09:45:26.284 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 09:45:26.302 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.9966ms
2024-09-30 09:45:26.412 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 128.1588ms
2024-09-30 09:45:26.599 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 09:45:26.601 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 09:45:26.601 +06:00 [DBG] Request did not match any endpoints
2024-09-30 09:45:26.754 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 155.0733ms
2024-09-30 09:45:29.476 +06:00 [DBG] Connection id "0HN71098J9VQ8" received FIN.
2024-09-30 09:45:29.481 +06:00 [DBG] The connection queue processing loop for 0HN71098J9VQ8 completed.
2024-09-30 09:45:29.484 +06:00 [DBG] Connection id "0HN71098J9VQ8" is closed. The last processed stream ID was 7.
2024-09-30 09:45:29.486 +06:00 [DBG] Connection id "0HN71098J9VQ8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:45:29.504 +06:00 [DBG] Connection id "0HN71098J9VQ8" stopped.
2024-09-30 09:46:19.851 +06:00 [DBG] Connection id "0HN71098J9VQ9" accepted.
2024-09-30 09:46:19.852 +06:00 [DBG] Connection id "0HN71098J9VQ9" started.
2024-09-30 09:46:19.859 +06:00 [DBG] Connection 0HN71098J9VQ9 established using the following protocol: "Tls12"
2024-09-30 09:46:19.869 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/register - application/json 105
2024-09-30 09:46:19.884 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2024-09-30 09:46:19.890 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)' with route pattern 'api/User/register' is valid for the request path '/api/User/register'
2024-09-30 09:46:19.892 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)'
2024-09-30 09:46:19.895 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:46:19.902 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:46:19.910 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:46:19.944 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 09:46:19.949 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)'
2024-09-30 09:46:19.982 +06:00 [INF] Route matched with {action = "Registraion", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registraion(Service.dtos.UseRegistrationDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 09:46:19.995 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:46:20.005 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:46:20.010 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:46:20.011 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:46:20.012 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:46:20.015 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:46:20.142 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 09:46:20.289 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:46:20.297 +06:00 [DBG] Attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto' ...
2024-09-30 09:46:20.299 +06:00 [DBG] Attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto' using the name '' in request data ...
2024-09-30 09:46:20.301 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:46:20.309 +06:00 [DBG] Connection id "0HN71098J9VQ9", Request id "0HN71098J9VQ9:00000001": started reading request body.
2024-09-30 09:46:20.310 +06:00 [DBG] Connection id "0HN71098J9VQ9", Request id "0HN71098J9VQ9:00000001": done reading request body.
2024-09-30 09:46:20.317 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UseRegistrationDto'
2024-09-30 09:46:20.319 +06:00 [DBG] Done attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto'.
2024-09-30 09:46:20.322 +06:00 [DBG] Done attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto'.
2024-09-30 09:46:20.323 +06:00 [DBG] Attempting to validate the bound parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto' ...
2024-09-30 09:46:20.328 +06:00 [DBG] Done attempting to validate the bound parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto'.
2024-09-30 09:46:20.894 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 09:46:20.900 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 09:46:21.030 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 09:46:21.211 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:46:21.293 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-30 09:46:21.525 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.NormalizedUserName == @__normalizedUserName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:46:21.572 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:46:21.595 +06:00 [DBG] Created DbConnection. (25ms).
2024-09-30 09:46:21.600 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:21.862 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:21.873 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:46:21.879 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-30 09:46:21.892 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-09-30 09:46:21.907 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 09:46:21.983 +06:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 09:46:21.997 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.004 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-30 09:46:22.008 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.013 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-09-30 09:46:22.040 +06:00 [DBG] 'AppDbContext' generated a value for the property 'Users.Discriminator'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.101 +06:00 [DBG] Context 'AppDbContext' started tracking 'Users' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.108 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.113 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.135 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:46:22.142 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.151 +06:00 [DBG] The unchanged property 'Users.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 09:46:22.159 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:46:22.234 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.238 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.242 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:46:22.243 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:46:22.244 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:46:22.245 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 13), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAtUtc], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdatedAtUtc], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 09:46:22.256 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 13), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAtUtc], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdatedAtUtc], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 09:46:22.262 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.263 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-30 09:46:22.265 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.266 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:46:22.275 +06:00 [DBG] An entity of type 'Users' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.277 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 09:46:22.285 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-09-30 09:46:22.294 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:46:22.297 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.299 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.299 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:46:22.300 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:46:22.301 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:46:22.303 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-30 09:46:22.312 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-30 09:46:22.324 +06:00 [DBG] Context 'AppDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.332 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.334 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 20ms reading results.
2024-09-30 09:46:22.336 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.337 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 09:46:22.346 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-09-30 09:46:22.364 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:46:22.366 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.368 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.369 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:46:22.371 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:46:22.371 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:46:22.372 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-30 09:46:22.375 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-30 09:46:22.377 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.377 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 09:46:22.378 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.379 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:46:22.385 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.387 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.389 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:46:22.390 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:46:22.391 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:46:22.391 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-30 09:46:22.396 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-30 09:46:22.398 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.399 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 09:46:22.400 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.401 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:46:22.413 +06:00 [DBG] Context 'AppDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.416 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.417 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.419 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:46:22.420 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:46:22.421 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 09:46:22.422 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 09:46:22.443 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-30 09:46:22.449 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.450 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 09:46:22.452 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.455 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-30 09:46:22.459 +06:00 [DBG] An entity of type 'Users' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.461 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.461 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.466 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:46:22.467 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.469 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:46:22.481 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 09:46:22.485 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.487 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.489 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 09:46:22.494 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 09:46:22.495 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:46:22.496 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:46:22.497 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 09:46:22.498 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAtUtc] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UpdatedAtUtc] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-30 09:46:22.516 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAtUtc] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UpdatedAtUtc] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-30 09:46:22.525 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.526 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-30 09:46:22.529 +06:00 [DBG] Committing transaction.
2024-09-30 09:46:22.532 +06:00 [DBG] Committed transaction.
2024-09-30 09:46:22.534 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.537 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-30 09:46:22.539 +06:00 [DBG] Disposing transaction.
2024-09-30 09:46:22.540 +06:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.542 +06:00 [DBG] An entity of type 'Users' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:46:22.543 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2024-09-30 09:46:22.545 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.545 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.547 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:46:22.548 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:46:22.548 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:46:22.549 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 0 entities written to the database.
2024-09-30 09:46:22.554 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:46:22.557 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:46:22.557 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:46:22.558 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:46:22.559 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-09-30 09:46:22.560 +06:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-09-30 09:46:22.563 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Registraion (WebApplication1) in 2547.7526ms
2024-09-30 09:46:22.564 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)'
2024-09-30 09:46:22.566 +06:00 [INF] HTTP POST /api/User/register responded 204 in 2649.3713 ms
2024-09-30 09:46:22.571 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:46:22.573 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:46:22.575 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 09:46:22.577 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/register - 204 null null 2708.7063ms
2024-09-30 09:46:29.561 +06:00 [DBG] Connection id "0HN71098J9VQ9" received FIN.
2024-09-30 09:46:29.577 +06:00 [DBG] Connection id "0HN71098J9VQ9" is closed. The last processed stream ID was 1.
2024-09-30 09:46:29.578 +06:00 [DBG] The connection queue processing loop for 0HN71098J9VQ9 completed.
2024-09-30 09:46:29.599 +06:00 [DBG] Connection id "0HN71098J9VQ9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:46:29.645 +06:00 [DBG] Connection id "0HN71098J9VQ9" stopped.
2024-09-30 09:47:02.310 +06:00 [DBG] Connection id "0HN71098J9VQA" accepted.
2024-09-30 09:47:02.322 +06:00 [DBG] Connection id "0HN71098J9VQA" started.
2024-09-30 09:47:02.346 +06:00 [DBG] Connection 0HN71098J9VQA established using the following protocol: "Tls12"
2024-09-30 09:47:02.363 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 64
2024-09-30 09:47:02.396 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 09:47:02.397 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 09:47:02.399 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:47:02.402 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:47:02.405 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:47:02.406 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:47:02.409 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 09:47:02.410 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:47:02.421 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 09:47:02.422 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:47:02.422 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:47:02.423 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:47:02.424 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:47:02.425 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:47:02.426 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:47:02.430 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:47:02.434 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 09:47:02.439 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 09:47:02.442 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:47:02.444 +06:00 [DBG] Connection id "0HN71098J9VQA", Request id "0HN71098J9VQA:00000001": started reading request body.
2024-09-30 09:47:02.445 +06:00 [DBG] Connection id "0HN71098J9VQA", Request id "0HN71098J9VQA:00000001": done reading request body.
2024-09-30 09:47:02.475 +06:00 [DBG] JSON input formatter threw an exception: The JSON object contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $ | LineNumber: 3 | BytePositionInLine: 0.
2024-09-30 09:47:02.475 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:47:02.476 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:47:02.477 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 09:47:02.479 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:47:02.482 +06:00 [DBG] The request has model state errors, returning an error response.
2024-09-30 09:47:02.484 +06:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-09-30 09:47:02.485 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:47:02.486 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:47:02.487 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-30 09:47:02.489 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-30 09:47:02.489 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-30 09:47:02.508 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 82.065ms
2024-09-30 09:47:02.509 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:47:02.510 +06:00 [INF] HTTP POST /api/User/login responded 400 in 103.1742 ms
2024-09-30 09:47:02.511 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 400 null application/problem+json; charset=utf-8 148.5985ms
2024-09-30 09:47:09.606 +06:00 [DBG] Connection id "0HN71098J9VQA" received FIN.
2024-09-30 09:47:09.610 +06:00 [DBG] Connection id "0HN71098J9VQA" is closed. The last processed stream ID was 1.
2024-09-30 09:47:09.610 +06:00 [DBG] The connection queue processing loop for 0HN71098J9VQA completed.
2024-09-30 09:47:09.615 +06:00 [DBG] Connection id "0HN71098J9VQA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:47:09.638 +06:00 [DBG] Connection id "0HN71098J9VQA" stopped.
2024-09-30 09:47:10.739 +06:00 [DBG] Connection id "0HN71098J9VQB" accepted.
2024-09-30 09:47:10.741 +06:00 [DBG] Connection id "0HN71098J9VQB" started.
2024-09-30 09:47:10.744 +06:00 [DBG] Connection 0HN71098J9VQB established using the following protocol: "Tls12"
2024-09-30 09:47:10.747 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 63
2024-09-30 09:47:10.752 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 09:47:10.755 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 09:47:10.758 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:47:10.759 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:47:10.761 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:47:10.763 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:47:10.768 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 09:47:10.770 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:47:10.770 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 09:47:10.772 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:47:10.773 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:47:10.774 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:47:10.776 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:47:10.776 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:47:10.777 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:47:10.798 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:47:10.800 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 09:47:10.801 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 09:47:10.801 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:47:10.802 +06:00 [DBG] Connection id "0HN71098J9VQB", Request id "0HN71098J9VQB:00000001": started reading request body.
2024-09-30 09:47:10.803 +06:00 [DBG] Connection id "0HN71098J9VQB", Request id "0HN71098J9VQB:00000001": done reading request body.
2024-09-30 09:47:10.804 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 09:47:10.804 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:47:10.805 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:47:10.806 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 09:47:10.807 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:47:10.873 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:47:10.888 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 09:47:10.905 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:47:10.917 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:47:10.923 +06:00 [DBG] Created DbConnection. (5ms).
2024-09-30 09:47:10.924 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:10.925 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:10.925 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:47:10.926 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:47:10.926 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:47:10.927 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 09:47:10.935 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 09:47:10.938 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:10.938 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 09:47:10.939 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:10.940 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:47:11.092 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 09:47:11.131 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 09:47:11.136 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:11.137 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:11.137 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:47:11.138 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:47:11.139 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:47:11.139 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 09:47:11.151 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 09:47:11.153 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:11.154 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 09:47:11.155 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:11.155 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:47:11.184 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:47:11.200 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:47:11.205 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:47:11.209 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:47:11.212 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:47:11.219 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 09:47:11.222 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 444.5355ms
2024-09-30 09:47:11.223 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:47:11.223 +06:00 [INF] HTTP POST /api/User/login responded 200 in 459.7428 ms
2024-09-30 09:47:11.224 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:47:11.225 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:47:11.226 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 09:47:11.227 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 479.7151ms
2024-09-30 09:47:19.618 +06:00 [DBG] Connection id "0HN71098J9VQB" received FIN.
2024-09-30 09:47:19.621 +06:00 [DBG] Connection id "0HN71098J9VQB" is closed. The last processed stream ID was 1.
2024-09-30 09:47:19.621 +06:00 [DBG] The connection queue processing loop for 0HN71098J9VQB completed.
2024-09-30 09:47:19.629 +06:00 [DBG] Connection id "0HN71098J9VQB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:47:19.664 +06:00 [DBG] Connection id "0HN71098J9VQB" stopped.
2024-09-30 09:48:26.494 +06:00 [DBG] Connection id "0HN71098J9VQC" accepted.
2024-09-30 09:48:26.497 +06:00 [DBG] Connection id "0HN71098J9VQC" started.
2024-09-30 09:48:26.501 +06:00 [DBG] Connection 0HN71098J9VQC established using the following protocol: "Tls12"
2024-09-30 09:48:26.504 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Category/AddCategories - application/json 24
2024-09-30 09:48:26.507 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 09:48:26.507 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)' with route pattern 'api/Category/AddCategories' is valid for the request path '/api/Category/AddCategories'
2024-09-30 09:48:26.510 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 09:48:26.510 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:48:26.512 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:48:26.513 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:48:26.560 +06:00 [DBG] Successfully validated the token.
2024-09-30 09:48:26.561 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 09:48:26.564 +06:00 [DBG] Authorization was successful.
2024-09-30 09:48:26.565 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 09:48:26.571 +06:00 [INF] Route matched with {action = "AddCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCategories(Service.dtos.AddCategoryDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 09:48:26.573 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:48:26.574 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:48:26.574 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:48:26.576 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:48:26.576 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:48:26.577 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 09:48:26.579 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 09:48:26.580 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 09:48:26.580 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' using the name '' in request data ...
2024-09-30 09:48:26.581 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:48:26.582 +06:00 [DBG] Connection id "0HN71098J9VQC", Request id "0HN71098J9VQC:00000001": started reading request body.
2024-09-30 09:48:26.583 +06:00 [DBG] Connection id "0HN71098J9VQC", Request id "0HN71098J9VQC:00000001": done reading request body.
2024-09-30 09:48:26.584 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddCategoryDto'
2024-09-30 09:48:26.586 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 09:48:26.587 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 09:48:26.588 +06:00 [DBG] Attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 09:48:26.589 +06:00 [DBG] Done attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 09:48:26.600 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:48:26.606 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __categoryDto_Name_0)'
2024-09-30 09:48:26.612 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Categories>(
    asyncEnumerable: new SingleQueryingEnumerable<Categories>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
            SELECT TOP(1) c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
            FROM Categories AS c
            WHERE c.Name == @__categoryDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:48:26.615 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:48:26.615 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 09:48:26.616 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.617 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.621 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:48:26.622 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:48:26.623 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 09:48:26.624 +06:00 [DBG] Executing DbCommand [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 09:48:26.628 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 09:48:26.630 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.631 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 09:48:26.631 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.632 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:48:26.650 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Categories.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:48:26.671 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:48:26.679 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 09:48:26.680 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:48:26.683 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:48:26.684 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:48:26.684 +06:00 [DBG] The unchanged property 'Categories.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 09:48:26.687 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:48:26.695 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.696 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.697 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:48:26.697 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:48:26.698 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:48:26.699 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 09:48:26.709 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 09:48:26.717 +06:00 [DBG] The foreign key property 'Categories.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 09:48:26.722 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.723 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-30 09:48:26.724 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.725 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:48:26.728 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:48:26.729 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 09:48:26.731 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:48:26.734 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:48:26.734 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:48:26.735 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:48:26.736 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:48:26.738 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowCategoryDto'.
2024-09-30 09:48:26.739 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1) in 162.1576ms
2024-09-30 09:48:26.741 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 09:48:26.741 +06:00 [INF] HTTP POST /api/Category/AddCategories responded 200 in 226.5649 ms
2024-09-30 09:48:26.742 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:48:26.743 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:48:26.744 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 09:48:26.745 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Category/AddCategories - 200 null application/json; charset=utf-8 241.3789ms
2024-09-30 09:48:29.736 +06:00 [DBG] Connection id "0HN71098J9VQC" received FIN.
2024-09-30 09:48:29.739 +06:00 [DBG] Connection id "0HN71098J9VQC" is closed. The last processed stream ID was 1.
2024-09-30 09:48:29.739 +06:00 [DBG] The connection queue processing loop for 0HN71098J9VQC completed.
2024-09-30 09:48:29.743 +06:00 [DBG] Connection id "0HN71098J9VQC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:48:29.751 +06:00 [DBG] Connection id "0HN71098J9VQC" stopped.
2024-09-30 09:49:21.878 +06:00 [DBG] Connection id "0HN71098J9VQD" accepted.
2024-09-30 09:49:21.883 +06:00 [DBG] Connection id "0HN71098J9VQD" started.
2024-09-30 09:49:21.890 +06:00 [DBG] Connection 0HN71098J9VQD established using the following protocol: "Tls12"
2024-09-30 09:49:21.896 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 94
2024-09-30 09:49:21.904 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-30 09:49:21.905 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-30 09:49:21.907 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:49:21.908 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:49:21.908 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:49:21.909 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:49:21.910 +06:00 [DBG] Successfully validated the token.
2024-09-30 09:49:21.911 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 09:49:21.916 +06:00 [DBG] Authorization was successful.
2024-09-30 09:49:21.917 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:49:21.921 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 09:49:21.922 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:49:21.923 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:49:21.924 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:49:21.926 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:49:21.927 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:49:21.928 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:49:21.931 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:49:21.933 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-30 09:49:21.933 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-30 09:49:21.934 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:49:21.935 +06:00 [DBG] Connection id "0HN71098J9VQD", Request id "0HN71098J9VQD:00000001": started reading request body.
2024-09-30 09:49:21.936 +06:00 [DBG] Connection id "0HN71098J9VQD", Request id "0HN71098J9VQD:00000001": done reading request body.
2024-09-30 09:49:21.938 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-30 09:49:21.938 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:49:21.939 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:49:21.939 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-30 09:49:21.941 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:49:21.945 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:49:21.949 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __addentitiesDto_Name_0)'
2024-09-30 09:49:21.953 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BussinessEntities>(
    asyncEnumerable: new SingleQueryingEnumerable<BussinessEntities>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            WHERE b.Name == @__addentitiesDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:49:21.955 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:49:21.955 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 09:49:21.956 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:21.957 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:21.957 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:49:21.958 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:49:21.958 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:49:21.959 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-30 09:49:21.965 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-30 09:49:21.967 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:21.968 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 09:49:21.968 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:21.969 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:49:21.973 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'BussinessEntities.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:49:21.987 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:49:21.990 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 09:49:21.990 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:49:21.997 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:49:21.998 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:49:21.999 +06:00 [DBG] The unchanged property 'BussinessEntities.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 09:49:22.000 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:49:22.001 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:22.002 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:22.003 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:49:22.003 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:49:22.005 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 09:49:22.006 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-30 09:49:22.010 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-30 09:49:22.014 +06:00 [DBG] The foreign key property 'BussinessEntities.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 09:49:22.015 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:22.016 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 09:49:22.017 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:22.017 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:49:22.019 +06:00 [DBG] An entity of type 'BussinessEntities' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:49:22.020 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 09:49:22.022 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:49:22.023 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:49:22.024 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:49:22.024 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:49:22.024 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:49:22.025 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowBusinessEntitiesDto'.
2024-09-30 09:49:22.032 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 104.0032ms
2024-09-30 09:49:22.033 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:49:22.034 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 200 in 124.7334 ms
2024-09-30 09:49:22.035 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:49:22.036 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:22.037 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 09:49:22.038 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 200 null application/json; charset=utf-8 141.3955ms
2024-09-30 09:49:39.281 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 95
2024-09-30 09:49:39.333 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-30 09:49:39.349 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-30 09:49:39.376 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:49:39.398 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:49:39.414 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:49:39.434 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:49:39.454 +06:00 [DBG] Successfully validated the token.
2024-09-30 09:49:39.467 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 09:49:39.498 +06:00 [DBG] Authorization was successful.
2024-09-30 09:49:39.514 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:49:39.536 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 09:49:39.574 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:49:39.599 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:49:39.624 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:49:39.659 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:49:39.677 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:49:39.698 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:49:39.720 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:49:39.737 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-30 09:49:39.747 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-30 09:49:39.765 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:49:39.780 +06:00 [DBG] Connection id "0HN71098J9VQD", Request id "0HN71098J9VQD:00000003": started reading request body.
2024-09-30 09:49:39.790 +06:00 [DBG] Connection id "0HN71098J9VQD", Request id "0HN71098J9VQD:00000003": done reading request body.
2024-09-30 09:49:39.804 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-30 09:49:39.812 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:49:39.822 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:49:39.835 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-30 09:49:39.846 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:49:39.863 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:49:39.882 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:49:39.887 +06:00 [DBG] Created DbConnection. (5ms).
2024-09-30 09:49:39.898 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:39.907 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:39.918 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:49:39.925 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-30 09:49:39.939 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-09-30 09:49:39.952 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-30 09:49:39.983 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-30 09:49:40.027 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:40.052 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 33ms reading results.
2024-09-30 09:49:40.082 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:40.108 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (25ms).
2024-09-30 09:49:40.139 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:49:40.180 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:49:40.196 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:49:40.215 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:49:40.232 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-30 09:49:40.258 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-30 09:49:40.287 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 588.7179ms
2024-09-30 09:49:40.311 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:49:40.336 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 400 in 885.6188 ms
2024-09-30 09:49:40.371 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:49:40.389 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:49:40.413 +06:00 [DBG] Disposed connection to database '' on server '' (23ms).
2024-09-30 09:49:40.440 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 400 null text/plain; charset=utf-8 1157.8767ms
2024-09-30 09:50:09.887 +06:00 [DBG] Connection id "0HN71098J9VQD" received FIN.
2024-09-30 09:50:09.889 +06:00 [DBG] Connection id "0HN71098J9VQD" is closed. The last processed stream ID was 3.
2024-09-30 09:50:09.890 +06:00 [DBG] The connection queue processing loop for 0HN71098J9VQD completed.
2024-09-30 09:50:09.892 +06:00 [DBG] Connection id "0HN71098J9VQD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:50:09.903 +06:00 [DBG] Connection id "0HN71098J9VQD" stopped.
2024-09-30 09:53:19.043 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 09:53:19.122 +06:00 [DBG] Hosting starting
2024-09-30 09:53:19.140 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 09:53:19.157 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 09:53:19.168 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 09:53:19.172 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 09:53:19.178 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 09:53:19.185 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 09:53:19.189 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 09:53:19.196 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 09:53:19.199 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 09:53:19.202 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 09:53:19.203 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 09:53:19.206 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 09:53:19.209 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 09:53:19.212 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 09:53:19.213 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 09:53:19.301 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 09:53:19.304 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 09:53:19.311 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 09:53:19.315 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 09:53:19.316 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 09:53:19.317 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 09:53:19.317 +06:00 [INF] Hosting environment: Development
2024-09-30 09:53:19.318 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 09:53:19.318 +06:00 [DBG] Hosting started
2024-09-30 09:53:19.537 +06:00 [DBG] Connection id "0HN710DM2CQNM" accepted.
2024-09-30 09:53:19.541 +06:00 [DBG] Connection id "0HN710DM2CQNM" started.
2024-09-30 09:53:19.548 +06:00 [DBG] Connection id "0HN710DM2CQNN" accepted.
2024-09-30 09:53:19.550 +06:00 [DBG] Connection id "0HN710DM2CQNN" started.
2024-09-30 09:53:19.567 +06:00 [DBG] Connection id "0HN710DM2CQNM" received FIN.
2024-09-30 09:53:19.567 +06:00 [DBG] Connection id "0HN710DM2CQNN" received FIN.
2024-09-30 09:53:19.575 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 09:53:19.575 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 09:53:19.604 +06:00 [DBG] Connection id "0HN710DM2CQNM" stopped.
2024-09-30 09:53:19.604 +06:00 [DBG] Connection id "0HN710DM2CQNN" stopped.
2024-09-30 09:53:19.609 +06:00 [DBG] Connection id "0HN710DM2CQNN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:53:19.609 +06:00 [DBG] Connection id "0HN710DM2CQNM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:53:19.626 +06:00 [DBG] Connection id "0HN710DM2CQNO" accepted.
2024-09-30 09:53:19.629 +06:00 [DBG] Connection id "0HN710DM2CQNO" started.
2024-09-30 09:53:19.684 +06:00 [DBG] Connection 0HN710DM2CQNO established using the following protocol: "Tls12"
2024-09-30 09:53:19.738 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 09:53:19.800 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 09:53:19.812 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 09:53:19.813 +06:00 [DBG] Request did not match any endpoints
2024-09-30 09:53:19.960 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 09:53:19.982 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 09:53:19.987 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 249.9682ms
2024-09-30 09:53:20.002 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 09:53:20.002 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 09:53:20.012 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 8.852ms
2024-09-30 09:53:20.066 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 63.8354ms
2024-09-30 09:53:20.210 +06:00 [DBG] Connection id "0HN710DM2CQNO" received FIN.
2024-09-30 09:53:20.215 +06:00 [DBG] The connection queue processing loop for 0HN710DM2CQNO completed.
2024-09-30 09:53:20.220 +06:00 [DBG] Connection id "0HN710DM2CQNO" is closed. The last processed stream ID was 5.
2024-09-30 09:53:20.221 +06:00 [DBG] Connection id "0HN710DM2CQNO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:53:20.228 +06:00 [DBG] Connection id "0HN710DM2CQNO" stopped.
2024-09-30 09:53:20.362 +06:00 [DBG] Connection id "0HN710DM2CQNP" accepted.
2024-09-30 09:53:20.363 +06:00 [DBG] Connection id "0HN710DM2CQNP" started.
2024-09-30 09:53:20.366 +06:00 [DBG] Connection 0HN710DM2CQNP established using the following protocol: "Tls12"
2024-09-30 09:53:20.369 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 09:53:20.374 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 09:53:20.378 +06:00 [DBG] Request did not match any endpoints
2024-09-30 09:53:20.531 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 161.6775ms
2024-09-30 09:53:30.678 +06:00 [DBG] Connection id "0HN710DM2CQNP" received FIN.
2024-09-30 09:53:30.682 +06:00 [DBG] Connection id "0HN710DM2CQNP" is closed. The last processed stream ID was 1.
2024-09-30 09:53:30.682 +06:00 [DBG] The connection queue processing loop for 0HN710DM2CQNP completed.
2024-09-30 09:53:30.688 +06:00 [DBG] Connection id "0HN710DM2CQNP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:53:30.707 +06:00 [DBG] Connection id "0HN710DM2CQNP" stopped.
2024-09-30 09:53:54.588 +06:00 [DBG] Connection id "0HN710DM2CQNQ" accepted.
2024-09-30 09:53:54.605 +06:00 [DBG] Connection id "0HN710DM2CQNQ" started.
2024-09-30 09:53:54.633 +06:00 [DBG] Connection 0HN710DM2CQNQ established using the following protocol: "Tls12"
2024-09-30 09:53:54.659 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 09:53:54.746 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 09:53:54.794 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 09:53:54.817 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:53:54.847 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:53:54.862 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:53:54.873 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:53:55.189 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 09:53:55.232 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:53:55.574 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 09:53:55.614 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:53:55.630 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:53:55.653 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:53:55.681 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:53:55.698 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:53:55.734 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:53:56.935 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 09:53:57.685 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 09:53:57.697 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 09:53:57.703 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 09:53:57.707 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:53:57.720 +06:00 [DBG] Connection id "0HN710DM2CQNQ", Request id "0HN710DM2CQNQ:00000001": started reading request body.
2024-09-30 09:53:57.725 +06:00 [DBG] Connection id "0HN710DM2CQNQ", Request id "0HN710DM2CQNQ:00000001": done reading request body.
2024-09-30 09:53:57.746 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 09:53:57.752 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:53:57.754 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:53:57.755 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 09:53:57.764 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 09:53:58.383 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 09:53:58.385 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 09:53:58.538 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 09:53:58.763 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:53:58.832 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 09:53:59.083 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:53:59.145 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:53:59.180 +06:00 [DBG] Created DbConnection. (32ms).
2024-09-30 09:53:59.190 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.489 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.496 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:53:59.505 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-30 09:53:59.516 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-09-30 09:53:59.536 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 09:53:59.627 +06:00 [INF] Executed DbCommand (92ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 09:53:59.665 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.684 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 46ms reading results.
2024-09-30 09:53:59.697 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.709 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (11ms).
2024-09-30 09:53:59.868 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 09:53:59.903 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 09:53:59.917 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.920 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.921 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:53:59.921 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:53:59.922 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:53:59.923 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 09:53:59.931 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 09:53:59.934 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.935 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 09:53:59.936 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.936 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:53:59.956 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:53:59.965 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:53:59.965 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:53:59.966 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:53:59.967 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:53:59.968 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 09:53:59.978 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4258.7653ms
2024-09-30 09:53:59.981 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 09:53:59.983 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5084.5345 ms
2024-09-30 09:53:59.986 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:53:59.988 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:53:59.991 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 09:53:59.996 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5337.2468ms
2024-09-30 09:54:05.725 +06:00 [DBG] Connection id "0HN710DM2CQNQ" received FIN.
2024-09-30 09:54:05.731 +06:00 [DBG] Connection id "0HN710DM2CQNQ" is closed. The last processed stream ID was 1.
2024-09-30 09:54:05.731 +06:00 [DBG] The connection queue processing loop for 0HN710DM2CQNQ completed.
2024-09-30 09:54:05.737 +06:00 [DBG] Connection id "0HN710DM2CQNQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:54:05.755 +06:00 [DBG] Connection id "0HN710DM2CQNQ" stopped.
2024-09-30 09:54:47.337 +06:00 [DBG] Connection id "0HN710DM2CQNR" accepted.
2024-09-30 09:54:47.351 +06:00 [DBG] Connection id "0HN710DM2CQNR" started.
2024-09-30 09:54:47.379 +06:00 [DBG] Connection 0HN710DM2CQNR established using the following protocol: "Tls12"
2024-09-30 09:54:47.403 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - null null
2024-09-30 09:54:47.446 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 09:54:47.461 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 09:54:47.481 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 09:54:47.496 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:54:47.985 +06:00 [DBG] Successfully validated the token.
2024-09-30 09:54:48.009 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 09:54:48.033 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 09:54:48.130 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 09:54:48.166 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:54:48.193 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:54:48.221 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:54:48.264 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:54:48.292 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:54:48.323 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:54:48.361 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:54:48.381 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 09:54:48.400 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 09:54:48.468 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 09:54:48.502 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 09:54:48.544 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 09:54:48.577 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 09:54:48.625 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 09:54:48.662 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 09:54:48.691 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 09:54:48.729 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 09:54:48.765 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 09:54:48.788 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 09:54:48.823 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 09:54:48.858 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 09:54:48.883 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 09:54:48.906 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 09:54:48.932 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 09:54:48.975 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 09:54:49.872 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:54:49.881 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Count()'
2024-09-30 09:54:49.949 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM BussinessEntities AS b), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:54:49.967 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:54:49.971 +06:00 [DBG] Created DbConnection. (4ms).
2024-09-30 09:54:49.976 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:49.978 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:49.978 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:54:49.979 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:54:49.980 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:54:49.980 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 09:54:49.986 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 09:54:49.989 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:49.989 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 09:54:49.990 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:49.991 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:54:49.993 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-30 09:54:49.995 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 09:54:49.995 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 09:54:49.996 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 09:54:50.006 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 09:54:50.014 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT t.Id, t.Address, t.CreatedAtUtc, t.Email, t.Name, t.Type, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 09:54:50.020 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:50.021 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:50.022 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:54:50.022 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:54:50.023 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:54:50.024 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 09:54:50.030 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 09:54:50.072 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:54:50.115 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:50.121 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 87ms reading results.
2024-09-30 09:54:50.122 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:50.123 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:54:50.142 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:54:50.151 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:54:50.152 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:54:50.153 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:54:50.154 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:54:50.155 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 09:54:50.163 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 1839.9591ms
2024-09-30 09:54:50.164 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 09:54:50.165 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 2655.0996 ms
2024-09-30 09:54:50.166 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:54:50.167 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:54:50.169 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 09:54:50.172 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - 200 null application/json; charset=utf-8 2770.1185ms
2024-09-30 09:55:25.829 +06:00 [DBG] Connection id "0HN710DM2CQNR" received FIN.
2024-09-30 09:55:25.832 +06:00 [DBG] Connection id "0HN710DM2CQNR" is closed. The last processed stream ID was 1.
2024-09-30 09:55:25.832 +06:00 [DBG] The connection queue processing loop for 0HN710DM2CQNR completed.
2024-09-30 09:55:25.834 +06:00 [DBG] Connection id "0HN710DM2CQNR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:55:25.843 +06:00 [DBG] Connection id "0HN710DM2CQNR" stopped.
2024-09-30 09:56:03.067 +06:00 [DBG] Connection id "0HN710DM2CQNS" accepted.
2024-09-30 09:56:03.069 +06:00 [DBG] Connection id "0HN710DM2CQNS" started.
2024-09-30 09:56:03.075 +06:00 [DBG] Connection 0HN710DM2CQNS established using the following protocol: "Tls12"
2024-09-30 09:56:03.079 +06:00 [INF] Request starting HTTP/2 PUT https://localhost:7028/api/BusinessEntities/UpdateBusinessEntities - application/json 121
2024-09-30 09:56:03.096 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/UpdateBusinessEntities'
2024-09-30 09:56:03.096 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.UpdateBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/UpdateBusinessEntities' is valid for the request path '/api/BusinessEntities/UpdateBusinessEntities'
2024-09-30 09:56:03.097 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.UpdateBusinessEntities (WebApplication1)'
2024-09-30 09:56:03.098 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:56:03.099 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:56:03.099 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:56:03.102 +06:00 [DBG] Successfully validated the token.
2024-09-30 09:56:03.103 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 09:56:03.103 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.UpdateBusinessEntities (WebApplication1)'
2024-09-30 09:56:03.106 +06:00 [INF] Route matched with {action = "UpdateBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateBusinessEntities(Service.dtos.UpdateBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 09:56:03.108 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:56:03.109 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:56:03.110 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:56:03.112 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:56:03.112 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:56:03.113 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:56:03.115 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:56:03.116 +06:00 [DBG] Attempting to bind parameter 'BsEdto' of type 'Service.dtos.UpdateBusinessEntitiesDto' ...
2024-09-30 09:56:03.116 +06:00 [DBG] Attempting to bind parameter 'BsEdto' of type 'Service.dtos.UpdateBusinessEntitiesDto' using the name '' in request data ...
2024-09-30 09:56:03.117 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:56:03.118 +06:00 [DBG] Connection id "0HN710DM2CQNS", Request id "0HN710DM2CQNS:00000001": started reading request body.
2024-09-30 09:56:03.119 +06:00 [DBG] Connection id "0HN710DM2CQNS", Request id "0HN710DM2CQNS:00000001": done reading request body.
2024-09-30 09:56:03.121 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UpdateBusinessEntitiesDto'
2024-09-30 09:56:03.122 +06:00 [DBG] Done attempting to bind parameter 'BsEdto' of type 'Service.dtos.UpdateBusinessEntitiesDto'.
2024-09-30 09:56:03.122 +06:00 [DBG] Done attempting to bind parameter 'BsEdto' of type 'Service.dtos.UpdateBusinessEntitiesDto'.
2024-09-30 09:56:03.123 +06:00 [DBG] Attempting to validate the bound parameter 'BsEdto' of type 'Service.dtos.UpdateBusinessEntitiesDto' ...
2024-09-30 09:56:03.125 +06:00 [DBG] Done attempting to validate the bound parameter 'BsEdto' of type 'Service.dtos.UpdateBusinessEntitiesDto'.
2024-09-30 09:56:03.146 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:56:03.148 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .AsNoTracking()
    .FirstOrDefault(p => p.Id == __showUserDto_Id_0)'
2024-09-30 09:56:03.154 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BussinessEntities>(
    asyncEnumerable: new SingleQueryingEnumerable<BussinessEntities>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            WHERE b.Id == @__showUserDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:56:03.158 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:56:03.159 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 09:56:03.160 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.161 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.162 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:56:03.162 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:56:03.163 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:56:03.164 +06:00 [DBG] Executing DbCommand [Parameters=[@__showUserDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Id] = @__showUserDto_Id_0
2024-09-30 09:56:03.180 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__showUserDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Id] = @__showUserDto_Id_0
2024-09-30 09:56:03.182 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.182 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 09:56:03.183 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.184 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:56:03.199 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:56:03.202 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 09:56:03.206 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:56:03.213 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:56:03.216 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:56:03.216 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:56:03.290 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.296 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.307 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:56:03.314 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-30 09:56:03.319 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-30 09:56:03.320 +06:00 [DBG] Executing DbCommand [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BussinessEntities] SET [Address] = @p0, [CreatedAtUtc] = @p1, [Email] = @p2, [Name] = @p3, [Type] = @p4, [UpdatedAtUtc] = @p5, [UsersId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-09-30 09:56:03.328 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [BussinessEntities] SET [Address] = @p0, [CreatedAtUtc] = @p1, [Email] = @p2, [Name] = @p3, [Type] = @p4, [UpdatedAtUtc] = @p5, [UsersId] = @p6
OUTPUT 1
WHERE [Id] = @p7;
2024-09-30 09:56:03.335 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.336 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-09-30 09:56:03.337 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.338 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:56:03.347 +06:00 [DBG] An entity of type 'BussinessEntities' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:56:03.350 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 09:56:03.352 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Id == __showUserDto_Id_0)'
2024-09-30 09:56:03.358 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BussinessEntities>(
    asyncEnumerable: new SingleQueryingEnumerable<BussinessEntities>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            WHERE b.Id == @__showUserDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:56:03.362 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.362 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.363 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:56:03.364 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:56:03.364 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:56:03.365 +06:00 [DBG] Executing DbCommand [Parameters=[@__showUserDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Id] = @__showUserDto_Id_0
2024-09-30 09:56:03.367 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[@__showUserDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Id] = @__showUserDto_Id_0
2024-09-30 09:56:03.370 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.371 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 09:56:03.371 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.372 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:56:03.374 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:56:03.377 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:56:03.378 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:56:03.378 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:56:03.379 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:56:03.379 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowBusinessEntitiesDto'.
2024-09-30 09:56:03.380 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.UpdateBusinessEntities (WebApplication1) in 266.8717ms
2024-09-30 09:56:03.381 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.UpdateBusinessEntities (WebApplication1)'
2024-09-30 09:56:03.382 +06:00 [INF] HTTP PUT /api/BusinessEntities/UpdateBusinessEntities responded 200 in 281.8885 ms
2024-09-30 09:56:03.383 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:56:03.383 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:03.384 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 09:56:03.385 +06:00 [INF] Request finished HTTP/2 PUT https://localhost:7028/api/BusinessEntities/UpdateBusinessEntities - 200 null application/json; charset=utf-8 305.3944ms
2024-09-30 09:56:35.920 +06:00 [DBG] Connection id "0HN710DM2CQNS" received FIN.
2024-09-30 09:56:35.922 +06:00 [DBG] Connection id "0HN710DM2CQNS" is closed. The last processed stream ID was 1.
2024-09-30 09:56:35.923 +06:00 [DBG] The connection queue processing loop for 0HN710DM2CQNS completed.
2024-09-30 09:56:35.926 +06:00 [DBG] Connection id "0HN710DM2CQNS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:56:35.937 +06:00 [DBG] Connection id "0HN710DM2CQNS" stopped.
2024-09-30 09:56:50.895 +06:00 [DBG] Connection id "0HN710DM2CQNT" accepted.
2024-09-30 09:56:50.902 +06:00 [DBG] Connection id "0HN710DM2CQNT" started.
2024-09-30 09:56:50.907 +06:00 [DBG] Connection 0HN710DM2CQNT established using the following protocol: "Tls12"
2024-09-30 09:56:50.915 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 107
2024-09-30 09:56:50.925 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-30 09:56:50.928 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-30 09:56:50.930 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:56:50.931 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:56:50.932 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 09:56:50.932 +06:00 [INF] CORS policy execution successful.
2024-09-30 09:56:50.933 +06:00 [DBG] Successfully validated the token.
2024-09-30 09:56:50.933 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 09:56:50.941 +06:00 [DBG] Authorization was successful.
2024-09-30 09:56:50.943 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:56:50.947 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 09:56:50.948 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:56:50.948 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:56:50.949 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:56:50.950 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:56:50.951 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:56:50.952 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:56:50.958 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:56:50.959 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-30 09:56:50.959 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-30 09:56:50.960 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 09:56:50.961 +06:00 [DBG] Connection id "0HN710DM2CQNT", Request id "0HN710DM2CQNT:00000001": started reading request body.
2024-09-30 09:56:50.962 +06:00 [DBG] Connection id "0HN710DM2CQNT", Request id "0HN710DM2CQNT:00000001": done reading request body.
2024-09-30 09:56:50.963 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-30 09:56:50.965 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:56:50.966 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:56:50.966 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-30 09:56:50.969 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-30 09:56:50.974 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:56:50.976 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __addentitiesDto_Name_0)'
2024-09-30 09:56:50.979 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BussinessEntities>(
    asyncEnumerable: new SingleQueryingEnumerable<BussinessEntities>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            WHERE b.Name == @__addentitiesDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 09:56:50.981 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:56:50.981 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 09:56:50.982 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:50.982 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:50.983 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:56:50.983 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:56:50.984 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:56:50.985 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-30 09:56:50.992 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-30 09:56:50.994 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:50.994 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 09:56:50.995 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:50.996 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:56:51.027 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'BussinessEntities.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:56:51.040 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:56:51.044 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 09:56:51.052 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:56:51.058 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:56:51.061 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 09:56:51.063 +06:00 [DBG] The unchanged property 'BussinessEntities.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 09:56:51.065 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 09:56:51.075 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:51.076 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:51.076 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:56:51.077 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:56:51.077 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:56:51.078 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-30 09:56:51.082 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-30 09:56:51.095 +06:00 [DBG] The foreign key property 'BussinessEntities.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 09:56:51.101 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:51.102 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-09-30 09:56:51.106 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:51.107 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:56:51.109 +06:00 [DBG] An entity of type 'BussinessEntities' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:56:51.111 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 09:56:51.112 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:56:51.113 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:56:51.113 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:56:51.114 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:56:51.114 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:56:51.115 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowBusinessEntitiesDto'.
2024-09-30 09:56:51.116 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 164.0857ms
2024-09-30 09:56:51.117 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-30 09:56:51.118 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 200 in 185.2476 ms
2024-09-30 09:56:51.119 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:56:51.121 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:56:51.123 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 09:56:51.124 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 200 null application/json; charset=utf-8 208.6791ms
2024-09-30 09:57:29.486 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - null null
2024-09-30 09:57:29.490 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 09:57:29.491 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 09:57:29.494 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 09:57:29.497 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 09:57:29.499 +06:00 [DBG] Successfully validated the token.
2024-09-30 09:57:29.500 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 09:57:29.502 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 09:57:29.504 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 09:57:29.508 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 09:57:29.511 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 09:57:29.517 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 09:57:29.521 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 09:57:29.525 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 09:57:29.533 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:57:29.541 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 09:57:29.548 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 09:57:29.556 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 09:57:29.557 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 09:57:29.559 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 09:57:29.561 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 09:57:29.562 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 09:57:29.564 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 09:57:29.568 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 09:57:29.570 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 09:57:29.571 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 09:57:29.572 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 09:57:29.573 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 09:57:29.574 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 09:57:29.576 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 09:57:29.577 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 09:57:29.578 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 09:57:29.579 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 09:57:29.581 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 09:57:29.585 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 09:57:29.588 +06:00 [DBG] Creating DbConnection.
2024-09-30 09:57:29.589 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 09:57:29.590 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.591 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.591 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:57:29.592 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:57:29.593 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:57:29.594 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 09:57:29.598 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 09:57:29.600 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.601 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 09:57:29.603 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.604 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 09:57:29.607 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.608 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.609 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 09:57:29.610 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 09:57:29.611 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 09:57:29.612 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 09:57:29.619 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 09:57:29.622 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:57:29.624 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 09:57:29.625 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.625 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-30 09:57:29.626 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.627 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 09:57:29.628 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 09:57:29.629 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 09:57:29.629 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 09:57:29.630 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 09:57:29.630 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 09:57:29.632 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 09:57:29.633 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 100.0703ms
2024-09-30 09:57:29.634 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 09:57:29.635 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 136.9208 ms
2024-09-30 09:57:29.636 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 09:57:29.637 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 09:57:29.637 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 09:57:29.638 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - 200 null application/json; charset=utf-8 152.2334ms
2024-09-30 09:59:42.364 +06:00 [DBG] Connection id "0HN710DM2CQNT" is closing.
2024-09-30 09:59:42.366 +06:00 [DBG] Connection id "0HN710DM2CQNT" is closed. The last processed stream ID was 3.
2024-09-30 09:59:42.370 +06:00 [DBG] Connection id "0HN710DM2CQNT" received FIN.
2024-09-30 09:59:42.371 +06:00 [DBG] Connection id "0HN710DM2CQNT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 09:59:42.381 +06:00 [DBG] The connection queue processing loop for 0HN710DM2CQNT completed.
2024-09-30 09:59:42.385 +06:00 [DBG] Connection id "0HN710DM2CQNT" stopped.
2024-09-30 10:00:52.746 +06:00 [DBG] Connection id "0HN710DM2CQNU" accepted.
2024-09-30 10:00:52.747 +06:00 [DBG] Connection id "0HN710DM2CQNU" started.
2024-09-30 10:00:52.751 +06:00 [DBG] Connection 0HN710DM2CQNU established using the following protocol: "Tls12"
2024-09-30 10:00:52.756 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Category/AddCategories - application/json 24
2024-09-30 10:00:52.769 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 10:00:52.770 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)' with route pattern 'api/Category/AddCategories' is valid for the request path '/api/Category/AddCategories'
2024-09-30 10:00:52.772 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 10:00:52.774 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 10:00:52.776 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 10:00:52.777 +06:00 [INF] CORS policy execution successful.
2024-09-30 10:00:52.778 +06:00 [DBG] Successfully validated the token.
2024-09-30 10:00:52.779 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 10:00:52.780 +06:00 [DBG] Authorization was successful.
2024-09-30 10:00:52.781 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 10:00:52.784 +06:00 [INF] Route matched with {action = "AddCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCategories(Service.dtos.AddCategoryDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 10:00:52.785 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 10:00:52.786 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 10:00:52.786 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 10:00:52.789 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 10:00:52.791 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 10:00:52.791 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 10:00:52.793 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 10:00:52.793 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 10:00:52.794 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' using the name '' in request data ...
2024-09-30 10:00:52.795 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 10:00:52.796 +06:00 [DBG] Connection id "0HN710DM2CQNU", Request id "0HN710DM2CQNU:00000001": started reading request body.
2024-09-30 10:00:52.797 +06:00 [DBG] Connection id "0HN710DM2CQNU", Request id "0HN710DM2CQNU:00000001": done reading request body.
2024-09-30 10:00:52.798 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddCategoryDto'
2024-09-30 10:00:52.798 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 10:00:52.799 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 10:00:52.799 +06:00 [DBG] Attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 10:00:52.801 +06:00 [DBG] Done attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 10:00:52.804 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 10:00:52.808 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __categoryDto_Name_0)'
2024-09-30 10:00:52.812 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Categories>(
    asyncEnumerable: new SingleQueryingEnumerable<Categories>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
            SELECT TOP(1) c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
            FROM Categories AS c
            WHERE c.Name == @__categoryDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 10:00:52.814 +06:00 [DBG] Creating DbConnection.
2024-09-30 10:00:52.814 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 10:00:52.815 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:00:52.816 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:00:52.816 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 10:00:52.817 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 10:00:52.817 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 10:00:52.818 +06:00 [DBG] Executing DbCommand [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 10:00:52.829 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 10:00:52.831 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:00:52.832 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 10:00:52.833 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:00:52.833 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 10:00:52.835 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 10:00:52.836 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 10:00:52.836 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 10:00:52.838 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 10:00:52.839 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-30 10:00:52.841 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-30 10:00:52.842 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1) in 50.2718ms
2024-09-30 10:00:52.843 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 10:00:52.843 +06:00 [INF] HTTP POST /api/Category/AddCategories responded 400 in 65.7760 ms
2024-09-30 10:00:52.844 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 10:00:52.845 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:00:52.846 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 10:00:52.847 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Category/AddCategories - 400 null text/plain; charset=utf-8 90.7003ms
2024-09-30 10:01:06.014 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Category/AddCategories - application/json 20
2024-09-30 10:01:06.067 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/AddCategories'
2024-09-30 10:01:06.084 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)' with route pattern 'api/Category/AddCategories' is valid for the request path '/api/Category/AddCategories'
2024-09-30 10:01:06.110 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 10:01:06.125 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 10:01:06.134 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 10:01:06.146 +06:00 [INF] CORS policy execution successful.
2024-09-30 10:01:06.160 +06:00 [DBG] Successfully validated the token.
2024-09-30 10:01:06.174 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 10:01:06.219 +06:00 [DBG] Authorization was successful.
2024-09-30 10:01:06.234 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 10:01:06.250 +06:00 [INF] Route matched with {action = "AddCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddCategories(Service.dtos.AddCategoryDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 10:01:06.281 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 10:01:06.298 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 10:01:06.315 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 10:01:06.347 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 10:01:06.365 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 10:01:06.387 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 10:01:06.410 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 10:01:06.426 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 10:01:06.436 +06:00 [DBG] Attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' using the name '' in request data ...
2024-09-30 10:01:06.457 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 10:01:06.478 +06:00 [DBG] Connection id "0HN710DM2CQNU", Request id "0HN710DM2CQNU:00000003": started reading request body.
2024-09-30 10:01:06.495 +06:00 [DBG] Connection id "0HN710DM2CQNU", Request id "0HN710DM2CQNU:00000003": done reading request body.
2024-09-30 10:01:06.513 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddCategoryDto'
2024-09-30 10:01:06.523 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 10:01:06.539 +06:00 [DBG] Done attempting to bind parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 10:01:06.555 +06:00 [DBG] Attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto' ...
2024-09-30 10:01:06.569 +06:00 [DBG] Done attempting to validate the bound parameter 'AddCategoriesDto' of type 'Service.dtos.AddCategoryDto'.
2024-09-30 10:01:06.594 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 10:01:06.649 +06:00 [DBG] Creating DbConnection.
2024-09-30 10:01:06.657 +06:00 [DBG] Created DbConnection. (7ms).
2024-09-30 10:01:06.666 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:06.680 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:06.692 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 10:01:06.700 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-30 10:01:06.712 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-09-30 10:01:06.724 +06:00 [DBG] Executing DbCommand [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 10:01:06.779 +06:00 [INF] Executed DbCommand (55ms) [Parameters=[@__categoryDto_Name_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
FROM [Categories] AS [c]
WHERE [c].[Name] = @__categoryDto_Name_0
2024-09-30 10:01:06.804 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:06.818 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 14ms reading results.
2024-09-30 10:01:06.839 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:06.850 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (11ms).
2024-09-30 10:01:06.895 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Categories.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 10:01:07.091 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 10:01:07.116 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 10:01:07.135 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 10:01:07.181 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 10:01:07.201 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 10:01:07.220 +06:00 [DBG] The unchanged property 'Categories.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 10:01:07.249 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 10:01:07.296 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:07.321 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:07.345 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 10:01:07.365 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (20ms).
2024-09-30 10:01:07.390 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (45ms).
2024-09-30 10:01:07.416 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 10:01:07.513 +06:00 [INF] Executed DbCommand (97ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Categories] ([CreatedAtUtc], [Name], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-30 10:01:07.574 +06:00 [DBG] The foreign key property 'Categories.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 10:01:07.593 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:07.610 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 44ms reading results.
2024-09-30 10:01:07.628 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:07.639 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (11ms).
2024-09-30 10:01:07.663 +06:00 [DBG] An entity of type 'Categories' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 10:01:07.682 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 10:01:07.711 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 10:01:07.734 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 10:01:07.742 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 10:01:07.750 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 10:01:07.758 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 10:01:07.768 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowCategoryDto'.
2024-09-30 10:01:07.793 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1) in 1406.9415ms
2024-09-30 10:01:07.808 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.AddCategories (WebApplication1)'
2024-09-30 10:01:07.815 +06:00 [INF] HTTP POST /api/Category/AddCategories responded 200 in 1657.2036 ms
2024-09-30 10:01:07.830 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 10:01:07.842 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 10:01:07.852 +06:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-09-30 10:01:07.868 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Category/AddCategories - 200 null application/json; charset=utf-8 1854.0195ms
2024-09-30 10:01:46.450 +06:00 [DBG] Connection id "0HN710DM2CQNU" received FIN.
2024-09-30 10:01:46.453 +06:00 [DBG] Connection id "0HN710DM2CQNU" is closed. The last processed stream ID was 3.
2024-09-30 10:01:46.453 +06:00 [DBG] The connection queue processing loop for 0HN710DM2CQNU completed.
2024-09-30 10:01:46.457 +06:00 [DBG] Connection id "0HN710DM2CQNU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 10:01:46.464 +06:00 [DBG] Connection id "0HN710DM2CQNU" stopped.
2024-09-30 14:16:21.737 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 14:16:21.902 +06:00 [DBG] Hosting starting
2024-09-30 14:16:22.055 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 14:16:22.065 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 14:16:22.100 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 14:16:22.115 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 14:16:22.135 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 14:16:22.144 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 14:16:22.147 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 14:16:22.151 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 14:16:22.154 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 14:16:22.156 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 14:16:22.158 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 14:16:22.161 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 14:16:22.163 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 14:16:22.166 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 14:16:22.167 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 14:16:22.599 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 14:16:22.600 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 14:16:22.603 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 14:16:22.609 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 14:16:22.616 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 14:16:22.622 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 14:16:22.624 +06:00 [INF] Hosting environment: Development
2024-09-30 14:16:22.625 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 14:16:22.625 +06:00 [DBG] Hosting started
2024-09-30 14:16:22.744 +06:00 [DBG] Connection id "0HN7150LQP495" accepted.
2024-09-30 14:16:22.747 +06:00 [DBG] Connection id "0HN7150LQP495" started.
2024-09-30 14:16:22.748 +06:00 [DBG] Connection id "0HN7150LQP495" received FIN.
2024-09-30 14:16:22.767 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 14:16:22.792 +06:00 [DBG] Connection id "0HN7150LQP495" stopped.
2024-09-30 14:16:22.798 +06:00 [DBG] Connection id "0HN7150LQP495" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 14:16:22.816 +06:00 [DBG] Connection id "0HN7150LQP496" accepted.
2024-09-30 14:16:22.818 +06:00 [DBG] Connection id "0HN7150LQP496" started.
2024-09-30 14:16:22.867 +06:00 [DBG] Connection 0HN7150LQP496 established using the following protocol: "Tls12"
2024-09-30 14:16:22.949 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 14:16:23.156 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 14:16:23.188 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 14:16:23.193 +06:00 [DBG] Request did not match any endpoints
2024-09-30 14:16:23.345 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 14:16:23.377 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 14:16:23.382 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 435.6368ms
2024-09-30 14:16:23.656 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 14:16:23.656 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 14:16:23.668 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.2909ms
2024-09-30 14:16:23.714 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 58.2964ms
2024-09-30 14:16:23.941 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 14:16:23.949 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 14:16:23.950 +06:00 [DBG] Request did not match any endpoints
2024-09-30 14:16:24.163 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 221.4677ms
2024-09-30 14:16:27.402 +06:00 [DBG] Connection id "0HN7150LQP496" received FIN.
2024-09-30 14:16:27.414 +06:00 [DBG] The connection queue processing loop for 0HN7150LQP496 completed.
2024-09-30 14:16:27.417 +06:00 [DBG] Connection id "0HN7150LQP496" is closed. The last processed stream ID was 7.
2024-09-30 14:16:27.418 +06:00 [DBG] Connection id "0HN7150LQP496" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 14:16:27.432 +06:00 [DBG] Connection id "0HN7150LQP496" stopped.
2024-09-30 16:02:13.114 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:02:13.731 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:02:13.734 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:02:13.906 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:02:14.074 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:02:14.122 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:02:14.122 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:02:14.143 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:02:16.005 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:02:26.815 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:02:27.257 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:02:27.258 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:02:27.392 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:02:27.501 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:02:27.517 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:02:27.723 +06:00 [DBG] Created DbConnection. (203ms).
2024-09-30 16:02:27.725 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:27.731 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.335 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.343 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 16:02:28.355 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (9ms).
2024-09-30 16:02:28.360 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (19ms).
2024-09-30 16:02:28.371 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 16:02:28.419 +06:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 16:02:28.421 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.433 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-30 16:02:28.438 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 16:02:28.438 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 16:02:28.438 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 16:02:28.439 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.440 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.442 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 16:02:28.467 +06:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 16:02:28.467 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.468 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:02:28.470 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.470 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.470 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 16:02:28.470 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 16:02:28.470 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 16:02:28.470 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 16:02:28.472 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 16:02:28.473 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.473 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:02:28.474 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 16:02:28.474 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 16:02:28.474 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 16:02:28.474 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.474 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.474 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 16:02:28.476 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 16:02:28.476 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.476 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:02:28.495 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.496 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.496 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:02:28.496 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:02:28.496 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:02:28.497 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 16:02:28.515 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 16:02:28.519 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.521 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 16:02:28.521 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.522 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:02:28.538 +06:00 [INF] Applying migration '20240930100215_transaction type properties data type change'.
2024-09-30 16:02:28.680 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.680 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.684 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 16:02:28.693 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 16:02:28.694 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 16:02:28.694 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 16:02:28.695 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-30 16:02:28.696 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Transactions]') AND [c].[name] = N'TransactionTypes');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Transactions] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Transactions] ALTER COLUMN [TransactionTypes] int NOT NULL;
2024-09-30 16:02:28.827 +06:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Transactions]') AND [c].[name] = N'TransactionTypes');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Transactions] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [Transactions] ALTER COLUMN [TransactionTypes] int NOT NULL;
2024-09-30 16:02:28.828 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 16:02:28.828 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 16:02:28.829 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 16:02:28.829 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930100215_transaction type properties data type change', N'8.0.8');
2024-09-30 16:02:28.848 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930100215_transaction type properties data type change', N'8.0.8');
2024-09-30 16:02:28.850 +06:00 [DBG] Committing transaction.
2024-09-30 16:02:28.855 +06:00 [DBG] Committed transaction.
2024-09-30 16:02:28.858 +06:00 [DBG] Disposing transaction.
2024-09-30 16:02:28.859 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.859 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:02:28.862 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:02:28.865 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:02:28.867 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 16:13:38.867 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 16:13:38.945 +06:00 [DBG] Hosting starting
2024-09-30 16:13:38.961 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 16:13:38.971 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 16:13:38.975 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 16:13:38.976 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 16:13:38.979 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 16:13:38.982 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 16:13:38.983 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 16:13:38.987 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 16:13:38.990 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:13:38.992 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 16:13:38.994 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:13:38.996 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 16:13:39.000 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 16:13:39.003 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 16:13:39.004 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 16:13:39.082 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 16:13:39.085 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 16:13:39.086 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 16:13:39.086 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 16:13:39.087 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 16:13:39.088 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 16:13:39.088 +06:00 [INF] Hosting environment: Development
2024-09-30 16:13:39.088 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 16:13:39.089 +06:00 [DBG] Hosting started
2024-09-30 16:13:39.397 +06:00 [DBG] Connection id "0HN71726THBOL" received FIN.
2024-09-30 16:13:39.402 +06:00 [DBG] Connection id "0HN71726THBOL" accepted.
2024-09-30 16:13:39.404 +06:00 [DBG] Connection id "0HN71726THBOL" started.
2024-09-30 16:13:39.417 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 16:13:39.443 +06:00 [DBG] Connection id "0HN71726THBOL" stopped.
2024-09-30 16:13:39.445 +06:00 [DBG] Connection id "0HN71726THBOL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:13:39.559 +06:00 [DBG] Connection id "0HN71726THBOM" accepted.
2024-09-30 16:13:39.565 +06:00 [DBG] Connection id "0HN71726THBOM" started.
2024-09-30 16:13:39.632 +06:00 [DBG] Connection 0HN71726THBOM established using the following protocol: "Tls12"
2024-09-30 16:13:39.738 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 16:13:39.829 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 16:13:39.849 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 16:13:39.850 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:13:39.994 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 16:13:40.089 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 16:13:40.094 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 362.014ms
2024-09-30 16:13:40.263 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 16:13:40.276 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 13.4696ms
2024-09-30 16:13:40.295 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 16:13:40.332 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.2552ms
2024-09-30 16:13:40.601 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 16:13:40.605 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 16:13:40.607 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:13:40.762 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 160.3925ms
2024-09-30 16:13:41.672 +06:00 [DBG] Connection id "0HN71726THBOM" received FIN.
2024-09-30 16:13:41.679 +06:00 [DBG] The connection queue processing loop for 0HN71726THBOM completed.
2024-09-30 16:13:41.684 +06:00 [DBG] Connection id "0HN71726THBOM" is closed. The last processed stream ID was 7.
2024-09-30 16:13:41.688 +06:00 [DBG] Connection id "0HN71726THBOM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:13:41.699 +06:00 [DBG] Connection id "0HN71726THBOM" stopped.
2024-09-30 16:14:42.298 +06:00 [DBG] Connection id "0HN71726THBON" accepted.
2024-09-30 16:14:42.300 +06:00 [DBG] Connection id "0HN71726THBON" started.
2024-09-30 16:14:42.304 +06:00 [DBG] Connection 0HN71726THBON established using the following protocol: "Tls12"
2024-09-30 16:14:42.309 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories - null null
2024-09-30 16:14:42.320 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-09-30 16:14:42.324 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-09-30 16:14:42.328 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 16:14:42.334 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:14:43.536 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:14:43.541 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 16:14:43.566 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-09-30 16:14:43.570 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:14:43.570 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:14:43.571 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:14:43.573 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:14:43.574 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:14:43.576 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 16:14:43.726 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:14:43.869 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-09-30 16:14:43.908 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 16:14:43.913 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 16:14:43.916 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 16:14:43.918 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 16:14:43.919 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 16:14:43.920 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 16:14:43.921 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 16:14:43.922 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 16:14:43.923 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 16:14:43.924 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 16:14:43.925 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 16:14:43.925 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 16:14:43.926 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 16:14:43.928 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 16:14:43.930 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 16:14:43.930 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 16:14:43.931 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 16:14:43.935 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 16:14:44.713 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:14:44.720 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:14:44.841 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:14:44.987 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:14:45.074 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .Count()'
2024-09-30 16:14:45.226 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Categories AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:14:45.255 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:14:45.276 +06:00 [DBG] Created DbConnection. (20ms).
2024-09-30 16:14:45.283 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.190 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.195 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:14:46.200 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-30 16:14:46.202 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-30 16:14:46.209 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 16:14:46.250 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-09-30 16:14:46.268 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.274 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-09-30 16:14:46.279 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.284 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-09-30 16:14:46.290 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-30 16:14:46.298 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:14:46.300 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:14:46.300 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:14:46.306 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:14:46.325 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Categories>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
        SELECT t.Id, t.CreatedAtUtc, t.Name, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
            FROM Categories AS c
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:14:46.336 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.338 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.338 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:14:46.339 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:14:46.341 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 16:14:46.344 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 16:14:46.411 +06:00 [INF] Executed DbCommand (69ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 16:14:46.437 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:14:46.459 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:14:46.462 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.464 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 50ms reading results.
2024-09-30 16:14:46.465 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.466 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:14:46.480 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:14:46.483 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:14:46.484 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:14:46.484 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:14:46.486 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:14:46.487 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:14:46.500 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 2922.4264ms
2024-09-30 16:14:46.501 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-09-30 16:14:46.504 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 4167.4265 ms
2024-09-30 16:14:46.506 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:14:46.510 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:14:46.512 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 16:14:46.514 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories - 200 null application/json; charset=utf-8 4205.5866ms
2024-09-30 16:14:51.787 +06:00 [DBG] Connection id "0HN71726THBON" received FIN.
2024-09-30 16:14:51.788 +06:00 [DBG] Connection id "0HN71726THBON" is closed. The last processed stream ID was 1.
2024-09-30 16:14:51.788 +06:00 [DBG] The connection queue processing loop for 0HN71726THBON completed.
2024-09-30 16:14:51.790 +06:00 [DBG] Connection id "0HN71726THBON" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:14:51.811 +06:00 [DBG] Connection id "0HN71726THBON" stopped.
2024-09-30 16:15:04.067 +06:00 [DBG] Connection id "0HN71726THBOO" accepted.
2024-09-30 16:15:04.071 +06:00 [DBG] Connection id "0HN71726THBOO" started.
2024-09-30 16:15:04.074 +06:00 [DBG] Connection 0HN71726THBOO established using the following protocol: "Tls12"
2024-09-30 16:15:04.076 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - null null
2024-09-30 16:15:04.085 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 16:15:04.086 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-09-30 16:15:04.087 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 16:15:04.088 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:15:04.089 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:15:04.090 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 16:15:04.096 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-30 16:15:04.098 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:15:04.098 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:15:04.099 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:15:04.100 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:15:04.101 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:15:04.102 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 16:15:04.103 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-30 16:15:04.104 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 16:15:04.105 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-09-30 16:15:04.106 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-30 16:15:04.107 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 16:15:04.111 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-09-30 16:15:04.112 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-30 16:15:04.112 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 16:15:04.113 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-09-30 16:15:04.114 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-09-30 16:15:04.115 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 16:15:04.116 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-09-30 16:15:04.117 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-09-30 16:15:04.118 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 16:15:04.119 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-09-30 16:15:04.119 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 16:15:04.120 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 16:15:04.120 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-09-30 16:15:04.121 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-09-30 16:15:04.166 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:15:04.169 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Count()'
2024-09-30 16:15:04.172 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM BussinessEntities AS b), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:15:04.173 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:15:04.174 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 16:15:04.176 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.177 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.178 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:15:04.178 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:15:04.179 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:15:04.179 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 16:15:04.183 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-09-30 16:15:04.184 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.185 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 16:15:04.185 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.186 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:15:04.187 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-09-30 16:15:04.188 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:15:04.189 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:15:04.189 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:15:04.190 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-30 16:15:04.195 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT t.Id, t.Address, t.CreatedAtUtc, t.Email, t.Name, t.Type, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:15:04.197 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.198 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.199 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:15:04.199 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:15:04.200 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:15:04.200 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 16:15:04.204 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-09-30 16:15:04.211 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:15:04.222 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:15:04.223 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.223 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-09-30 16:15:04.224 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.226 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:15:04.230 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:15:04.231 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:15:04.232 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:15:04.232 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:15:04.233 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:15:04.233 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-09-30 16:15:04.239 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 137.6507ms
2024-09-30 16:15:04.241 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-09-30 16:15:04.243 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 154.8601 ms
2024-09-30 16:15:04.245 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:15:04.246 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:15:04.246 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 16:15:04.247 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - 200 null application/json; charset=utf-8 171.0347ms
2024-09-30 16:15:11.825 +06:00 [DBG] Connection id "0HN71726THBOO" received FIN.
2024-09-30 16:15:11.826 +06:00 [DBG] Connection id "0HN71726THBOO" is closed. The last processed stream ID was 1.
2024-09-30 16:15:11.827 +06:00 [DBG] The connection queue processing loop for 0HN71726THBOO completed.
2024-09-30 16:15:11.828 +06:00 [DBG] Connection id "0HN71726THBOO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:15:11.841 +06:00 [DBG] Connection id "0HN71726THBOO" stopped.
2024-09-30 16:16:52.771 +06:00 [DBG] Connection id "0HN71726THBOP" accepted.
2024-09-30 16:16:52.776 +06:00 [DBG] Connection id "0HN71726THBOP" started.
2024-09-30 16:16:52.785 +06:00 [DBG] Connection 0HN71726THBOP established using the following protocol: "Tls12"
2024-09-30 16:16:52.789 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 175
2024-09-30 16:16:52.790 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:16:52.791 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:16:52.792 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:16:52.793 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:16:52.797 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:16:52.798 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:16:52.802 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:16:52.804 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-30 16:16:52.807 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-30 16:16:52.810 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-30 16:16:52.813 +06:00 [INF] HTTP POST /api/Product/BuyProduct responded 401 in 13.6935 ms
2024-09-30 16:16:52.815 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 401 0 null 26.7507ms
2024-09-30 16:16:52.819 +06:00 [DBG] Connection id "0HN71726THBOP", Request id "0HN71726THBOP:00000001": started reading request body.
2024-09-30 16:16:52.821 +06:00 [DBG] Connection id "0HN71726THBOP", Request id "0HN71726THBOP:00000001": done reading request body.
2024-09-30 16:17:02.057 +06:00 [DBG] Connection id "0HN71726THBOP" received FIN.
2024-09-30 16:17:02.061 +06:00 [DBG] Connection id "0HN71726THBOP" is closed. The last processed stream ID was 1.
2024-09-30 16:17:02.061 +06:00 [DBG] The connection queue processing loop for 0HN71726THBOP completed.
2024-09-30 16:17:02.062 +06:00 [DBG] Connection id "0HN71726THBOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:17:02.082 +06:00 [DBG] Connection id "0HN71726THBOP" stopped.
2024-09-30 16:17:50.087 +06:00 [DBG] Connection id "0HN71726THBOQ" accepted.
2024-09-30 16:17:50.089 +06:00 [DBG] Connection id "0HN71726THBOQ" started.
2024-09-30 16:17:50.091 +06:00 [DBG] Connection 0HN71726THBOQ established using the following protocol: "Tls12"
2024-09-30 16:17:50.094 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 16:17:50.097 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 16:17:50.098 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 16:17:50.100 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:17:50.100 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:17:50.101 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:17:50.102 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:17:50.104 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:17:50.106 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:17:50.113 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 16:17:50.114 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:17:50.115 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:17:50.116 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:17:50.117 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:17:50.118 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:17:50.119 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:17:50.132 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:17:50.134 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:17:50.135 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 16:17:50.141 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:17:50.149 +06:00 [DBG] Connection id "0HN71726THBOQ", Request id "0HN71726THBOQ:00000001": started reading request body.
2024-09-30 16:17:50.150 +06:00 [DBG] Connection id "0HN71726THBOQ", Request id "0HN71726THBOQ:00000001": done reading request body.
2024-09-30 16:17:50.160 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 16:17:50.161 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:17:50.161 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:17:50.162 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:17:50.164 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:17:50.177 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:17:50.183 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 16:17:50.207 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:17:50.226 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:17:50.232 +06:00 [DBG] Created DbConnection. (5ms).
2024-09-30 16:17:50.237 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.239 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.240 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:17:50.241 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:17:50.242 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:17:50.242 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:17:50.248 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:17:50.251 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.252 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 16:17:50.253 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.255 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:17:50.403 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 16:17:50.432 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:17:50.437 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.439 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.439 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:17:50.440 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:17:50.441 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:17:50.441 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:17:50.446 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:17:50.448 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.449 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 16:17:50.450 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.451 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:17:50.510 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:17:50.513 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:17:50.513 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:17:50.514 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:17:50.514 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:17:50.515 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 16:17:50.517 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 398.0448ms
2024-09-30 16:17:50.518 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:17:50.519 +06:00 [INF] HTTP POST /api/User/login responded 200 in 415.3725 ms
2024-09-30 16:17:50.522 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:17:50.523 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:17:50.524 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 16:17:50.525 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 430.9883ms
2024-09-30 16:17:52.135 +06:00 [DBG] Connection id "0HN71726THBOQ" received FIN.
2024-09-30 16:17:52.136 +06:00 [DBG] Connection id "0HN71726THBOQ" is closed. The last processed stream ID was 1.
2024-09-30 16:17:52.136 +06:00 [DBG] The connection queue processing loop for 0HN71726THBOQ completed.
2024-09-30 16:17:52.137 +06:00 [DBG] Connection id "0HN71726THBOQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:17:52.153 +06:00 [DBG] Connection id "0HN71726THBOQ" stopped.
2024-09-30 16:18:34.108 +06:00 [DBG] Connection id "0HN71726THBOR" accepted.
2024-09-30 16:18:34.109 +06:00 [DBG] Connection id "0HN71726THBOR" started.
2024-09-30 16:18:34.111 +06:00 [DBG] Connection 0HN71726THBOR established using the following protocol: "Tls12"
2024-09-30 16:18:34.114 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 175
2024-09-30 16:18:34.117 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:18:34.119 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:18:34.120 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:18:34.121 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:18:34.121 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:18:34.122 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:18:34.161 +06:00 [DBG] Successfully validated the token.
2024-09-30 16:18:34.163 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 16:18:34.167 +06:00 [DBG] Authorization was successful.
2024-09-30 16:18:34.168 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:18:34.171 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 16:18:34.172 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:18:34.173 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:18:34.174 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:18:34.175 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:18:34.176 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:18:34.177 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:18:34.178 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:18:34.179 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:18:34.180 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 16:18:34.181 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:18:34.186 +06:00 [DBG] Connection id "0HN71726THBOR", Request id "0HN71726THBOR:00000001": started reading request body.
2024-09-30 16:18:34.187 +06:00 [DBG] Connection id "0HN71726THBOR", Request id "0HN71726THBOR:00000001": done reading request body.
2024-09-30 16:18:34.193 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 16:18:34.195 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:18:34.196 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:18:34.196 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:18:34.201 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:18:34.204 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:18:34.206 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 16:18:34.210 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int?) FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:18:34.212 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:18:34.212 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 16:18:34.213 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.214 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.215 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:18:34.216 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:18:34.217 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:18:34.217 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:18:34.222 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:18:34.223 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.224 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 16:18:34.225 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.225 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:18:34.251 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:18:34.274 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:18:34.283 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:18:34.303 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:18:34.307 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 16:18:34.310 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:18:34.327 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:18:34.334 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:18:34.336 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:18:34.337 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:18:34.338 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:18:34.392 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 16:18:34.395 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.396 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.399 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 16:18:34.404 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 16:18:34.407 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:18:34.407 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:18:34.410 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-30 16:18:34.410 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:18:34.429 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:18:34.439 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:18:34.448 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.450 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-09-30 16:18:34.454 +06:00 [DBG] Disposing transaction.
2024-09-30 16:18:34.455 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.456 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:18:34.466 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b8eb7a2f-3dd0-42e4-9043-c9589e265170
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:b8eb7a2f-3dd0-42e4-9043-c9589e265170
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 16:18:34.479 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 16:18:34.481 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 304.0456ms
2024-09-30 16:18:34.483 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:18:34.484 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 16:18:34.487 +06:00 [ERR] HTTP POST /api/Product/BuyProduct responded 500 in 363.9759 ms
2024-09-30 16:18:34.488 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:18:34.489 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:18:34.489 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 16:18:34.490 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 500 null application/json; charset=utf-8 375.728ms
2024-09-30 16:18:42.190 +06:00 [DBG] Connection id "0HN71726THBOR" received FIN.
2024-09-30 16:18:42.194 +06:00 [DBG] Connection id "0HN71726THBOR" is closed. The last processed stream ID was 1.
2024-09-30 16:18:42.194 +06:00 [DBG] The connection queue processing loop for 0HN71726THBOR completed.
2024-09-30 16:18:42.196 +06:00 [DBG] Connection id "0HN71726THBOR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:18:42.205 +06:00 [DBG] Connection id "0HN71726THBOR" stopped.
2024-09-30 16:20:06.915 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 16:20:07.023 +06:00 [DBG] Hosting starting
2024-09-30 16:20:07.062 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 16:20:07.071 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 16:20:07.079 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 16:20:07.081 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 16:20:07.085 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 16:20:07.090 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 16:20:07.091 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 16:20:07.096 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 16:20:07.099 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:20:07.101 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 16:20:07.103 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:20:07.107 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 16:20:07.110 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 16:20:07.113 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 16:20:07.114 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 16:20:07.295 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 16:20:07.297 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 16:20:07.297 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 16:20:07.298 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 16:20:07.298 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 16:20:07.299 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 16:20:07.299 +06:00 [INF] Hosting environment: Development
2024-09-30 16:20:07.300 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 16:20:07.300 +06:00 [DBG] Hosting started
2024-09-30 16:20:07.345 +06:00 [DBG] Connection id "0HN7175QH9J5N" accepted.
2024-09-30 16:20:07.345 +06:00 [DBG] Connection id "0HN7175QH9J5O" accepted.
2024-09-30 16:20:07.348 +06:00 [DBG] Connection id "0HN7175QH9J5O" started.
2024-09-30 16:20:07.348 +06:00 [DBG] Connection id "0HN7175QH9J5N" started.
2024-09-30 16:20:12.576 +06:00 [DBG] Connection id "0HN7175QH9J5P" accepted.
2024-09-30 16:20:12.597 +06:00 [DBG] Connection id "0HN7175QH9J5P" started.
2024-09-30 16:20:12.724 +06:00 [DBG] Connection 0HN7175QH9J5P established using the following protocol: "Tls12"
2024-09-30 16:20:13.282 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 16:20:13.521 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 16:20:13.575 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 16:20:13.578 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:20:13.847 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 16:20:13.907 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 16:20:13.916 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 648.1527ms
2024-09-30 16:20:14.021 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 16:20:14.021 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 16:20:14.157 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 136.7015ms
2024-09-30 16:20:14.197 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 177.4822ms
2024-09-30 16:20:14.263 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 16:20:14.267 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 16:20:14.271 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:20:14.548 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 285.4635ms
2024-09-30 16:20:17.082 +06:00 [DBG] Connection id "0HN7175QH9J5P" received FIN.
2024-09-30 16:20:17.084 +06:00 [DBG] Connection id "0HN7175QH9J5P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:20:17.088 +06:00 [DBG] Connection id "0HN7175QH9J5P" is closed. The last processed stream ID was 7.
2024-09-30 16:20:17.090 +06:00 [DBG] The connection queue processing loop for 0HN7175QH9J5P completed.
2024-09-30 16:20:17.095 +06:00 [DBG] Connection id "0HN7175QH9J5P" stopped.
2024-09-30 16:20:17.376 +06:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-30 16:20:17.376 +06:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-30 16:20:17.378 +06:00 [DBG] Connection id "0HN7175QH9J5N" stopped.
2024-09-30 16:20:17.379 +06:00 [DBG] Connection id "0HN7175QH9J5O" stopped.
2024-09-30 16:20:17.380 +06:00 [DBG] Connection id "0HN7175QH9J5N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:20:17.381 +06:00 [DBG] Connection id "0HN7175QH9J5O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:20:27.655 +06:00 [DBG] Connection id "0HN7175QH9J5Q" accepted.
2024-09-30 16:20:27.657 +06:00 [DBG] Connection id "0HN7175QH9J5Q" started.
2024-09-30 16:20:27.669 +06:00 [DBG] Connection 0HN7175QH9J5Q established using the following protocol: "Tls12"
2024-09-30 16:20:27.674 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 16:20:27.693 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 16:20:27.699 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 16:20:27.704 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:20:27.709 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:20:27.712 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:20:27.714 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:20:27.831 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:20:27.838 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:20:27.891 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 16:20:27.895 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:20:27.896 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:20:27.897 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:20:27.898 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:20:27.899 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:20:27.904 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:20:28.143 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:20:28.340 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:20:28.365 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:20:28.373 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 16:20:28.377 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:20:28.388 +06:00 [DBG] Connection id "0HN7175QH9J5Q", Request id "0HN7175QH9J5Q:00000001": started reading request body.
2024-09-30 16:20:28.390 +06:00 [DBG] Connection id "0HN7175QH9J5Q", Request id "0HN7175QH9J5Q:00000001": done reading request body.
2024-09-30 16:20:28.402 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 16:20:28.404 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:20:28.405 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:20:28.407 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:20:28.416 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:20:36.688 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:20:36.690 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:20:36.947 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:20:37.174 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:20:37.314 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 16:20:37.558 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:20:37.620 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:20:37.656 +06:00 [DBG] Created DbConnection. (36ms).
2024-09-30 16:20:37.659 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.160 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.167 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:20:38.173 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-30 16:20:38.184 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-09-30 16:20:38.193 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:20:38.271 +06:00 [INF] Executed DbCommand (80ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:20:38.300 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.314 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 32ms reading results.
2024-09-30 16:20:38.321 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.329 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-30 16:20:38.536 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 16:20:38.579 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:20:38.584 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.586 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.587 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:20:38.588 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:20:38.589 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:20:38.590 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:20:38.602 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:20:38.606 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.608 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 16:20:38.609 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:38.611 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:20:43.186 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:20:43.201 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:20:43.202 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:20:43.202 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:20:43.204 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:20:43.205 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 16:20:45.336 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 17428.8951ms
2024-09-30 16:20:45.340 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:20:46.181 +06:00 [INF] HTTP POST /api/User/login responded 200 in 18457.8237 ms
2024-09-30 16:20:47.006 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:20:47.010 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:20:47.016 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-30 16:20:47.319 +06:00 [DBG] Connection id "0HN7175QH9J5Q" received FIN.
2024-09-30 16:20:48.216 +06:00 [DBG] Connection id "0HN7175QH9J5Q" is closed. The last processed stream ID was 1.
2024-09-30 16:20:48.216 +06:00 [DBG] Connection id "0HN7175QH9J5Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:20:49.020 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 21346.1245ms
2024-09-30 16:20:49.029 +06:00 [DBG] The connection queue processing loop for 0HN7175QH9J5Q completed.
2024-09-30 16:20:49.050 +06:00 [DBG] Connection id "0HN7175QH9J5Q" stopped.
2024-09-30 16:21:33.878 +06:00 [DBG] Connection id "0HN7175QH9J5R" accepted.
2024-09-30 16:21:33.880 +06:00 [DBG] Connection id "0HN7175QH9J5R" started.
2024-09-30 16:21:33.891 +06:00 [DBG] Connection 0HN7175QH9J5R established using the following protocol: "Tls12"
2024-09-30 16:21:33.898 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 176
2024-09-30 16:21:33.914 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:21:33.915 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:21:33.917 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:21:33.918 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:21:33.919 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:21:33.920 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:21:43.400 +06:00 [DBG] Successfully validated the token.
2024-09-30 16:21:43.404 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 16:21:43.420 +06:00 [DBG] Authorization was successful.
2024-09-30 16:21:43.423 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:21:43.435 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 16:21:43.440 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:21:43.441 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:21:43.442 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:21:43.445 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:21:43.447 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:21:43.449 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:21:43.453 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:21:43.456 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:21:43.458 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 16:21:43.459 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:21:43.464 +06:00 [DBG] Connection id "0HN7175QH9J5R", Request id "0HN7175QH9J5R:00000001": started reading request body.
2024-09-30 16:21:43.465 +06:00 [DBG] Connection id "0HN7175QH9J5R", Request id "0HN7175QH9J5R:00000001": done reading request body.
2024-09-30 16:21:43.481 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 16:21:43.483 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:21:43.485 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:21:43.487 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:21:43.511 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:21:44.415 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:21:44.426 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 16:21:44.440 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int?) FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:21:44.448 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:21:44.450 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 16:21:44.452 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:44.456 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:44.461 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:21:44.463 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-30 16:21:44.466 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-30 16:21:44.468 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:21:44.501 +06:00 [INF] Executed DbCommand (33ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:21:44.506 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:44.507 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 16:21:44.509 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:44.510 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:21:44.612 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:21:44.727 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:21:44.737 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:21:44.773 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:21:44.782 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 16:21:44.791 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:21:44.840 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:21:44.848 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:21:44.854 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:21:44.860 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:21:44.864 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:21:45.013 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 16:21:45.020 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:45.021 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:45.026 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 16:21:45.034 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 16:21:45.038 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:21:45.039 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:21:45.046 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-30 16:21:45.048 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:21:45.067 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:21:45.086 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:21:45.112 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:45.113 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 44ms reading results.
2024-09-30 16:21:45.126 +06:00 [DBG] Disposing transaction.
2024-09-30 16:21:45.132 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:45.134 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-30 16:21:45.160 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ba7da33d-0cd0-450d-9e33-c9613a5b0b83
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ba7da33d-0cd0-450d-9e33-c9613a5b0b83
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 16:21:45.268 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 16:21:45.461 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 2012.3038ms
2024-09-30 16:21:45.463 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:21:45.557 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 16:21:45.565 +06:00 [ERR] HTTP POST /api/Product/BuyProduct responded 500 in 11644.3036 ms
2024-09-30 16:21:45.569 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:21:45.570 +06:00 [DBG] Connection id "0HN7175QH9J5R" received FIN.
2024-09-30 16:21:45.571 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:21:45.574 +06:00 [DBG] Connection id "0HN7175QH9J5R" is closed. The last processed stream ID was 1.
2024-09-30 16:21:45.575 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-30 16:21:45.576 +06:00 [DBG] Connection id "0HN7175QH9J5R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:21:45.577 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 500 null application/json; charset=utf-8 11680.1051ms
2024-09-30 16:21:45.580 +06:00 [DBG] The connection queue processing loop for 0HN7175QH9J5R completed.
2024-09-30 16:21:45.584 +06:00 [DBG] Connection id "0HN7175QH9J5R" stopped.
2024-09-30 16:21:50.803 +06:00 [DBG] Connection id "0HN7175QH9J5S" accepted.
2024-09-30 16:21:50.805 +06:00 [DBG] Connection id "0HN7175QH9J5S" started.
2024-09-30 16:21:50.817 +06:00 [DBG] Connection 0HN7175QH9J5S established using the following protocol: "Tls12"
2024-09-30 16:21:50.826 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 176
2024-09-30 16:21:50.832 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:21:50.835 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:21:50.841 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:21:50.843 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:21:50.845 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:21:50.848 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:22:09.004 +06:00 [DBG] Successfully validated the token.
2024-09-30 16:22:09.008 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 16:22:09.011 +06:00 [DBG] Authorization was successful.
2024-09-30 16:22:09.012 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:22:09.015 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 16:22:09.018 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:22:09.019 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:22:09.021 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:22:09.024 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:22:09.025 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:22:09.026 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:22:09.028 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:22:09.030 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:22:09.031 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 16:22:09.032 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:22:09.033 +06:00 [DBG] Connection id "0HN7175QH9J5S", Request id "0HN7175QH9J5S:00000001": started reading request body.
2024-09-30 16:22:09.034 +06:00 [DBG] Connection id "0HN7175QH9J5S", Request id "0HN7175QH9J5S:00000001": done reading request body.
2024-09-30 16:22:09.037 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 16:22:09.038 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:22:09.038 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:22:09.039 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:22:09.040 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:22:34.156 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:22:34.163 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:22:34.167 +06:00 [DBG] Created DbConnection. (3ms).
2024-09-30 16:22:34.171 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:22:34.175 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:22:34.177 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:22:34.177 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:22:34.178 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:22:34.179 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:22:34.200 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:22:34.203 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:22:34.204 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 16:22:34.205 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:22:34.206 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:27:12.870 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 16:27:13.002 +06:00 [DBG] Hosting starting
2024-09-30 16:27:13.066 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 16:27:13.078 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 16:27:13.085 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 16:27:13.092 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 16:27:13.101 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 16:27:13.105 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 16:27:13.106 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 16:27:13.111 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 16:27:13.114 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:27:13.117 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 16:27:13.120 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:27:13.123 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 16:27:13.126 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 16:27:13.129 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 16:27:13.130 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 16:27:13.655 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 16:27:13.660 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 16:27:13.662 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 16:27:13.662 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 16:27:13.663 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 16:27:13.664 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 16:27:13.664 +06:00 [INF] Hosting environment: Development
2024-09-30 16:27:13.665 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 16:27:13.665 +06:00 [DBG] Hosting started
2024-09-30 16:27:13.837 +06:00 [DBG] Connection id "0HN7179PKKLFP" accepted.
2024-09-30 16:27:13.840 +06:00 [DBG] Connection id "0HN7179PKKLFP" started.
2024-09-30 16:27:13.849 +06:00 [DBG] Connection id "0HN7179PKKLFQ" accepted.
2024-09-30 16:27:13.850 +06:00 [DBG] Connection id "0HN7179PKKLFQ" started.
2024-09-30 16:27:13.877 +06:00 [DBG] Connection id "0HN7179PKKLFP" received FIN.
2024-09-30 16:27:13.877 +06:00 [DBG] Connection id "0HN7179PKKLFQ" received FIN.
2024-09-30 16:27:13.886 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 16:27:13.886 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 16:27:13.904 +06:00 [DBG] Connection id "0HN7179PKKLFQ" stopped.
2024-09-30 16:27:13.904 +06:00 [DBG] Connection id "0HN7179PKKLFP" stopped.
2024-09-30 16:27:13.907 +06:00 [DBG] Connection id "0HN7179PKKLFP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:27:13.907 +06:00 [DBG] Connection id "0HN7179PKKLFQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:27:17.835 +06:00 [DBG] Connection id "0HN7179PKKLFR" accepted.
2024-09-30 16:27:17.857 +06:00 [DBG] Connection id "0HN7179PKKLFR" started.
2024-09-30 16:27:17.929 +06:00 [DBG] Connection 0HN7179PKKLFR established using the following protocol: "Tls12"
2024-09-30 16:27:18.054 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 16:27:18.180 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 16:27:18.210 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 16:27:18.213 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:27:18.388 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 16:27:18.416 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 16:27:18.424 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 378.3861ms
2024-09-30 16:27:18.465 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 16:27:18.465 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 16:27:18.488 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 22.4755ms
2024-09-30 16:27:18.539 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.5617ms
2024-09-30 16:27:18.599 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 16:27:18.604 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 16:27:18.606 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:27:18.823 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 224.1372ms
2024-09-30 16:27:21.037 +06:00 [DBG] Connection id "0HN7179PKKLFR" received FIN.
2024-09-30 16:27:21.041 +06:00 [DBG] The connection queue processing loop for 0HN7179PKKLFR completed.
2024-09-30 16:27:21.044 +06:00 [DBG] Connection id "0HN7179PKKLFR" is closed. The last processed stream ID was 7.
2024-09-30 16:27:21.045 +06:00 [DBG] Connection id "0HN7179PKKLFR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:27:21.061 +06:00 [DBG] Connection id "0HN7179PKKLFR" stopped.
2024-09-30 16:27:46.304 +06:00 [DBG] Connection id "0HN7179PKKLFS" accepted.
2024-09-30 16:27:46.313 +06:00 [DBG] Connection id "0HN7179PKKLFS" started.
2024-09-30 16:27:46.323 +06:00 [DBG] Connection 0HN7179PKKLFS established using the following protocol: "Tls12"
2024-09-30 16:27:46.335 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 16:27:46.347 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 16:27:46.354 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 16:27:46.357 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:27:46.362 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:27:46.364 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:27:46.365 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:27:46.461 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:27:46.466 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:27:46.498 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 16:27:46.507 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:27:46.508 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:27:46.511 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:27:46.512 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:27:46.513 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:27:46.515 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:27:46.711 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:27:46.967 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:27:46.984 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:27:46.988 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 16:27:46.990 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:27:47.004 +06:00 [DBG] Connection id "0HN7179PKKLFS", Request id "0HN7179PKKLFS:00000001": started reading request body.
2024-09-30 16:27:47.006 +06:00 [DBG] Connection id "0HN7179PKKLFS", Request id "0HN7179PKKLFS:00000001": done reading request body.
2024-09-30 16:27:47.024 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 16:27:47.030 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:27:47.034 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:27:47.037 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:27:47.049 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:27:47.591 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:27:47.598 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:27:47.830 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:27:48.072 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:27:48.207 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 16:27:48.498 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:27:48.555 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:27:48.578 +06:00 [DBG] Created DbConnection. (18ms).
2024-09-30 16:27:48.584 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.039 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.047 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:27:49.056 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-30 16:27:49.075 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-30 16:27:49.092 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:27:49.200 +06:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:27:49.237 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.248 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 39ms reading results.
2024-09-30 16:27:49.253 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.261 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-30 16:27:49.461 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 16:27:49.504 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:27:49.512 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.515 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.516 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:27:49.516 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:27:49.517 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:27:49.517 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:27:49.526 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:27:49.528 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.529 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 16:27:49.530 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.530 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:27:49.563 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:27:49.567 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:27:49.569 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:27:49.571 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:27:49.573 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:27:49.576 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 16:27:49.587 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3069.9627ms
2024-09-30 16:27:49.589 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:27:49.594 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3223.0427 ms
2024-09-30 16:27:49.602 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:27:49.606 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:27:49.612 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-30 16:27:49.620 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3284.4965ms
2024-09-30 16:27:57.599 +06:00 [DBG] Connection id "0HN7179PKKLFS" received FIN.
2024-09-30 16:27:57.601 +06:00 [DBG] Connection id "0HN7179PKKLFS" is closed. The last processed stream ID was 1.
2024-09-30 16:27:57.601 +06:00 [DBG] The connection queue processing loop for 0HN7179PKKLFS completed.
2024-09-30 16:27:57.605 +06:00 [DBG] Connection id "0HN7179PKKLFS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:27:57.619 +06:00 [DBG] Connection id "0HN7179PKKLFS" stopped.
2024-09-30 16:28:56.155 +06:00 [DBG] Connection id "0HN7179PKKLFT" accepted.
2024-09-30 16:28:56.162 +06:00 [DBG] Connection id "0HN7179PKKLFT" started.
2024-09-30 16:28:56.176 +06:00 [DBG] Connection 0HN7179PKKLFT established using the following protocol: "Tls12"
2024-09-30 16:28:56.182 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 176
2024-09-30 16:28:56.195 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:28:56.196 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:28:56.197 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:28:56.198 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:28:56.199 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:28:56.201 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:28:56.297 +06:00 [DBG] Successfully validated the token.
2024-09-30 16:28:56.303 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 16:28:56.312 +06:00 [DBG] Authorization was successful.
2024-09-30 16:28:56.314 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:28:56.325 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 16:28:56.335 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:28:56.336 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:28:56.337 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:28:56.338 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:28:56.339 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:28:56.340 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:28:56.342 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:28:56.343 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:28:56.344 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 16:28:56.344 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:28:56.348 +06:00 [DBG] Connection id "0HN7179PKKLFT", Request id "0HN7179PKKLFT:00000001": started reading request body.
2024-09-30 16:28:56.351 +06:00 [DBG] Connection id "0HN7179PKKLFT", Request id "0HN7179PKKLFT:00000001": done reading request body.
2024-09-30 16:28:56.356 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 16:28:56.357 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:28:56.358 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:28:56.360 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:28:56.365 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:29:25.478 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:29:25.487 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 16:29:25.504 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int?) FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:29:25.514 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:29:25.516 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 16:29:25.517 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:29:25.518 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:29:25.519 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:29:25.520 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:29:25.521 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:29:25.522 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:29:25.548 +06:00 [INF] Executed DbCommand (26ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:29:25.553 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:29:25.553 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 16:29:25.554 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:29:25.555 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:36:11.210 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 16:36:11.350 +06:00 [DBG] Hosting starting
2024-09-30 16:36:11.401 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 16:36:11.413 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 16:36:11.418 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 16:36:11.420 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 16:36:11.424 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 16:36:11.430 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 16:36:11.431 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 16:36:11.437 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 16:36:11.442 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:36:11.447 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 16:36:11.449 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:36:11.453 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 16:36:11.457 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 16:36:11.462 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 16:36:11.464 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 16:36:11.822 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 16:36:11.824 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 16:36:11.825 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 16:36:11.826 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 16:36:11.826 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 16:36:11.827 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 16:36:11.827 +06:00 [INF] Hosting environment: Development
2024-09-30 16:36:11.828 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 16:36:11.828 +06:00 [DBG] Hosting started
2024-09-30 16:36:11.949 +06:00 [DBG] Connection id "0HN717EQ0FB21" received FIN.
2024-09-30 16:36:11.949 +06:00 [DBG] Connection id "0HN717EQ0FB20" received FIN.
2024-09-30 16:36:11.960 +06:00 [DBG] Connection id "0HN717EQ0FB20" accepted.
2024-09-30 16:36:11.960 +06:00 [DBG] Connection id "0HN717EQ0FB21" accepted.
2024-09-30 16:36:11.961 +06:00 [DBG] Connection id "0HN717EQ0FB20" started.
2024-09-30 16:36:11.962 +06:00 [DBG] Connection id "0HN717EQ0FB21" started.
2024-09-30 16:36:11.979 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 16:36:11.979 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 16:36:12.001 +06:00 [DBG] Connection id "0HN717EQ0FB21" stopped.
2024-09-30 16:36:12.001 +06:00 [DBG] Connection id "0HN717EQ0FB20" stopped.
2024-09-30 16:36:12.006 +06:00 [DBG] Connection id "0HN717EQ0FB20" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:36:12.006 +06:00 [DBG] Connection id "0HN717EQ0FB21" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:36:12.853 +06:00 [DBG] Connection id "0HN717EQ0FB22" accepted.
2024-09-30 16:36:12.865 +06:00 [DBG] Connection id "0HN717EQ0FB22" started.
2024-09-30 16:36:13.020 +06:00 [DBG] Connection 0HN717EQ0FB22 established using the following protocol: "Tls12"
2024-09-30 16:36:13.070 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 16:36:13.163 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 16:36:13.178 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 16:36:13.181 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:36:13.277 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 16:36:13.305 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 16:36:13.311 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 244.1388ms
2024-09-30 16:36:15.934 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 16:36:15.934 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 16:36:15.952 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 18.8387ms
2024-09-30 16:36:16.027 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.9354ms
2024-09-30 16:36:16.091 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 16:36:16.124 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 16:36:16.129 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:36:16.430 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 339.9786ms
2024-09-30 16:36:19.030 +06:00 [DBG] Connection id "0HN717EQ0FB22" received FIN.
2024-09-30 16:36:19.037 +06:00 [DBG] The connection queue processing loop for 0HN717EQ0FB22 completed.
2024-09-30 16:36:19.040 +06:00 [DBG] Connection id "0HN717EQ0FB22" is closed. The last processed stream ID was 7.
2024-09-30 16:36:19.044 +06:00 [DBG] Connection id "0HN717EQ0FB22" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:36:19.053 +06:00 [DBG] Connection id "0HN717EQ0FB22" stopped.
2024-09-30 16:36:32.784 +06:00 [DBG] Connection id "0HN717EQ0FB23" accepted.
2024-09-30 16:36:32.785 +06:00 [DBG] Connection id "0HN717EQ0FB23" started.
2024-09-30 16:36:32.790 +06:00 [DBG] Connection 0HN717EQ0FB23 established using the following protocol: "Tls12"
2024-09-30 16:36:32.798 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 16:36:32.811 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 16:36:32.816 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 16:36:32.819 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:36:32.822 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:36:32.824 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:36:32.828 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:36:32.930 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:36:32.934 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:36:32.982 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 16:36:32.986 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:36:32.988 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:36:32.991 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:36:32.995 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:36:32.997 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:36:33.001 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:36:33.215 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:36:33.410 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:36:33.429 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:36:33.433 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 16:36:33.435 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:36:33.444 +06:00 [DBG] Connection id "0HN717EQ0FB23", Request id "0HN717EQ0FB23:00000001": started reading request body.
2024-09-30 16:36:33.453 +06:00 [DBG] Connection id "0HN717EQ0FB23", Request id "0HN717EQ0FB23:00000001": done reading request body.
2024-09-30 16:36:33.469 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 16:36:33.472 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:36:33.475 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:36:33.476 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:36:33.485 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:36:34.306 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:36:34.309 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:36:34.504 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:36:34.785 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:36:34.882 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 16:36:35.072 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:36:35.122 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:36:35.165 +06:00 [DBG] Created DbConnection. (36ms).
2024-09-30 16:36:35.170 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.505 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.511 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:36:35.516 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-30 16:36:35.525 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-09-30 16:36:35.532 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:36:35.610 +06:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:36:35.640 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.649 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-30 16:36:35.654 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.662 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-30 16:36:35.809 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 16:36:35.866 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:36:35.871 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.874 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.876 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:36:35.878 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-30 16:36:35.880 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-30 16:36:35.882 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:36:35.889 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:36:35.892 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.893 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 16:36:35.894 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.895 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:36:35.947 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:36:35.953 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:36:35.953 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:36:35.954 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:36:35.956 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:36:35.957 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 16:36:35.968 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 2964.8702ms
2024-09-30 16:36:35.972 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:36:35.978 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3143.8342 ms
2024-09-30 16:36:35.983 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:36:35.990 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:36:35.995 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-30 16:36:36.001 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3202.876ms
2024-09-30 16:36:37.527 +06:00 [DBG] Connection id "0HN717EQ0FB23" received FIN.
2024-09-30 16:36:37.530 +06:00 [DBG] Connection id "0HN717EQ0FB23" is closed. The last processed stream ID was 1.
2024-09-30 16:36:37.531 +06:00 [DBG] The connection queue processing loop for 0HN717EQ0FB23 completed.
2024-09-30 16:36:37.532 +06:00 [DBG] Connection id "0HN717EQ0FB23" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:36:37.539 +06:00 [DBG] Connection id "0HN717EQ0FB23" stopped.
2024-09-30 16:37:08.311 +06:00 [DBG] Connection id "0HN717EQ0FB24" accepted.
2024-09-30 16:37:08.320 +06:00 [DBG] Connection id "0HN717EQ0FB24" started.
2024-09-30 16:37:08.325 +06:00 [DBG] Connection 0HN717EQ0FB24 established using the following protocol: "Tls12"
2024-09-30 16:37:08.341 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 176
2024-09-30 16:37:08.347 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:37:08.348 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:37:08.349 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:37:08.350 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:37:08.351 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:37:08.352 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:37:08.399 +06:00 [DBG] Successfully validated the token.
2024-09-30 16:37:08.401 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 16:37:08.408 +06:00 [DBG] Authorization was successful.
2024-09-30 16:37:08.413 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:37:08.422 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 16:37:08.425 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:37:08.425 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:37:08.426 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:37:08.427 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:37:08.428 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:37:08.429 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:37:08.431 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:37:08.432 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:37:08.433 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 16:37:08.434 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:37:08.442 +06:00 [DBG] Connection id "0HN717EQ0FB24", Request id "0HN717EQ0FB24:00000001": started reading request body.
2024-09-30 16:37:08.444 +06:00 [DBG] Connection id "0HN717EQ0FB24", Request id "0HN717EQ0FB24:00000001": done reading request body.
2024-09-30 16:37:08.450 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 16:37:08.451 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:37:08.455 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:37:08.456 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:37:08.468 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:37:20.554 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:37:20.563 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 16:37:20.571 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int?) FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:37:20.575 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:37:20.576 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 16:37:20.577 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:20.577 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:20.578 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:37:20.578 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:37:20.579 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:37:20.580 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:37:20.603 +06:00 [INF] Executed DbCommand (23ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:37:20.606 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:20.608 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 16:37:20.611 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:20.612 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:37:49.920 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:37:49.978 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:37:57.945 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:37:57.984 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:37:58.810 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 16:37:58.819 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:37:58.866 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:37:58.872 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:37:58.875 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:37:58.878 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:37:58.881 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:37:59.005 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 16:37:59.012 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:59.015 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:59.021 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 16:37:59.034 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 16:37:59.040 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:37:59.044 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-30 16:37:59.052 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-30 16:37:59.055 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:37:59.097 +06:00 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:37:59.110 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:37:59.127 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:59.129 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 29ms reading results.
2024-09-30 16:37:59.136 +06:00 [DBG] Disposing transaction.
2024-09-30 16:37:59.139 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:37:59.140 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:37:59.162 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c0567019-212b-40c0-b80c-12e5daf94058
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c0567019-212b-40c0-b80c-12e5daf94058
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 16:38:02.524 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 16:38:35.278 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 16:38:35.400 +06:00 [DBG] Hosting starting
2024-09-30 16:38:35.444 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 16:38:35.459 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 16:38:35.467 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 16:38:35.470 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 16:38:35.476 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 16:38:35.481 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 16:38:35.482 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 16:38:35.486 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 16:38:35.489 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:38:35.492 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 16:38:35.494 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:38:35.497 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 16:38:35.500 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 16:38:35.504 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 16:38:35.506 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 16:38:35.754 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 16:38:35.756 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 16:38:35.757 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 16:38:35.757 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 16:38:35.758 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 16:38:35.759 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 16:38:35.760 +06:00 [INF] Hosting environment: Development
2024-09-30 16:38:35.761 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 16:38:35.761 +06:00 [DBG] Hosting started
2024-09-30 16:38:35.960 +06:00 [DBG] Connection id "0HN717G4TS0M8" accepted.
2024-09-30 16:38:35.965 +06:00 [DBG] Connection id "0HN717G4TS0M8" started.
2024-09-30 16:38:35.980 +06:00 [DBG] Connection id "0HN717G4TS0M8" received FIN.
2024-09-30 16:38:35.995 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 16:38:36.014 +06:00 [DBG] Connection id "0HN717G4TS0M8" stopped.
2024-09-30 16:38:36.016 +06:00 [DBG] Connection id "0HN717G4TS0M8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:38:40.685 +06:00 [DBG] Connection id "0HN717G4TS0M9" accepted.
2024-09-30 16:38:40.704 +06:00 [DBG] Connection id "0HN717G4TS0M9" started.
2024-09-30 16:38:40.773 +06:00 [DBG] Connection 0HN717G4TS0M9 established using the following protocol: "Tls12"
2024-09-30 16:38:40.875 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 16:38:40.984 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 16:38:41.003 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 16:38:41.004 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:38:41.102 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 16:38:41.127 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 16:38:41.131 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 261.9182ms
2024-09-30 16:38:41.179 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 16:38:41.182 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 16:38:41.199 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 19.8086ms
2024-09-30 16:38:41.256 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 73.5021ms
2024-09-30 16:38:41.297 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 16:38:41.299 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 16:38:41.300 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:38:41.465 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 168.4587ms
2024-09-30 16:38:43.716 +06:00 [DBG] Connection id "0HN717G4TS0M9" received FIN.
2024-09-30 16:38:43.720 +06:00 [DBG] The connection queue processing loop for 0HN717G4TS0M9 completed.
2024-09-30 16:38:43.724 +06:00 [DBG] Connection id "0HN717G4TS0M9" is closed. The last processed stream ID was 7.
2024-09-30 16:38:43.726 +06:00 [DBG] Connection id "0HN717G4TS0M9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:38:43.730 +06:00 [DBG] Connection id "0HN717G4TS0M9" stopped.
2024-09-30 16:39:05.250 +06:00 [DBG] Connection id "0HN717G4TS0MA" accepted.
2024-09-30 16:39:05.260 +06:00 [DBG] Connection id "0HN717G4TS0MA" started.
2024-09-30 16:39:05.279 +06:00 [DBG] Connection 0HN717G4TS0MA established using the following protocol: "Tls12"
2024-09-30 16:39:05.285 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 62
2024-09-30 16:39:05.293 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 16:39:05.296 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 16:39:05.297 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:39:05.300 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:39:05.301 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:39:05.302 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:39:05.363 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:39:05.365 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:39:05.384 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 16:39:05.391 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:39:05.392 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:39:05.393 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:39:05.395 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:39:05.396 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:39:05.398 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:39:05.517 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:39:05.638 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:39:05.650 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:39:05.655 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 16:39:05.657 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:39:05.663 +06:00 [DBG] Connection id "0HN717G4TS0MA", Request id "0HN717G4TS0MA:00000001": started reading request body.
2024-09-30 16:39:05.664 +06:00 [DBG] Connection id "0HN717G4TS0MA", Request id "0HN717G4TS0MA:00000001": done reading request body.
2024-09-30 16:39:05.673 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 16:39:05.674 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:39:05.674 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:39:05.675 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:39:05.680 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:39:06.116 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:39:06.121 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:39:06.250 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:39:06.390 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:39:06.459 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 16:39:06.626 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:39:06.662 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:39:06.679 +06:00 [DBG] Created DbConnection. (15ms).
2024-09-30 16:39:06.683 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:06.984 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:06.988 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:39:06.992 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-30 16:39:06.999 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-30 16:39:07.008 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:39:07.072 +06:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:39:07.092 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:07.099 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 20ms reading results.
2024-09-30 16:39:07.103 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:07.109 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-09-30 16:39:07.219 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 16:39:07.259 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:39:07.268 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:07.275 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:07.285 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:39:07.288 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-30 16:39:07.290 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-30 16:39:07.291 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:39:07.297 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:39:07.300 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:07.301 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 16:39:07.302 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:07.302 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:39:07.332 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:39:07.338 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:39:07.339 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:39:07.340 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:39:07.341 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:39:07.342 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 16:39:07.351 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 1951.6926ms
2024-09-30 16:39:07.352 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:39:07.357 +06:00 [INF] HTTP POST /api/User/login responded 200 in 2049.5785 ms
2024-09-30 16:39:07.360 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:39:07.363 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:07.365 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 16:39:07.368 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 2082.9247ms
2024-09-30 16:39:30.450 +06:00 [DBG] Connection id "0HN717G4TS0MA" received FIN.
2024-09-30 16:39:30.458 +06:00 [DBG] Connection id "0HN717G4TS0MA" is closed. The last processed stream ID was 1.
2024-09-30 16:39:30.460 +06:00 [DBG] The connection queue processing loop for 0HN717G4TS0MA completed.
2024-09-30 16:39:30.485 +06:00 [DBG] Connection id "0HN717G4TS0MA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:39:30.499 +06:00 [DBG] Connection id "0HN717G4TS0MA" stopped.
2024-09-30 16:39:37.568 +06:00 [DBG] Connection id "0HN717G4TS0MB" accepted.
2024-09-30 16:39:37.570 +06:00 [DBG] Connection id "0HN717G4TS0MB" started.
2024-09-30 16:39:37.575 +06:00 [DBG] Connection 0HN717G4TS0MB established using the following protocol: "Tls12"
2024-09-30 16:39:37.578 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 175
2024-09-30 16:39:37.594 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:39:37.595 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:39:37.596 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:39:37.597 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:39:37.598 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:39:37.599 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:39:37.640 +06:00 [DBG] Successfully validated the token.
2024-09-30 16:39:37.646 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 16:39:37.655 +06:00 [DBG] Authorization was successful.
2024-09-30 16:39:37.657 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:39:37.661 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 16:39:37.663 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:39:37.663 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:39:37.664 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:39:37.666 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:39:37.667 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:39:37.669 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:39:37.671 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:39:37.672 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:39:37.672 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 16:39:37.673 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:39:37.677 +06:00 [DBG] Connection id "0HN717G4TS0MB", Request id "0HN717G4TS0MB:00000001": started reading request body.
2024-09-30 16:39:37.679 +06:00 [DBG] Connection id "0HN717G4TS0MB", Request id "0HN717G4TS0MB:00000001": done reading request body.
2024-09-30 16:39:37.685 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 16:39:37.686 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:39:37.686 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:39:37.687 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:39:37.691 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:39:46.104 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:39:46.112 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 16:39:46.124 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int?) FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:39:46.129 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:39:46.130 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 16:39:46.132 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:46.133 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:46.135 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:39:46.136 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:39:46.136 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:39:46.137 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:39:46.159 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:39:46.163 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:46.164 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 16:39:46.166 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:39:46.168 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 16:42:42.712 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:42:42.774 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:42:42.787 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:42:42.812 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 16:42:42.820 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 16:42:42.830 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:42:42.852 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:42:42.859 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 16:42:42.862 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:42:42.864 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:42:42.865 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 16:42:42.923 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 16:42:42.930 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:42:42.932 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:42:42.934 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 16:42:42.942 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 16:42:42.948 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:42:42.949 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:42:42.952 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-30 16:42:42.953 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:42:42.967 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 16:42:42.978 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 16:42:42.989 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:42:42.991 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-09-30 16:42:42.997 +06:00 [DBG] Disposing transaction.
2024-09-30 16:42:43.000 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:42:43.000 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:42:43.012 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ef472805-d89e-44e6-bcad-c813dafcb077
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:ef472805-d89e-44e6-bcad-c813dafcb077
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 16:42:43.088 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 16:42:43.147 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 185478.6438ms
2024-09-30 16:42:43.151 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:42:43.214 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 16:42:43.222 +06:00 [ERR] HTTP POST /api/Product/BuyProduct responded 500 in 185621.3610 ms
2024-09-30 16:42:43.228 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:42:43.228 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:42:43.229 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 16:42:43.230 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 500 null application/json; charset=utf-8 185652.886ms
2024-09-30 16:42:50.805 +06:00 [DBG] Connection id "0HN717G4TS0MB" received FIN.
2024-09-30 16:42:50.807 +06:00 [DBG] Connection id "0HN717G4TS0MB" is closed. The last processed stream ID was 1.
2024-09-30 16:42:50.807 +06:00 [DBG] The connection queue processing loop for 0HN717G4TS0MB completed.
2024-09-30 16:42:50.809 +06:00 [DBG] Connection id "0HN717G4TS0MB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:42:50.824 +06:00 [DBG] Connection id "0HN717G4TS0MB" stopped.
2024-09-30 16:50:50.889 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 16:50:50.998 +06:00 [DBG] Hosting starting
2024-09-30 16:50:51.041 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 16:50:51.053 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 16:50:51.065 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 16:50:51.069 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 16:50:51.073 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 16:50:51.076 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 16:50:51.077 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 16:50:51.082 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 16:50:51.085 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:50:51.087 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 16:50:51.090 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 16:50:51.094 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 16:50:51.097 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 16:50:51.101 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 16:50:51.105 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 16:50:51.247 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 16:50:51.281 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 16:50:51.284 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 16:50:51.286 +06:00 [DBG] Connection id "0HN717N02FOSS" received FIN.
2024-09-30 16:50:51.287 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 16:50:51.300 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 16:50:51.302 +06:00 [DBG] Connection id "0HN717N02FOSS" accepted.
2024-09-30 16:50:51.303 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 16:50:51.306 +06:00 [DBG] Connection id "0HN717N02FOSS" started.
2024-09-30 16:50:51.306 +06:00 [INF] Hosting environment: Development
2024-09-30 16:50:51.308 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 16:50:51.309 +06:00 [DBG] Hosting started
2024-09-30 16:50:51.323 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 16:50:51.353 +06:00 [DBG] Connection id "0HN717N02FOSS" stopped.
2024-09-30 16:50:51.357 +06:00 [DBG] Connection id "0HN717N02FOSS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:50:52.335 +06:00 [DBG] Connection id "0HN717N02FOST" accepted.
2024-09-30 16:50:52.339 +06:00 [DBG] Connection id "0HN717N02FOST" started.
2024-09-30 16:50:52.406 +06:00 [DBG] Connection 0HN717N02FOST established using the following protocol: "Tls12"
2024-09-30 16:50:52.466 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 16:50:52.554 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 16:50:52.571 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 16:50:52.573 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:50:52.695 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 16:50:52.718 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 16:50:52.722 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 257.1535ms
2024-09-30 16:50:54.842 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 16:50:54.842 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 16:50:54.864 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 22.0255ms
2024-09-30 16:50:54.931 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.5998ms
2024-09-30 16:50:54.998 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 16:50:55.017 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 16:50:55.018 +06:00 [DBG] Request did not match any endpoints
2024-09-30 16:50:55.307 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 308.853ms
2024-09-30 16:50:57.425 +06:00 [DBG] Connection id "0HN717N02FOST" received FIN.
2024-09-30 16:50:57.429 +06:00 [DBG] The connection queue processing loop for 0HN717N02FOST completed.
2024-09-30 16:50:57.433 +06:00 [DBG] Connection id "0HN717N02FOST" is closed. The last processed stream ID was 7.
2024-09-30 16:50:57.435 +06:00 [DBG] Connection id "0HN717N02FOST" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 16:50:57.455 +06:00 [DBG] Connection id "0HN717N02FOST" stopped.
2024-09-30 16:51:16.213 +06:00 [DBG] Connection id "0HN717N02FOSU" accepted.
2024-09-30 16:51:16.219 +06:00 [DBG] Connection id "0HN717N02FOSU" started.
2024-09-30 16:51:16.227 +06:00 [DBG] Connection 0HN717N02FOSU established using the following protocol: "Tls12"
2024-09-30 16:51:16.237 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 16:51:16.252 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 16:51:16.257 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 16:51:16.264 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:51:16.267 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:51:16.269 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:51:16.270 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:51:16.362 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 16:51:16.367 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:51:16.417 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 16:51:16.423 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:51:16.426 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:51:16.428 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:51:16.431 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:51:16.432 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:51:16.436 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:51:16.628 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 16:51:16.829 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 16:51:16.847 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:51:16.852 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 16:51:16.854 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:51:16.865 +06:00 [DBG] Connection id "0HN717N02FOSU", Request id "0HN717N02FOSU:00000001": started reading request body.
2024-09-30 16:51:16.866 +06:00 [DBG] Connection id "0HN717N02FOSU", Request id "0HN717N02FOSU:00000001": done reading request body.
2024-09-30 16:51:16.874 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 16:51:16.878 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:51:16.881 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:51:16.883 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 16:51:16.888 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 16:51:17.677 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 16:51:17.681 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 16:51:17.910 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 16:51:18.118 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:51:18.303 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 16:51:18.596 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:51:18.673 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:51:18.713 +06:00 [DBG] Created DbConnection. (33ms).
2024-09-30 16:51:18.720 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.176 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.182 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:51:19.187 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-30 16:51:19.196 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-09-30 16:51:19.205 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:51:19.283 +06:00 [INF] Executed DbCommand (81ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 16:51:19.323 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.343 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 46ms reading results.
2024-09-30 16:51:19.353 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.362 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (10ms).
2024-09-30 16:51:19.615 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 16:51:19.681 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 16:51:19.688 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.691 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.695 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:51:19.696 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:51:19.697 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 16:51:19.699 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:51:19.708 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 16:51:19.716 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.718 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 16:51:19.720 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.721 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 16:51:19.771 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 16:51:19.780 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 16:51:19.782 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 16:51:19.785 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 16:51:19.788 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 16:51:19.790 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 16:51:19.813 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3375.7798ms
2024-09-30 16:51:19.818 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 16:51:19.823 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3549.4326 ms
2024-09-30 16:51:19.832 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 16:51:19.837 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:51:19.843 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 16:51:19.847 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3610.0971ms
2024-09-30 16:52:15.281 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 175
2024-09-30 16:52:15.297 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 16:52:15.298 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 16:52:15.300 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:52:15.303 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 16:52:15.304 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 16:52:15.305 +06:00 [INF] CORS policy execution successful.
2024-09-30 16:52:15.342 +06:00 [DBG] Successfully validated the token.
2024-09-30 16:52:15.346 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 16:52:15.351 +06:00 [DBG] Authorization was successful.
2024-09-30 16:52:15.352 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 16:52:15.357 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 16:52:15.358 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 16:52:15.359 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 16:52:15.360 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 16:52:15.361 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 16:52:15.362 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 16:52:15.363 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:52:15.365 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 16:52:15.366 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:52:15.369 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 16:52:15.370 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 16:52:15.374 +06:00 [DBG] Connection id "0HN717N02FOSU", Request id "0HN717N02FOSU:00000003": started reading request body.
2024-09-30 16:52:15.375 +06:00 [DBG] Connection id "0HN717N02FOSU", Request id "0HN717N02FOSU:00000003": done reading request body.
2024-09-30 16:52:15.381 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 16:52:15.382 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:52:15.384 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:52:15.386 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 16:52:15.390 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 16:52:25.903 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 16:52:25.913 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 16:52:25.922 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int?) FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 16:52:25.925 +06:00 [DBG] Creating DbConnection.
2024-09-30 16:52:25.925 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 16:52:25.926 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:52:25.927 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:52:25.927 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 16:52:25.928 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 16:52:25.929 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 16:52:25.930 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:52:25.950 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 16:52:25.953 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:52:25.954 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 16:52:25.955 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 16:52:25.955 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:00:02.936 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 17:00:03.306 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:00:03.308 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:00:03.425 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:00:03.570 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:00:03.636 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:00:03.636 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:00:03.657 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:00:04.342 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:00:13.548 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 17:00:13.932 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:00:13.933 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:00:14.043 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:00:14.148 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:00:14.162 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:00:14.188 +06:00 [DBG] Created DbConnection. (24ms).
2024-09-30 17:00:14.189 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.194 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.392 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.395 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 17:00:14.401 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2024-09-30 17:00:14.402 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2024-09-30 17:00:14.406 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 17:00:14.427 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 17:00:14.430 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.436 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-09-30 17:00:14.439 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 17:00:14.439 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 17:00:14.439 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 17:00:14.439 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.440 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.440 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 17:00:14.451 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 17:00:14.451 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.452 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:00:14.452 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.453 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.453 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 17:00:14.453 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.453 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.453 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 17:00:14.454 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-30 17:00:14.455 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.455 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:00:14.455 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-30 17:00:14.455 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 17:00:14.455 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-30 17:00:14.455 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.455 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.455 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 17:00:14.456 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-30 17:00:14.456 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.456 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:00:14.464 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.464 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.464 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:00:14.464 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:00:14.464 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:00:14.465 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 17:00:14.475 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-30 17:00:14.477 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.478 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 17:00:14.478 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.479 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:00:14.487 +06:00 [INF] Applying migration '20240930110004_changes in products'.
2024-09-30 17:00:14.534 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.573 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:14.577 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 17:00:14.582 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 17:00:14.583 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 17:00:14.584 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.584 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.584 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Products_UserId] ON [Products];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Products] SET [UserId] = N'' WHERE [UserId] IS NULL;
ALTER TABLE [Products] ALTER COLUMN [UserId] nvarchar(450) NOT NULL;
ALTER TABLE [Products] ADD DEFAULT N'' FOR [UserId];
CREATE INDEX [IX_Products_UserId] ON [Products] ([UserId]);
2024-09-30 17:00:14.745 +06:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Products_UserId] ON [Products];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'UserId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Products] SET [UserId] = N'' WHERE [UserId] IS NULL;
ALTER TABLE [Products] ALTER COLUMN [UserId] nvarchar(450) NOT NULL;
ALTER TABLE [Products] ADD DEFAULT N'' FOR [UserId];
CREATE INDEX [IX_Products_UserId] ON [Products] ([UserId]);
2024-09-30 17:00:14.745 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 17:00:14.745 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.745 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.745 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Products_CategoriesId] ON [Products];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'CategoriesId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Products] SET [CategoriesId] = 0 WHERE [CategoriesId] IS NULL;
ALTER TABLE [Products] ALTER COLUMN [CategoriesId] int NOT NULL;
ALTER TABLE [Products] ADD DEFAULT 0 FOR [CategoriesId];
CREATE INDEX [IX_Products_CategoriesId] ON [Products] ([CategoriesId]);
2024-09-30 17:00:14.791 +06:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Products_CategoriesId] ON [Products];
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'CategoriesId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var1 + '];');
UPDATE [Products] SET [CategoriesId] = 0 WHERE [CategoriesId] IS NULL;
ALTER TABLE [Products] ALTER COLUMN [CategoriesId] int NOT NULL;
ALTER TABLE [Products] ADD DEFAULT 0 FOR [CategoriesId];
CREATE INDEX [IX_Products_CategoriesId] ON [Products] ([CategoriesId]);
2024-09-30 17:00:14.791 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-30 17:00:14.791 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.791 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-30 17:00:14.791 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930110004_changes in products', N'8.0.8');
2024-09-30 17:00:16.431 +06:00 [INF] Executed DbCommand (1,639ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240930110004_changes in products', N'8.0.8');
2024-09-30 17:00:16.432 +06:00 [DBG] Committing transaction.
2024-09-30 17:00:16.438 +06:00 [DBG] Committed transaction.
2024-09-30 17:00:16.440 +06:00 [DBG] Disposing transaction.
2024-09-30 17:00:16.440 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:16.440 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:00:16.442 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:00:16.443 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:00:16.444 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-09-30 17:00:31.668 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 17:00:31.834 +06:00 [DBG] Hosting starting
2024-09-30 17:00:31.898 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 17:00:31.925 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 17:00:31.932 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 17:00:31.934 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 17:00:31.943 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 17:00:31.949 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 17:00:31.950 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 17:00:31.958 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 17:00:31.962 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:00:31.965 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 17:00:31.968 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:00:31.975 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 17:00:31.979 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 17:00:31.983 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 17:00:31.984 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 17:00:32.363 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 17:00:32.364 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 17:00:32.365 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 17:00:32.366 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 17:00:32.367 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 17:00:32.368 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 17:00:32.368 +06:00 [INF] Hosting environment: Development
2024-09-30 17:00:32.369 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 17:00:32.369 +06:00 [DBG] Hosting started
2024-09-30 17:00:32.823 +06:00 [DBG] Connection id "0HN717SDCEESV" accepted.
2024-09-30 17:00:32.828 +06:00 [DBG] Connection id "0HN717SDCEESV" started.
2024-09-30 17:00:32.828 +06:00 [DBG] Connection id "0HN717SDCEET0" accepted.
2024-09-30 17:00:32.830 +06:00 [DBG] Connection id "0HN717SDCEET0" started.
2024-09-30 17:00:32.847 +06:00 [DBG] Connection id "0HN717SDCEET0" received FIN.
2024-09-30 17:00:32.848 +06:00 [DBG] Connection id "0HN717SDCEESV" received FIN.
2024-09-30 17:00:32.867 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:00:32.867 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:00:32.950 +06:00 [DBG] Connection id "0HN717SDCEESV" stopped.
2024-09-30 17:00:32.950 +06:00 [DBG] Connection id "0HN717SDCEET0" stopped.
2024-09-30 17:00:32.955 +06:00 [DBG] Connection id "0HN717SDCEET0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:00:32.955 +06:00 [DBG] Connection id "0HN717SDCEESV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:00:36.302 +06:00 [DBG] Connection id "0HN717SDCEET1" accepted.
2024-09-30 17:00:36.322 +06:00 [DBG] Connection id "0HN717SDCEET1" started.
2024-09-30 17:00:36.510 +06:00 [DBG] Connection 0HN717SDCEET1 established using the following protocol: "Tls12"
2024-09-30 17:00:36.622 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 17:00:36.771 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 17:00:36.806 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 17:00:36.808 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:00:36.976 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 17:00:37.003 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 17:00:37.007 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 397.9541ms
2024-09-30 17:00:37.071 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 17:00:37.071 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 17:00:37.083 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.4615ms
2024-09-30 17:00:37.198 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 126.6586ms
2024-09-30 17:00:37.278 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 17:00:37.284 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 17:00:37.286 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:00:37.626 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 348.3131ms
2024-09-30 17:00:40.780 +06:00 [DBG] Connection id "0HN717SDCEET1" received FIN.
2024-09-30 17:00:40.784 +06:00 [DBG] The connection queue processing loop for 0HN717SDCEET1 completed.
2024-09-30 17:00:40.787 +06:00 [DBG] Connection id "0HN717SDCEET1" is closed. The last processed stream ID was 7.
2024-09-30 17:00:40.789 +06:00 [DBG] Connection id "0HN717SDCEET1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:00:40.804 +06:00 [DBG] Connection id "0HN717SDCEET1" stopped.
2024-09-30 17:00:59.883 +06:00 [DBG] Connection id "0HN717SDCEET2" accepted.
2024-09-30 17:00:59.886 +06:00 [DBG] Connection id "0HN717SDCEET2" started.
2024-09-30 17:00:59.890 +06:00 [DBG] Connection 0HN717SDCEET2 established using the following protocol: "Tls12"
2024-09-30 17:00:59.896 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 62
2024-09-30 17:00:59.907 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 17:00:59.912 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 17:00:59.919 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:00:59.923 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:00:59.925 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:00:59.928 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:01:00.013 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 17:01:00.024 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:01:00.055 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 17:01:00.060 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:01:00.060 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:01:00.061 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:01:00.063 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:01:00.063 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:01:00.067 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:01:00.250 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 17:01:00.489 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:01:00.509 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:01:00.512 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 17:01:00.517 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:01:00.526 +06:00 [DBG] Connection id "0HN717SDCEET2", Request id "0HN717SDCEET2:00000001": started reading request body.
2024-09-30 17:01:00.528 +06:00 [DBG] Connection id "0HN717SDCEET2", Request id "0HN717SDCEET2:00000001": done reading request body.
2024-09-30 17:01:00.540 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 17:01:00.541 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:01:00.542 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:01:00.542 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:01:00.551 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:01:01.377 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:01:01.385 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:01:01.696 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:01:01.940 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:01:02.101 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 17:01:02.449 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:01:02.503 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:01:02.543 +06:00 [DBG] Created DbConnection. (34ms).
2024-09-30 17:01:02.551 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:02.987 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:02.996 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:01:03.006 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-30 17:01:03.025 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-09-30 17:01:03.039 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:01:03.133 +06:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:01:03.167 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:03.183 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 39ms reading results.
2024-09-30 17:01:03.190 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:03.204 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (14ms).
2024-09-30 17:01:03.424 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 17:01:03.468 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 17:01:03.474 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:03.476 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:03.477 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:01:03.477 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:01:03.478 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:01:03.479 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:01:03.489 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:01:03.491 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:03.492 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 17:01:03.493 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:03.493 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:01:03.525 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 17:01:03.530 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 17:01:03.530 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 17:01:03.532 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 17:01:03.534 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 17:01:03.535 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 17:01:03.544 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3476.9313ms
2024-09-30 17:01:03.548 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:01:03.552 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3620.0617 ms
2024-09-30 17:01:03.555 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:01:03.559 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:01:03.562 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 17:01:03.567 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3671.4224ms
2024-09-30 17:01:11.045 +06:00 [DBG] Connection id "0HN717SDCEET2" received FIN.
2024-09-30 17:01:11.046 +06:00 [DBG] Connection id "0HN717SDCEET2" is closed. The last processed stream ID was 1.
2024-09-30 17:01:11.046 +06:00 [DBG] The connection queue processing loop for 0HN717SDCEET2 completed.
2024-09-30 17:01:11.048 +06:00 [DBG] Connection id "0HN717SDCEET2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:01:11.060 +06:00 [DBG] Connection id "0HN717SDCEET2" stopped.
2024-09-30 17:01:43.248 +06:00 [DBG] Connection id "0HN717SDCEET3" accepted.
2024-09-30 17:01:43.252 +06:00 [DBG] Connection id "0HN717SDCEET3" started.
2024-09-30 17:01:43.258 +06:00 [DBG] Connection 0HN717SDCEET3 established using the following protocol: "Tls12"
2024-09-30 17:01:43.273 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 175
2024-09-30 17:01:43.318 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 17:01:43.319 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 17:01:43.320 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:01:43.321 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:01:43.322 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:01:43.322 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:01:43.396 +06:00 [DBG] Successfully validated the token.
2024-09-30 17:01:43.400 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 17:01:43.412 +06:00 [DBG] Authorization was successful.
2024-09-30 17:01:43.414 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:01:43.423 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 17:01:43.429 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:01:43.430 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:01:43.431 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:01:43.432 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:01:43.433 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:01:43.434 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:01:43.437 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:01:43.438 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:01:43.439 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 17:01:43.440 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:01:43.450 +06:00 [DBG] Connection id "0HN717SDCEET3", Request id "0HN717SDCEET3:00000001": started reading request body.
2024-09-30 17:01:43.452 +06:00 [DBG] Connection id "0HN717SDCEET3", Request id "0HN717SDCEET3:00000001": done reading request body.
2024-09-30 17:01:43.457 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 17:01:43.457 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:01:43.458 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:01:43.460 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:01:43.468 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:02:00.035 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:02:00.044 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 17:02:00.056 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:02:00.063 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:02:00.065 +06:00 [DBG] Created DbConnection. (2ms).
2024-09-30 17:02:00.067 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:02:00.069 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:02:00.070 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:02:00.071 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:02:00.072 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:02:00.073 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:02:00.096 +06:00 [INF] Executed DbCommand (23ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:02:00.099 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:02:00.101 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 17:02:00.102 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:02:00.103 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:02:04.386 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:02:04.479 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:04:54.756 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 17:04:54.869 +06:00 [DBG] Hosting starting
2024-09-30 17:04:54.906 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 17:04:54.917 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 17:04:54.924 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 17:04:54.925 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 17:04:54.929 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 17:04:54.932 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 17:04:54.932 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 17:04:54.937 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 17:04:54.941 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:04:54.944 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 17:04:54.946 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:04:54.949 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 17:04:54.952 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 17:04:54.955 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 17:04:54.957 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 17:04:55.172 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 17:04:55.175 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 17:04:55.176 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 17:04:55.177 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 17:04:55.178 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 17:04:55.179 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 17:04:55.179 +06:00 [INF] Hosting environment: Development
2024-09-30 17:04:55.180 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 17:04:55.180 +06:00 [DBG] Hosting started
2024-09-30 17:04:55.516 +06:00 [DBG] Connection id "0HN717URLMFM4" received FIN.
2024-09-30 17:04:55.522 +06:00 [DBG] Connection id "0HN717URLMFM4" accepted.
2024-09-30 17:04:55.524 +06:00 [DBG] Connection id "0HN717URLMFM4" started.
2024-09-30 17:04:55.537 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:04:55.563 +06:00 [DBG] Connection id "0HN717URLMFM4" stopped.
2024-09-30 17:04:55.565 +06:00 [DBG] Connection id "0HN717URLMFM4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:04:59.318 +06:00 [DBG] Connection id "0HN717URLMFM5" accepted.
2024-09-30 17:04:59.325 +06:00 [DBG] Connection id "0HN717URLMFM5" started.
2024-09-30 17:04:59.460 +06:00 [DBG] Connection 0HN717URLMFM5 established using the following protocol: "Tls12"
2024-09-30 17:04:59.590 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 17:04:59.748 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 17:04:59.818 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 17:04:59.820 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:04:59.996 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 17:05:00.040 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 17:05:00.045 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 470.1423ms
2024-09-30 17:05:00.094 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 17:05:00.094 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 17:05:00.109 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 14.6055ms
2024-09-30 17:05:00.182 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 88.6044ms
2024-09-30 17:05:00.225 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 17:05:00.227 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 17:05:00.228 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:05:00.482 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 257.236ms
2024-09-30 17:05:02.893 +06:00 [DBG] Connection id "0HN717URLMFM5" received FIN.
2024-09-30 17:05:02.899 +06:00 [DBG] The connection queue processing loop for 0HN717URLMFM5 completed.
2024-09-30 17:05:02.904 +06:00 [DBG] Connection id "0HN717URLMFM5" is closed. The last processed stream ID was 7.
2024-09-30 17:05:02.913 +06:00 [DBG] Connection id "0HN717URLMFM5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:05:02.917 +06:00 [DBG] Connection id "0HN717URLMFM5" stopped.
2024-09-30 17:05:24.408 +06:00 [DBG] Connection id "0HN717URLMFM6" accepted.
2024-09-30 17:05:24.417 +06:00 [DBG] Connection id "0HN717URLMFM6" started.
2024-09-30 17:05:24.424 +06:00 [DBG] Connection 0HN717URLMFM6 established using the following protocol: "Tls12"
2024-09-30 17:05:24.431 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 17:05:24.445 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 17:05:24.452 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 17:05:24.455 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:05:24.459 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:05:24.462 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:05:24.467 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:05:24.605 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 17:05:24.610 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:05:24.659 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 17:05:24.665 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:05:24.667 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:05:24.669 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:05:24.672 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:05:24.674 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:05:24.678 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:05:24.891 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 17:05:25.074 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:05:25.090 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:05:25.092 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 17:05:25.094 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:05:25.102 +06:00 [DBG] Connection id "0HN717URLMFM6", Request id "0HN717URLMFM6:00000001": started reading request body.
2024-09-30 17:05:25.105 +06:00 [DBG] Connection id "0HN717URLMFM6", Request id "0HN717URLMFM6:00000001": done reading request body.
2024-09-30 17:05:25.121 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 17:05:25.124 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:05:25.125 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:05:25.126 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:05:25.139 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:05:26.006 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:05:26.010 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:05:26.258 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:05:26.552 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:05:26.706 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 17:05:27.020 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:05:27.091 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:05:27.124 +06:00 [DBG] Created DbConnection. (32ms).
2024-09-30 17:05:27.132 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:27.733 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:27.739 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:05:27.746 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-30 17:05:27.755 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (16ms).
2024-09-30 17:05:27.763 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:05:27.882 +06:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:05:27.937 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:27.948 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 54ms reading results.
2024-09-30 17:05:27.953 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:27.959 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-09-30 17:05:28.139 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 17:05:28.184 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 17:05:28.189 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:28.190 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:28.191 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:05:28.191 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:05:28.192 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:05:28.193 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:05:28.202 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:05:28.205 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:28.206 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 17:05:28.207 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:28.207 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:05:28.242 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 17:05:28.249 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 17:05:28.250 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 17:05:28.251 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 17:05:28.254 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 17:05:28.255 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 17:05:28.270 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3592.1028ms
2024-09-30 17:05:28.272 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:05:28.276 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3800.4703 ms
2024-09-30 17:05:28.281 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:05:28.288 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:05:28.291 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-30 17:05:28.296 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3865.629ms
2024-09-30 17:05:34.024 +06:00 [DBG] Connection id "0HN717URLMFM6" received FIN.
2024-09-30 17:05:34.027 +06:00 [DBG] Connection id "0HN717URLMFM6" is closed. The last processed stream ID was 1.
2024-09-30 17:05:34.027 +06:00 [DBG] The connection queue processing loop for 0HN717URLMFM6 completed.
2024-09-30 17:05:34.028 +06:00 [DBG] Connection id "0HN717URLMFM6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:05:34.033 +06:00 [DBG] Connection id "0HN717URLMFM6" stopped.
2024-09-30 17:06:31.694 +06:00 [DBG] Connection id "0HN717URLMFM7" accepted.
2024-09-30 17:06:31.696 +06:00 [DBG] Connection id "0HN717URLMFM7" started.
2024-09-30 17:06:31.701 +06:00 [DBG] Connection 0HN717URLMFM7 established using the following protocol: "Tls12"
2024-09-30 17:06:31.707 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 178
2024-09-30 17:06:31.720 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 17:06:31.721 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 17:06:31.723 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:06:31.725 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:06:31.726 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:06:31.727 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:06:31.818 +06:00 [DBG] Successfully validated the token.
2024-09-30 17:06:31.825 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 17:06:31.833 +06:00 [DBG] Authorization was successful.
2024-09-30 17:06:31.835 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:06:31.846 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 17:06:31.848 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:06:31.851 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:06:31.855 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:06:31.859 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:06:31.860 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:06:31.862 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:06:31.864 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:06:31.865 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:06:31.866 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 17:06:31.867 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:06:31.872 +06:00 [DBG] Connection id "0HN717URLMFM7", Request id "0HN717URLMFM7:00000001": started reading request body.
2024-09-30 17:06:31.873 +06:00 [DBG] Connection id "0HN717URLMFM7", Request id "0HN717URLMFM7:00000001": done reading request body.
2024-09-30 17:06:31.878 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 17:06:31.879 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:06:31.879 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:06:31.880 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:06:31.885 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:06:42.107 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:06:42.123 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 17:06:42.138 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:06:42.145 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:06:42.147 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 17:06:42.148 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:06:42.149 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:06:42.150 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:06:42.151 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:06:42.152 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:06:42.153 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:06:42.172 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:06:42.175 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:06:42.175 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 17:06:42.176 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:06:42.177 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:06:53.167 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:06:53.268 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:06:59.334 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:06:59.370 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:07:00.619 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 17:07:00.626 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 17:07:00.661 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 17:07:00.667 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 17:07:00.671 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 17:07:00.675 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 17:07:00.677 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 17:07:00.774 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 17:07:00.778 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:00.780 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:00.782 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 17:07:00.789 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 17:07:00.792 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:07:00.793 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:07:00.796 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-30 17:07:00.797 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 17:07:00.828 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 17:07:00.843 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:00.845 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 12ms reading results.
2024-09-30 17:07:00.850 +06:00 [DBG] Disposing transaction.
2024-09-30 17:07:00.854 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:00.854 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:07:00.865 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:61d8f459-7fb7-4192-8f39-4ff4f3810709
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:61d8f459-7fb7-4192-8f39-4ff4f3810709
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 17:07:05.906 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 17:07:30.495 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 17:07:30.615 +06:00 [DBG] Hosting starting
2024-09-30 17:07:30.665 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 17:07:30.674 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 17:07:30.679 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 17:07:30.680 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 17:07:30.686 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 17:07:30.690 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 17:07:30.691 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 17:07:30.696 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 17:07:30.699 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:07:30.701 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 17:07:30.704 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:07:30.707 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 17:07:30.710 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 17:07:30.715 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 17:07:30.716 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 17:07:30.910 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 17:07:30.911 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 17:07:30.912 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 17:07:30.913 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 17:07:30.914 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 17:07:30.915 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 17:07:30.916 +06:00 [INF] Hosting environment: Development
2024-09-30 17:07:30.916 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 17:07:30.917 +06:00 [DBG] Hosting started
2024-09-30 17:07:31.054 +06:00 [DBG] Connection id "0HN7180A10R64" accepted.
2024-09-30 17:07:31.059 +06:00 [DBG] Connection id "0HN7180A10R64" started.
2024-09-30 17:07:31.072 +06:00 [DBG] Connection id "0HN7180A10R65" received FIN.
2024-09-30 17:07:31.072 +06:00 [DBG] Connection id "0HN7180A10R64" received FIN.
2024-09-30 17:07:31.076 +06:00 [DBG] Connection id "0HN7180A10R65" accepted.
2024-09-30 17:07:31.077 +06:00 [DBG] Connection id "0HN7180A10R65" started.
2024-09-30 17:07:31.085 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:07:31.085 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:07:31.120 +06:00 [DBG] Connection id "0HN7180A10R65" stopped.
2024-09-30 17:07:31.120 +06:00 [DBG] Connection id "0HN7180A10R64" stopped.
2024-09-30 17:07:31.129 +06:00 [DBG] Connection id "0HN7180A10R64" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:07:31.129 +06:00 [DBG] Connection id "0HN7180A10R65" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:07:31.978 +06:00 [DBG] Connection id "0HN7180A10R66" accepted.
2024-09-30 17:07:31.996 +06:00 [DBG] Connection id "0HN7180A10R66" started.
2024-09-30 17:07:32.132 +06:00 [DBG] Connection 0HN7180A10R66 established using the following protocol: "Tls12"
2024-09-30 17:07:32.251 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 17:07:32.338 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 17:07:32.361 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 17:07:32.365 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:07:32.475 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 17:07:32.499 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 17:07:32.505 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 262.5126ms
2024-09-30 17:07:34.449 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 17:07:34.449 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 17:07:34.465 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 16.516ms
2024-09-30 17:07:34.551 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 102.7937ms
2024-09-30 17:07:34.610 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 17:07:34.619 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 17:07:34.621 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:07:35.001 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 391.6566ms
2024-09-30 17:07:36.709 +06:00 [DBG] Connection id "0HN7180A10R66" received FIN.
2024-09-30 17:07:36.717 +06:00 [DBG] The connection queue processing loop for 0HN7180A10R66 completed.
2024-09-30 17:07:36.724 +06:00 [DBG] Connection id "0HN7180A10R66" is closed. The last processed stream ID was 7.
2024-09-30 17:07:36.727 +06:00 [DBG] Connection id "0HN7180A10R66" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:07:36.748 +06:00 [DBG] Connection id "0HN7180A10R66" stopped.
2024-09-30 17:07:54.702 +06:00 [DBG] Connection id "0HN7180A10R67" accepted.
2024-09-30 17:07:54.703 +06:00 [DBG] Connection id "0HN7180A10R67" started.
2024-09-30 17:07:54.708 +06:00 [DBG] Connection 0HN7180A10R67 established using the following protocol: "Tls12"
2024-09-30 17:07:54.712 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 17:07:54.723 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 17:07:54.726 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 17:07:54.732 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:07:54.738 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:07:54.740 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:07:54.743 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:07:54.894 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 17:07:54.901 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:07:54.946 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 17:07:54.952 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:07:54.954 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:07:54.956 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:07:54.958 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:07:54.959 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:07:54.964 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:07:55.202 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 17:07:55.460 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:07:55.477 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:07:55.483 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 17:07:55.486 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:07:55.494 +06:00 [DBG] Connection id "0HN7180A10R67", Request id "0HN7180A10R67:00000001": started reading request body.
2024-09-30 17:07:55.496 +06:00 [DBG] Connection id "0HN7180A10R67", Request id "0HN7180A10R67:00000001": done reading request body.
2024-09-30 17:07:55.509 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 17:07:55.512 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:07:55.513 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:07:55.514 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:07:55.521 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:07:56.325 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:07:56.328 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:07:56.601 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:07:56.840 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:07:56.979 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 17:07:57.207 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:07:57.290 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:07:57.325 +06:00 [DBG] Created DbConnection. (34ms).
2024-09-30 17:07:57.331 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:57.779 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:57.787 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:07:57.798 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-09-30 17:07:57.815 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (28ms).
2024-09-30 17:07:57.826 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:07:57.937 +06:00 [INF] Executed DbCommand (107ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:07:57.975 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:57.993 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 45ms reading results.
2024-09-30 17:07:58.003 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:58.016 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (12ms).
2024-09-30 17:07:58.186 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 17:07:58.267 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 17:07:58.273 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:58.276 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:58.278 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:07:58.280 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:07:58.281 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 17:07:58.281 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:07:58.297 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:07:58.300 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:58.300 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 17:07:58.301 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:58.302 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:07:58.349 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 17:07:58.355 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 17:07:58.355 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 17:07:58.356 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 17:07:58.357 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 17:07:58.359 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 17:07:58.371 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3408.1861ms
2024-09-30 17:07:58.372 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:07:58.376 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3624.5846 ms
2024-09-30 17:07:58.383 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:07:58.388 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:07:58.391 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 17:07:58.399 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3686.9622ms
2024-09-30 17:08:06.743 +06:00 [DBG] Connection id "0HN7180A10R67" received FIN.
2024-09-30 17:08:06.747 +06:00 [DBG] Connection id "0HN7180A10R67" is closed. The last processed stream ID was 1.
2024-09-30 17:08:06.747 +06:00 [DBG] The connection queue processing loop for 0HN7180A10R67 completed.
2024-09-30 17:08:06.751 +06:00 [DBG] Connection id "0HN7180A10R67" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:08:06.758 +06:00 [DBG] Connection id "0HN7180A10R67" stopped.
2024-09-30 17:08:43.240 +06:00 [DBG] Connection id "0HN7180A10R68" accepted.
2024-09-30 17:08:43.250 +06:00 [DBG] Connection id "0HN7180A10R68" started.
2024-09-30 17:08:43.255 +06:00 [DBG] Connection 0HN7180A10R68 established using the following protocol: "Tls12"
2024-09-30 17:08:43.273 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 177
2024-09-30 17:08:43.279 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 17:08:43.280 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 17:08:43.281 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:08:43.282 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:08:43.284 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:08:43.285 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:08:43.371 +06:00 [DBG] Successfully validated the token.
2024-09-30 17:08:43.375 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 17:08:43.385 +06:00 [DBG] Authorization was successful.
2024-09-30 17:08:43.389 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:08:43.395 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 17:08:43.397 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:08:43.398 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:08:43.399 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:08:43.400 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:08:43.401 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:08:43.402 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:08:43.405 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:08:43.408 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:08:43.409 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 17:08:43.410 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:08:43.414 +06:00 [DBG] Connection id "0HN7180A10R68", Request id "0HN7180A10R68:00000001": started reading request body.
2024-09-30 17:08:43.414 +06:00 [DBG] Connection id "0HN7180A10R68", Request id "0HN7180A10R68:00000001": done reading request body.
2024-09-30 17:08:43.418 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 17:08:43.419 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:08:43.420 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:08:43.421 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:08:43.427 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:08:54.490 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:08:54.503 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 17:08:54.522 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:08:54.531 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:08:54.532 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 17:08:54.533 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:08:54.534 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:08:54.535 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:08:54.535 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:08:54.537 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 17:08:54.538 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:08:54.558 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:08:54.560 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:08:54.561 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 17:08:54.562 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:08:54.563 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:09:00.205 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:09:00.318 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:27:56.235 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 17:27:56.354 +06:00 [DBG] Hosting starting
2024-09-30 17:27:56.420 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 17:27:56.431 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 17:27:56.439 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 17:27:56.440 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 17:27:56.446 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 17:27:56.450 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 17:27:56.451 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 17:27:56.458 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 17:27:56.462 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:27:56.465 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 17:27:56.467 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:27:56.472 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 17:27:56.476 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 17:27:56.479 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 17:27:56.481 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 17:27:56.721 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 17:27:56.723 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 17:27:56.724 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 17:27:56.725 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 17:27:56.727 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 17:27:56.728 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 17:27:56.729 +06:00 [DBG] Connection id "0HN718BN9USLB" received FIN.
2024-09-30 17:27:56.730 +06:00 [INF] Hosting environment: Development
2024-09-30 17:27:56.733 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 17:27:56.734 +06:00 [DBG] Hosting started
2024-09-30 17:27:56.739 +06:00 [DBG] Connection id "0HN718BN9USLB" accepted.
2024-09-30 17:27:56.742 +06:00 [DBG] Connection id "0HN718BN9USLB" started.
2024-09-30 17:27:56.760 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:27:56.816 +06:00 [DBG] Connection id "0HN718BN9USLB" stopped.
2024-09-30 17:27:56.819 +06:00 [DBG] Connection id "0HN718BN9USLB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:27:58.279 +06:00 [DBG] Connection id "0HN718BN9USLC" accepted.
2024-09-30 17:27:58.279 +06:00 [DBG] Connection id "0HN718BN9USLC" started.
2024-09-30 17:27:58.431 +06:00 [DBG] Connection 0HN718BN9USLC established using the following protocol: "Tls12"
2024-09-30 17:27:58.576 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 17:27:58.710 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 17:27:58.738 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 17:27:58.741 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:27:58.903 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 17:27:58.926 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 17:27:58.930 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 365.5459ms
2024-09-30 17:28:00.520 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 17:28:00.527 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 17:28:00.530 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.716ms
2024-09-30 17:28:00.593 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 66.4122ms
2024-09-30 17:28:00.661 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 17:28:00.663 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 17:28:00.663 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:28:00.898 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 237.4156ms
2024-09-30 17:28:03.069 +06:00 [DBG] Connection id "0HN718BN9USLC" received FIN.
2024-09-30 17:28:03.074 +06:00 [DBG] The connection queue processing loop for 0HN718BN9USLC completed.
2024-09-30 17:28:03.078 +06:00 [DBG] Connection id "0HN718BN9USLC" is closed. The last processed stream ID was 7.
2024-09-30 17:28:03.081 +06:00 [DBG] Connection id "0HN718BN9USLC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:28:03.097 +06:00 [DBG] Connection id "0HN718BN9USLC" stopped.
2024-09-30 17:28:58.160 +06:00 [DBG] Connection id "0HN718BN9USLD" accepted.
2024-09-30 17:28:58.207 +06:00 [DBG] Connection id "0HN718BN9USLD" started.
2024-09-30 17:28:58.211 +06:00 [DBG] Connection 0HN718BN9USLD established using the following protocol: "Tls12"
2024-09-30 17:28:58.217 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 177
2024-09-30 17:28:58.228 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 17:28:58.236 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 17:28:58.240 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:28:58.249 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:28:58.253 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:28:58.257 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:28:58.496 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2024 10:27:50 AM', Current time (UTC): '9/30/2024 11:28:58 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 17:28:58.503 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2024 10:27:50 AM', Current time (UTC): '9/30/2024 11:28:58 AM'.
2024-09-30 17:28:58.511 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-30 17:28:58.523 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-30 17:28:58.536 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-30 17:28:58.542 +06:00 [INF] HTTP POST /api/Product/BuyProduct responded 401 in 276.5700 ms
2024-09-30 17:28:58.550 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 401 0 null 332.1393ms
2024-09-30 17:28:58.557 +06:00 [DBG] Connection id "0HN718BN9USLD", Request id "0HN718BN9USLD:00000001": started reading request body.
2024-09-30 17:28:58.560 +06:00 [DBG] Connection id "0HN718BN9USLD", Request id "0HN718BN9USLD:00000001": done reading request body.
2024-09-30 17:29:03.147 +06:00 [DBG] Connection id "0HN718BN9USLD" received FIN.
2024-09-30 17:29:03.151 +06:00 [DBG] Connection id "0HN718BN9USLD" is closed. The last processed stream ID was 1.
2024-09-30 17:29:03.151 +06:00 [DBG] The connection queue processing loop for 0HN718BN9USLD completed.
2024-09-30 17:29:03.154 +06:00 [DBG] Connection id "0HN718BN9USLD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:29:03.161 +06:00 [DBG] Connection id "0HN718BN9USLD" stopped.
2024-09-30 17:29:32.351 +06:00 [DBG] Connection id "0HN718BN9USLE" accepted.
2024-09-30 17:29:32.364 +06:00 [DBG] Connection id "0HN718BN9USLE" started.
2024-09-30 17:29:32.377 +06:00 [DBG] Connection 0HN718BN9USLE established using the following protocol: "Tls12"
2024-09-30 17:29:32.383 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 17:29:32.402 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 17:29:32.403 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 17:29:32.404 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:29:32.405 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:29:32.406 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:29:32.407 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:29:32.413 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2024 10:27:50 AM', Current time (UTC): '9/30/2024 11:29:32 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 17:29:32.415 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2024 10:27:50 AM', Current time (UTC): '9/30/2024 11:29:32 AM'.
2024-09-30 17:29:32.417 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:29:32.467 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 17:29:32.472 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:29:32.473 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:29:32.476 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:29:32.478 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:29:32.479 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:29:32.482 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:29:32.768 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 17:29:33.004 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:29:33.022 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:29:33.027 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 17:29:33.030 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:29:33.036 +06:00 [DBG] Connection id "0HN718BN9USLE", Request id "0HN718BN9USLE:00000001": started reading request body.
2024-09-30 17:29:33.038 +06:00 [DBG] Connection id "0HN718BN9USLE", Request id "0HN718BN9USLE:00000001": done reading request body.
2024-09-30 17:29:33.054 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 17:29:33.055 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:29:33.056 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:29:33.058 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:29:33.065 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:29:34.052 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:29:34.056 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:29:34.332 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:29:34.737 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:29:34.926 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 17:29:35.286 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:29:35.369 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:29:35.422 +06:00 [DBG] Created DbConnection. (48ms).
2024-09-30 17:29:35.432 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:36.510 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:36.520 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:29:36.530 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-30 17:29:36.539 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-09-30 17:29:36.554 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:29:36.706 +06:00 [INF] Executed DbCommand (154ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:29:36.742 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:36.765 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 40ms reading results.
2024-09-30 17:29:36.777 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:36.797 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (19ms).
2024-09-30 17:29:37.045 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 17:29:37.111 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 17:29:37.117 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:37.121 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:37.123 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:29:37.127 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-30 17:29:37.128 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-30 17:29:37.129 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:29:37.142 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:29:37.147 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:37.149 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-30 17:29:37.151 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:37.153 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 17:29:37.181 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 17:29:37.185 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 17:29:37.186 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 17:29:37.187 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 17:29:37.189 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 17:29:37.193 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 17:29:37.217 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4733.0208ms
2024-09-30 17:29:37.221 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:29:37.227 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4819.7100 ms
2024-09-30 17:29:37.232 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:29:37.235 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:37.238 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 17:29:37.244 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4861.6711ms
2024-09-30 17:29:38.991 +06:00 [DBG] Connection id "0HN718BN9USLE" received FIN.
2024-09-30 17:29:38.995 +06:00 [DBG] Connection id "0HN718BN9USLE" is closed. The last processed stream ID was 1.
2024-09-30 17:29:38.995 +06:00 [DBG] The connection queue processing loop for 0HN718BN9USLE completed.
2024-09-30 17:29:38.997 +06:00 [DBG] Connection id "0HN718BN9USLE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:29:39.008 +06:00 [DBG] Connection id "0HN718BN9USLE" stopped.
2024-09-30 17:29:45.191 +06:00 [DBG] Connection id "0HN718BN9USLF" accepted.
2024-09-30 17:29:45.193 +06:00 [DBG] Connection id "0HN718BN9USLF" started.
2024-09-30 17:29:45.197 +06:00 [DBG] Connection 0HN718BN9USLF established using the following protocol: "Tls12"
2024-09-30 17:29:45.202 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 17:29:45.213 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 17:29:45.216 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 17:29:45.219 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:29:45.220 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:29:45.222 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:29:45.224 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:29:45.238 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2024 10:27:50 AM', Current time (UTC): '9/30/2024 11:29:45 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 17:29:45.243 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/30/2024 10:27:50 AM', Current time (UTC): '9/30/2024 11:29:45 AM'.
2024-09-30 17:29:45.245 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:29:45.246 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 17:29:45.247 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:29:45.248 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:29:45.249 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:29:45.250 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:29:45.251 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:29:45.252 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:29:45.259 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:29:45.261 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:29:45.262 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 17:29:45.264 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:29:45.265 +06:00 [DBG] Connection id "0HN718BN9USLF", Request id "0HN718BN9USLF:00000001": started reading request body.
2024-09-30 17:29:45.267 +06:00 [DBG] Connection id "0HN718BN9USLF", Request id "0HN718BN9USLF:00000001": done reading request body.
2024-09-30 17:29:45.269 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 17:29:45.270 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:29:45.272 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:29:45.274 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:29:45.276 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:29:45.358 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:29:45.366 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:29:45.367 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 17:29:45.369 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.370 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.371 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:29:45.373 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:29:45.379 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-30 17:29:45.379 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:29:45.384 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:29:45.386 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.387 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 17:29:45.387 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.388 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:29:45.534 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.535 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.536 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:29:45.537 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:29:45.538 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:29:45.539 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:29:45.547 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:29:45.551 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.552 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 17:29:45.553 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.554 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:29:45.558 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 17:29:45.561 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 17:29:45.562 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 17:29:45.564 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 17:29:45.564 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 17:29:45.565 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 17:29:45.566 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 314.7215ms
2024-09-30 17:29:45.568 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:29:45.569 +06:00 [INF] HTTP POST /api/User/login responded 200 in 342.3255 ms
2024-09-30 17:29:45.570 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:29:45.572 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:29:45.573 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 17:29:45.575 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 372.6065ms
2024-09-30 17:29:53.208 +06:00 [DBG] Connection id "0HN718BN9USLF" received FIN.
2024-09-30 17:29:53.211 +06:00 [DBG] Connection id "0HN718BN9USLF" is closed. The last processed stream ID was 1.
2024-09-30 17:29:53.211 +06:00 [DBG] The connection queue processing loop for 0HN718BN9USLF completed.
2024-09-30 17:29:53.214 +06:00 [DBG] Connection id "0HN718BN9USLF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:29:53.221 +06:00 [DBG] Connection id "0HN718BN9USLF" stopped.
2024-09-30 17:30:22.359 +06:00 [DBG] Connection id "0HN718BN9USLG" accepted.
2024-09-30 17:30:22.369 +06:00 [DBG] Connection id "0HN718BN9USLG" started.
2024-09-30 17:30:22.373 +06:00 [DBG] Connection 0HN718BN9USLG established using the following protocol: "Tls12"
2024-09-30 17:30:22.393 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 177
2024-09-30 17:30:22.396 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 17:30:22.396 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 17:30:22.398 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:30:22.398 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:30:22.399 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:30:22.399 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:30:22.421 +06:00 [DBG] Successfully validated the token.
2024-09-30 17:30:22.426 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 17:30:22.429 +06:00 [DBG] Authorization was successful.
2024-09-30 17:30:22.429 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 17:30:22.433 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 17:30:22.437 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:30:22.438 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:30:22.439 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:30:22.440 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:30:22.441 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:30:22.442 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:30:22.443 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 17:30:22.444 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:30:22.445 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 17:30:22.446 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:30:22.450 +06:00 [DBG] Connection id "0HN718BN9USLG", Request id "0HN718BN9USLG:00000001": started reading request body.
2024-09-30 17:30:22.450 +06:00 [DBG] Connection id "0HN718BN9USLG", Request id "0HN718BN9USLG:00000001": done reading request body.
2024-09-30 17:30:22.456 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 17:30:22.458 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:30:22.458 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:30:22.459 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 17:30:22.464 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 17:30:35.823 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:30:35.827 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 17:30:35.838 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:30:35.843 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:30:35.844 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 17:30:35.846 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:30:35.847 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:30:35.850 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:30:35.852 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-30 17:30:35.854 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-30 17:30:35.858 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:30:35.878 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 17:30:35.881 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:30:35.881 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 17:30:35.883 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:30:35.884 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 17:30:44.912 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:30:45.001 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 17:58:59.434 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 17:58:59.556 +06:00 [DBG] Hosting starting
2024-09-30 17:58:59.596 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 17:58:59.605 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 17:58:59.611 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 17:58:59.614 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 17:58:59.618 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 17:58:59.622 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 17:58:59.622 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 17:58:59.627 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 17:58:59.632 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:58:59.634 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 17:58:59.636 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 17:58:59.639 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 17:58:59.642 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 17:58:59.646 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 17:58:59.647 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 17:58:59.840 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 17:58:59.843 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 17:58:59.844 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 17:58:59.845 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 17:58:59.845 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 17:58:59.846 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 17:58:59.846 +06:00 [INF] Hosting environment: Development
2024-09-30 17:58:59.847 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 17:58:59.848 +06:00 [DBG] Hosting started
2024-09-30 17:59:00.105 +06:00 [DBG] Connection id "0HN718T2KGAS5" accepted.
2024-09-30 17:59:00.105 +06:00 [DBG] Connection id "0HN718T2KGAS4" accepted.
2024-09-30 17:59:00.108 +06:00 [DBG] Connection id "0HN718T2KGAS5" started.
2024-09-30 17:59:00.108 +06:00 [DBG] Connection id "0HN718T2KGAS4" started.
2024-09-30 17:59:00.129 +06:00 [DBG] Connection id "0HN718T2KGAS5" received FIN.
2024-09-30 17:59:00.129 +06:00 [DBG] Connection id "0HN718T2KGAS4" received FIN.
2024-09-30 17:59:00.135 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:59:00.135 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 17:59:00.152 +06:00 [DBG] Connection id "0HN718T2KGAS5" stopped.
2024-09-30 17:59:00.152 +06:00 [DBG] Connection id "0HN718T2KGAS4" stopped.
2024-09-30 17:59:00.154 +06:00 [DBG] Connection id "0HN718T2KGAS5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:59:00.154 +06:00 [DBG] Connection id "0HN718T2KGAS4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:59:04.005 +06:00 [DBG] Connection id "0HN718T2KGAS6" accepted.
2024-09-30 17:59:04.110 +06:00 [DBG] Connection id "0HN718T2KGAS6" started.
2024-09-30 17:59:04.195 +06:00 [DBG] Connection 0HN718T2KGAS6 established using the following protocol: "Tls12"
2024-09-30 17:59:04.314 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 17:59:04.425 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 17:59:04.446 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 17:59:04.448 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:59:04.553 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 17:59:04.585 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 17:59:04.591 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 284.8156ms
2024-09-30 17:59:04.651 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 17:59:04.652 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 17:59:04.668 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.2761ms
2024-09-30 17:59:04.754 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 101.9629ms
2024-09-30 17:59:04.832 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 17:59:04.834 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 17:59:04.835 +06:00 [DBG] Request did not match any endpoints
2024-09-30 17:59:05.036 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 205.0718ms
2024-09-30 17:59:07.466 +06:00 [DBG] Connection id "0HN718T2KGAS6" received FIN.
2024-09-30 17:59:07.471 +06:00 [DBG] The connection queue processing loop for 0HN718T2KGAS6 completed.
2024-09-30 17:59:07.475 +06:00 [DBG] Connection id "0HN718T2KGAS6" is closed. The last processed stream ID was 7.
2024-09-30 17:59:07.478 +06:00 [DBG] Connection id "0HN718T2KGAS6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:59:07.493 +06:00 [DBG] Connection id "0HN718T2KGAS6" stopped.
2024-09-30 17:59:23.744 +06:00 [DBG] Connection id "0HN718T2KGAS7" accepted.
2024-09-30 17:59:23.747 +06:00 [DBG] Connection id "0HN718T2KGAS7" started.
2024-09-30 17:59:23.753 +06:00 [DBG] Connection 0HN718T2KGAS7 established using the following protocol: "Tls12"
2024-09-30 17:59:23.755 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 17:59:23.766 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 17:59:23.771 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 17:59:23.773 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:59:23.779 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 17:59:23.783 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 17:59:23.784 +06:00 [INF] CORS policy execution successful.
2024-09-30 17:59:23.920 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 17:59:23.932 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:59:23.992 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 17:59:23.996 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 17:59:23.999 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 17:59:24.000 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 17:59:24.001 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 17:59:24.002 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 17:59:24.004 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:59:24.260 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 17:59:24.449 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 17:59:24.467 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:59:24.470 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 17:59:24.472 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 17:59:24.485 +06:00 [DBG] Connection id "0HN718T2KGAS7", Request id "0HN718T2KGAS7:00000001": started reading request body.
2024-09-30 17:59:24.488 +06:00 [DBG] Connection id "0HN718T2KGAS7", Request id "0HN718T2KGAS7:00000001": done reading request body.
2024-09-30 17:59:24.504 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 17:59:24.509 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:59:24.511 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:59:24.513 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 17:59:24.526 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 17:59:25.361 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 17:59:25.364 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 17:59:25.627 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 17:59:25.937 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 17:59:26.094 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 17:59:26.435 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 17:59:26.526 +06:00 [DBG] Creating DbConnection.
2024-09-30 17:59:26.583 +06:00 [DBG] Created DbConnection. (50ms).
2024-09-30 17:59:26.593 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.164 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.169 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:59:27.178 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-30 17:59:27.203 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2024-09-30 17:59:27.220 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:59:27.367 +06:00 [INF] Executed DbCommand (146ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 17:59:27.413 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.432 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 48ms reading results.
2024-09-30 17:59:27.439 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.452 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (13ms).
2024-09-30 17:59:27.655 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 17:59:27.689 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 17:59:27.697 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.699 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.700 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 17:59:27.701 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 17:59:27.701 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 17:59:27.702 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:59:27.710 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 17:59:27.713 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.714 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 17:59:27.715 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.717 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 17:59:27.767 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 17:59:27.777 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 17:59:27.778 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 17:59:27.780 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 17:59:27.783 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 17:59:27.786 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 17:59:27.811 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3802.0517ms
2024-09-30 17:59:27.815 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 17:59:27.829 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4036.1965 ms
2024-09-30 17:59:27.837 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 17:59:27.846 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 17:59:27.850 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-30 17:59:27.860 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4104.3086ms
2024-09-30 17:59:53.708 +06:00 [DBG] Connection id "0HN718T2KGAS7" received FIN.
2024-09-30 17:59:53.712 +06:00 [DBG] Connection id "0HN718T2KGAS7" is closed. The last processed stream ID was 1.
2024-09-30 17:59:53.716 +06:00 [DBG] The connection queue processing loop for 0HN718T2KGAS7 completed.
2024-09-30 17:59:53.718 +06:00 [DBG] Connection id "0HN718T2KGAS7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 17:59:53.723 +06:00 [DBG] Connection id "0HN718T2KGAS7" stopped.
2024-09-30 18:00:12.901 +06:00 [DBG] Connection id "0HN718T2KGAS8" accepted.
2024-09-30 18:00:12.902 +06:00 [DBG] Connection id "0HN718T2KGAS8" started.
2024-09-30 18:00:12.917 +06:00 [DBG] Connection 0HN718T2KGAS8 established using the following protocol: "Tls12"
2024-09-30 18:00:12.922 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 177
2024-09-30 18:00:12.943 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 18:00:12.943 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 18:00:12.944 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 18:00:12.945 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 18:00:12.946 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 18:00:12.947 +06:00 [INF] CORS policy execution successful.
2024-09-30 18:00:13.039 +06:00 [DBG] Successfully validated the token.
2024-09-30 18:00:13.043 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 18:00:13.051 +06:00 [DBG] Authorization was successful.
2024-09-30 18:00:13.055 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 18:00:13.063 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 18:00:13.068 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 18:00:13.070 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 18:00:13.071 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 18:00:13.073 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 18:00:13.073 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 18:00:13.074 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 18:00:13.077 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 18:00:13.078 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 18:00:13.079 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 18:00:13.080 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 18:00:13.089 +06:00 [DBG] Connection id "0HN718T2KGAS8", Request id "0HN718T2KGAS8:00000001": started reading request body.
2024-09-30 18:00:13.090 +06:00 [DBG] Connection id "0HN718T2KGAS8", Request id "0HN718T2KGAS8:00000001": done reading request body.
2024-09-30 18:00:13.096 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 18:00:13.096 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 18:00:13.097 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 18:00:13.098 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 18:00:13.107 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 18:00:28.467 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 18:00:28.472 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 18:00:28.485 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 18:00:28.490 +06:00 [DBG] Creating DbConnection.
2024-09-30 18:00:28.492 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 18:00:28.493 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:00:28.495 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:00:28.496 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 18:00:28.498 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 18:00:28.501 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-30 18:00:28.502 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 18:00:28.530 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 18:00:28.535 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:00:28.536 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 18:00:28.537 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:00:28.538 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 18:00:33.131 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 18:00:33.229 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 18:04:06.456 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 18:04:06.558 +06:00 [DBG] Hosting starting
2024-09-30 18:04:06.597 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 18:04:06.605 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 18:04:06.610 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 18:04:06.611 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 18:04:06.614 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 18:04:06.617 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 18:04:06.618 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 18:04:06.623 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 18:04:06.626 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 18:04:06.629 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 18:04:06.631 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 18:04:06.634 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 18:04:06.638 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 18:04:06.640 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 18:04:06.641 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 18:04:06.809 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 18:04:06.816 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 18:04:06.820 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 18:04:06.822 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 18:04:06.823 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 18:04:06.824 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 18:04:06.826 +06:00 [INF] Hosting environment: Development
2024-09-30 18:04:06.829 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 18:04:06.831 +06:00 [DBG] Hosting started
2024-09-30 18:04:06.913 +06:00 [DBG] Connection id "0HN718VU2EKC7" accepted.
2024-09-30 18:04:06.913 +06:00 [DBG] Connection id "0HN718VU2EKC8" accepted.
2024-09-30 18:04:06.916 +06:00 [DBG] Connection id "0HN718VU2EKC7" started.
2024-09-30 18:04:06.916 +06:00 [DBG] Connection id "0HN718VU2EKC8" started.
2024-09-30 18:04:06.949 +06:00 [DBG] Connection id "0HN718VU2EKC8" received FIN.
2024-09-30 18:04:06.949 +06:00 [DBG] Connection id "0HN718VU2EKC7" received FIN.
2024-09-30 18:04:06.966 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 18:04:06.966 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 18:04:06.997 +06:00 [DBG] Connection id "0HN718VU2EKC8" stopped.
2024-09-30 18:04:06.997 +06:00 [DBG] Connection id "0HN718VU2EKC7" stopped.
2024-09-30 18:04:07.002 +06:00 [DBG] Connection id "0HN718VU2EKC8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:04:07.002 +06:00 [DBG] Connection id "0HN718VU2EKC7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:04:08.347 +06:00 [DBG] Connection id "0HN718VU2EKC9" accepted.
2024-09-30 18:04:08.351 +06:00 [DBG] Connection id "0HN718VU2EKC9" started.
2024-09-30 18:04:08.401 +06:00 [DBG] Connection 0HN718VU2EKC9 established using the following protocol: "Tls12"
2024-09-30 18:04:08.450 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 18:04:08.537 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 18:04:08.559 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 18:04:08.561 +06:00 [DBG] Request did not match any endpoints
2024-09-30 18:04:08.667 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 18:04:08.692 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 18:04:08.700 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 253.4981ms
2024-09-30 18:04:10.329 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 18:04:10.329 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 18:04:10.346 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.72ms
2024-09-30 18:04:10.400 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 71.21ms
2024-09-30 18:04:10.531 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 18:04:10.542 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 18:04:10.564 +06:00 [DBG] Request did not match any endpoints
2024-09-30 18:04:10.998 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 467.691ms
2024-09-30 18:04:12.671 +06:00 [DBG] Connection id "0HN718VU2EKC9" received FIN.
2024-09-30 18:04:12.676 +06:00 [DBG] The connection queue processing loop for 0HN718VU2EKC9 completed.
2024-09-30 18:04:12.679 +06:00 [DBG] Connection id "0HN718VU2EKC9" is closed. The last processed stream ID was 7.
2024-09-30 18:04:12.681 +06:00 [DBG] Connection id "0HN718VU2EKC9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:04:12.687 +06:00 [DBG] Connection id "0HN718VU2EKC9" stopped.
2024-09-30 18:04:56.668 +06:00 [DBG] Connection id "0HN718VU2EKCA" accepted.
2024-09-30 18:04:56.678 +06:00 [DBG] Connection id "0HN718VU2EKCA" started.
2024-09-30 18:04:56.685 +06:00 [DBG] Connection 0HN718VU2EKCA established using the following protocol: "Tls12"
2024-09-30 18:04:56.696 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 18:04:56.708 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 18:04:56.718 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 18:04:56.723 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 18:04:56.728 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 18:04:56.732 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 18:04:56.735 +06:00 [INF] CORS policy execution successful.
2024-09-30 18:04:56.836 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 18:04:56.842 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 18:04:56.886 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 18:04:56.892 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 18:04:56.898 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 18:04:56.901 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 18:04:56.903 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 18:04:56.904 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 18:04:56.907 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 18:04:57.109 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 18:04:57.271 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 18:04:57.289 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 18:04:57.292 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 18:04:57.294 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 18:04:57.306 +06:00 [DBG] Connection id "0HN718VU2EKCA", Request id "0HN718VU2EKCA:00000001": started reading request body.
2024-09-30 18:04:57.308 +06:00 [DBG] Connection id "0HN718VU2EKCA", Request id "0HN718VU2EKCA:00000001": done reading request body.
2024-09-30 18:04:57.322 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 18:04:57.325 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 18:04:57.330 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 18:04:57.332 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 18:04:57.348 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 18:04:58.268 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 18:04:58.270 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 18:04:58.517 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 18:04:58.763 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 18:04:58.876 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 18:04:59.134 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 18:04:59.191 +06:00 [DBG] Creating DbConnection.
2024-09-30 18:04:59.213 +06:00 [DBG] Created DbConnection. (19ms).
2024-09-30 18:04:59.219 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:04:59.675 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:04:59.683 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 18:04:59.689 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-30 18:04:59.707 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-09-30 18:04:59.722 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 18:04:59.849 +06:00 [INF] Executed DbCommand (126ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 18:04:59.874 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:04:59.889 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 25ms reading results.
2024-09-30 18:04:59.899 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:04:59.911 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (12ms).
2024-09-30 18:05:00.104 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 18:05:00.158 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 18:05:00.166 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:05:00.170 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:05:00.174 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 18:05:00.174 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 18:05:00.175 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 18:05:00.176 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 18:05:00.186 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 18:05:00.189 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:05:00.189 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 18:05:00.190 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:05:00.191 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 18:05:00.235 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 18:05:00.239 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 18:05:00.239 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 18:05:00.240 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 18:05:00.241 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 18:05:00.242 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 18:05:00.253 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3344.716ms
2024-09-30 18:05:00.254 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 18:05:00.257 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3517.6797 ms
2024-09-30 18:05:00.261 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 18:05:00.268 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:05:00.271 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-30 18:05:00.276 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3580.0143ms
2024-09-30 18:05:02.732 +06:00 [DBG] Connection id "0HN718VU2EKCA" received FIN.
2024-09-30 18:05:02.737 +06:00 [DBG] Connection id "0HN718VU2EKCA" is closed. The last processed stream ID was 1.
2024-09-30 18:05:02.737 +06:00 [DBG] The connection queue processing loop for 0HN718VU2EKCA completed.
2024-09-30 18:05:02.739 +06:00 [DBG] Connection id "0HN718VU2EKCA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:05:02.762 +06:00 [DBG] Connection id "0HN718VU2EKCA" stopped.
2024-09-30 18:06:27.690 +06:00 [DBG] Connection id "0HN718VU2EKCB" accepted.
2024-09-30 18:06:27.699 +06:00 [DBG] Connection id "0HN718VU2EKCB" started.
2024-09-30 18:06:27.702 +06:00 [DBG] Connection 0HN718VU2EKCB established using the following protocol: "Tls12"
2024-09-30 18:06:27.711 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 175
2024-09-30 18:06:27.720 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 18:06:27.721 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 18:06:27.722 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 18:06:27.723 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 18:06:27.725 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 18:06:27.726 +06:00 [INF] CORS policy execution successful.
2024-09-30 18:06:27.814 +06:00 [DBG] Successfully validated the token.
2024-09-30 18:06:27.817 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 18:06:27.832 +06:00 [DBG] Authorization was successful.
2024-09-30 18:06:27.836 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 18:06:27.847 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 18:06:27.849 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 18:06:27.852 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 18:06:27.854 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 18:06:27.856 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 18:06:27.857 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 18:06:27.858 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 18:06:27.861 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 18:06:27.862 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 18:06:27.863 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 18:06:27.864 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 18:06:27.873 +06:00 [DBG] Connection id "0HN718VU2EKCB", Request id "0HN718VU2EKCB:00000001": started reading request body.
2024-09-30 18:06:27.875 +06:00 [DBG] Connection id "0HN718VU2EKCB", Request id "0HN718VU2EKCB:00000001": done reading request body.
2024-09-30 18:06:27.880 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 18:06:27.881 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 18:06:27.883 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 18:06:27.884 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 18:06:27.893 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 18:06:38.104 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 18:06:38.114 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 18:06:38.139 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 18:06:38.148 +06:00 [DBG] Creating DbConnection.
2024-09-30 18:06:38.151 +06:00 [DBG] Created DbConnection. (2ms).
2024-09-30 18:06:38.154 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:06:38.158 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:06:38.158 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 18:06:38.159 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 18:06:38.160 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 18:06:38.161 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 18:06:38.190 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 18:06:38.193 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:06:38.195 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 18:06:38.197 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:06:38.198 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 18:06:41.502 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 18:06:41.617 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 18:08:26.808 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 18:08:26.842 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 18:08:27.634 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 18:08:27.651 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 18:08:27.676 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 18:08:27.682 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 18:08:27.685 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 18:08:27.689 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 18:08:27.692 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 18:08:27.808 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 18:08:27.814 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:08:27.818 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:08:27.823 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 18:08:27.838 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 18:08:27.845 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 18:08:27.847 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 18:08:27.855 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-30 18:08:27.859 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 18:08:27.894 +06:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 18:08:27.909 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:08:27.911 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-30 18:08:27.918 +06:00 [DBG] Disposing transaction.
2024-09-30 18:08:27.920 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:08:27.922 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 18:08:27.933 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2defe61-456b-4e49-a24d-d27a0963afa6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c2defe61-456b-4e49-a24d-d27a0963afa6
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 18:08:30.926 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 18:08:32.443 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 124584.4573ms
2024-09-30 18:08:32.446 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 18:08:32.518 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 18:08:32.527 +06:00 [ERR] HTTP POST /api/Product/BuyProduct responded 500 in 124799.6152 ms
2024-09-30 18:08:32.531 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 18:08:32.542 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:08:32.544 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 18:08:32.545 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 500 null application/json; charset=utf-8 124834.2305ms
2024-09-30 18:08:33.167 +06:00 [DBG] Connection id "0HN718VU2EKCB" received FIN.
2024-09-30 18:08:33.169 +06:00 [DBG] The connection queue processing loop for 0HN718VU2EKCB completed.
2024-09-30 18:08:33.169 +06:00 [DBG] Connection id "0HN718VU2EKCB" is closed. The last processed stream ID was 1.
2024-09-30 18:08:33.172 +06:00 [DBG] Connection id "0HN718VU2EKCB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:08:33.194 +06:00 [DBG] Connection id "0HN718VU2EKCB" stopped.
2024-09-30 18:58:31.749 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 18:58:31.880 +06:00 [DBG] Hosting starting
2024-09-30 18:58:31.947 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 18:58:31.957 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 18:58:31.980 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 18:58:31.984 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 18:58:31.990 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 18:58:31.997 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 18:58:31.999 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 18:58:32.005 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 18:58:32.010 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 18:58:32.013 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 18:58:32.016 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 18:58:32.021 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 18:58:32.026 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 18:58:32.029 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 18:58:32.031 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 18:58:32.307 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 18:58:32.309 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 18:58:32.310 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 18:58:32.311 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 18:58:32.311 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 18:58:32.312 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 18:58:32.312 +06:00 [INF] Hosting environment: Development
2024-09-30 18:58:32.313 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 18:58:32.314 +06:00 [DBG] Hosting started
2024-09-30 18:58:32.391 +06:00 [DBG] Connection id "0HN719UB8FKLA" received FIN.
2024-09-30 18:58:32.404 +06:00 [DBG] Connection id "0HN719UB8FKLA" accepted.
2024-09-30 18:58:32.408 +06:00 [DBG] Connection id "0HN719UB8FKLA" started.
2024-09-30 18:58:32.429 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 18:58:32.451 +06:00 [DBG] Connection id "0HN719UB8FKLA" stopped.
2024-09-30 18:58:32.454 +06:00 [DBG] Connection id "0HN719UB8FKLA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:58:34.736 +06:00 [DBG] Connection id "0HN719UB8FKLB" accepted.
2024-09-30 18:58:34.738 +06:00 [DBG] Connection id "0HN719UB8FKLB" started.
2024-09-30 18:58:34.807 +06:00 [DBG] Connection 0HN719UB8FKLB established using the following protocol: "Tls12"
2024-09-30 18:58:35.081 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 18:58:35.183 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 18:58:35.204 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 18:58:35.205 +06:00 [DBG] Request did not match any endpoints
2024-09-30 18:58:35.320 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 18:58:35.343 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 18:58:35.347 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 272.0292ms
2024-09-30 18:58:36.211 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 18:58:36.211 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 18:58:36.249 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 38.209ms
2024-09-30 18:58:36.326 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.3069ms
2024-09-30 18:58:36.394 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 18:58:36.397 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 18:58:36.398 +06:00 [DBG] Request did not match any endpoints
2024-09-30 18:58:36.707 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 313.9485ms
2024-09-30 18:58:38.604 +06:00 [DBG] Connection id "0HN719UB8FKLB" received FIN.
2024-09-30 18:58:38.608 +06:00 [DBG] The connection queue processing loop for 0HN719UB8FKLB completed.
2024-09-30 18:58:38.612 +06:00 [DBG] Connection id "0HN719UB8FKLB" is closed. The last processed stream ID was 7.
2024-09-30 18:58:38.613 +06:00 [DBG] Connection id "0HN719UB8FKLB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:58:38.622 +06:00 [DBG] Connection id "0HN719UB8FKLB" stopped.
2024-09-30 18:59:01.482 +06:00 [DBG] Connection id "0HN719UB8FKLC" accepted.
2024-09-30 18:59:01.489 +06:00 [DBG] Connection id "0HN719UB8FKLC" started.
2024-09-30 18:59:01.501 +06:00 [DBG] Connection 0HN719UB8FKLC established using the following protocol: "Tls12"
2024-09-30 18:59:01.507 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 18:59:01.516 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 18:59:01.519 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 18:59:01.521 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 18:59:01.527 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 18:59:01.529 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 18:59:01.530 +06:00 [INF] CORS policy execution successful.
2024-09-30 18:59:01.644 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 18:59:01.653 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 18:59:01.704 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 18:59:01.713 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 18:59:01.717 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 18:59:01.718 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 18:59:01.721 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 18:59:01.722 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 18:59:01.729 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 18:59:02.009 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 18:59:02.216 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 18:59:02.241 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 18:59:02.249 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 18:59:02.258 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 18:59:02.266 +06:00 [DBG] Connection id "0HN719UB8FKLC", Request id "0HN719UB8FKLC:00000001": started reading request body.
2024-09-30 18:59:02.267 +06:00 [DBG] Connection id "0HN719UB8FKLC", Request id "0HN719UB8FKLC:00000001": done reading request body.
2024-09-30 18:59:02.278 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 18:59:02.281 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 18:59:02.282 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 18:59:02.283 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 18:59:02.291 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 18:59:03.164 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 18:59:03.168 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 18:59:03.431 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 18:59:03.718 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 18:59:03.912 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 18:59:04.234 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 18:59:04.306 +06:00 [DBG] Creating DbConnection.
2024-09-30 18:59:04.352 +06:00 [DBG] Created DbConnection. (42ms).
2024-09-30 18:59:04.359 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:05.480 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:05.484 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 18:59:05.493 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-30 18:59:05.515 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (30ms).
2024-09-30 18:59:05.532 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 18:59:05.681 +06:00 [INF] Executed DbCommand (147ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 18:59:05.754 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:05.773 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 72ms reading results.
2024-09-30 18:59:05.783 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:05.800 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (17ms).
2024-09-30 18:59:06.037 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 18:59:06.092 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 18:59:06.102 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:06.109 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:06.112 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 18:59:06.113 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 18:59:06.115 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 18:59:06.116 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 18:59:06.132 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 18:59:06.135 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:06.136 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 18:59:06.138 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:06.140 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-30 18:59:06.248 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 18:59:06.256 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 18:59:06.261 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 18:59:06.263 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 18:59:06.265 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 18:59:06.267 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 18:59:06.284 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4554.3059ms
2024-09-30 18:59:06.287 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 18:59:06.294 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4759.0306 ms
2024-09-30 18:59:06.299 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 18:59:06.303 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 18:59:06.307 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 18:59:06.311 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4804.7089ms
2024-09-30 18:59:08.657 +06:00 [DBG] Connection id "0HN719UB8FKLC" received FIN.
2024-09-30 18:59:08.658 +06:00 [DBG] Connection id "0HN719UB8FKLC" is closed. The last processed stream ID was 1.
2024-09-30 18:59:08.659 +06:00 [DBG] The connection queue processing loop for 0HN719UB8FKLC completed.
2024-09-30 18:59:08.663 +06:00 [DBG] Connection id "0HN719UB8FKLC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 18:59:08.668 +06:00 [DBG] Connection id "0HN719UB8FKLC" stopped.
2024-09-30 19:00:18.859 +06:00 [DBG] Connection id "0HN719UB8FKLD" accepted.
2024-09-30 19:00:18.871 +06:00 [DBG] Connection id "0HN719UB8FKLD" started.
2024-09-30 19:00:18.889 +06:00 [DBG] Connection 0HN719UB8FKLD established using the following protocol: "Tls12"
2024-09-30 19:00:18.896 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 175
2024-09-30 19:00:18.906 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 19:00:18.907 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 19:00:18.908 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:00:18.909 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:00:18.910 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:00:18.911 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:00:18.992 +06:00 [DBG] Successfully validated the token.
2024-09-30 19:00:18.996 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 19:00:19.005 +06:00 [DBG] Authorization was successful.
2024-09-30 19:00:19.008 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:00:19.015 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 19:00:19.016 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:00:19.017 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:00:19.018 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:00:19.019 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:00:19.020 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:00:19.021 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:00:19.023 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:00:19.025 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:00:19.026 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 19:00:19.027 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:00:19.033 +06:00 [DBG] Connection id "0HN719UB8FKLD", Request id "0HN719UB8FKLD:00000001": started reading request body.
2024-09-30 19:00:19.034 +06:00 [DBG] Connection id "0HN719UB8FKLD", Request id "0HN719UB8FKLD:00000001": done reading request body.
2024-09-30 19:00:19.038 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 19:00:19.039 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:00:19.039 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:00:19.040 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:00:19.045 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:00:32.706 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:00:32.712 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 19:00:32.721 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 19:00:32.725 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:00:32.725 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-30 19:00:32.726 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:00:32.727 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:00:32.729 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:00:32.730 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:00:32.730 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:00:32.731 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:00:32.750 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:00:32.752 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:00:32.753 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 19:00:32.753 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:00:32.754 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:00:40.796 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:00:40.907 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:02:18.254 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:02:18.294 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:02:20.093 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 19:02:20.106 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:02:20.162 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:02:20.169 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:02:20.172 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:02:20.176 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:02:20.178 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:02:20.279 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-30 19:02:20.285 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:02:20.287 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:02:20.290 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-30 19:02:20.298 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-30 19:02:20.304 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:02:20.305 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:02:20.311 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-30 19:02:20.313 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 19:02:20.350 +06:00 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-30 19:02:20.365 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:02:20.368 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-09-30 19:02:20.373 +06:00 [DBG] Disposing transaction.
2024-09-30 19:02:20.376 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:02:20.378 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 19:02:20.391 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e4919b6d-0bf6-4622-986f-06f751c32a0c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:e4919b6d-0bf6-4622-986f-06f751c32a0c
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 19:15:41.426 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 19:15:41.573 +06:00 [DBG] Hosting starting
2024-09-30 19:15:41.624 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 19:15:41.640 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 19:15:41.653 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 19:15:41.654 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 19:15:41.664 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 19:15:41.669 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 19:15:41.670 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 19:15:41.675 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 19:15:41.679 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 19:15:41.682 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 19:15:41.684 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 19:15:41.687 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 19:15:41.691 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 19:15:41.696 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 19:15:41.698 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 19:15:41.955 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 19:15:41.957 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 19:15:41.962 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 19:15:41.962 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 19:15:41.963 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 19:15:41.964 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 19:15:41.964 +06:00 [INF] Hosting environment: Development
2024-09-30 19:15:41.965 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 19:15:41.965 +06:00 [DBG] Hosting started
2024-09-30 19:15:42.131 +06:00 [DBG] Connection id "0HN71A7U4R5BN" received FIN.
2024-09-30 19:15:42.137 +06:00 [DBG] Connection id "0HN71A7U4R5BN" accepted.
2024-09-30 19:15:42.139 +06:00 [DBG] Connection id "0HN71A7U4R5BN" started.
2024-09-30 19:15:42.162 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 19:15:42.191 +06:00 [DBG] Connection id "0HN71A7U4R5BN" stopped.
2024-09-30 19:15:42.196 +06:00 [DBG] Connection id "0HN71A7U4R5BN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:15:43.739 +06:00 [DBG] Connection id "0HN71A7U4R5BO" accepted.
2024-09-30 19:15:43.740 +06:00 [DBG] Connection id "0HN71A7U4R5BO" started.
2024-09-30 19:15:43.781 +06:00 [DBG] Connection 0HN71A7U4R5BO established using the following protocol: "Tls12"
2024-09-30 19:15:43.832 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 19:15:43.940 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 19:15:43.963 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 19:15:43.965 +06:00 [DBG] Request did not match any endpoints
2024-09-30 19:15:44.069 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 19:15:44.101 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 19:15:44.108 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 280.2789ms
2024-09-30 19:15:47.373 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 19:15:47.373 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 19:15:47.410 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 37.5832ms
2024-09-30 19:15:47.463 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.3583ms
2024-09-30 19:15:47.515 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 19:15:47.519 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 19:15:47.521 +06:00 [DBG] Request did not match any endpoints
2024-09-30 19:15:47.892 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 375.9695ms
2024-09-30 19:15:48.112 +06:00 [DBG] Connection id "0HN71A7U4R5BO" received FIN.
2024-09-30 19:15:48.203 +06:00 [DBG] The connection queue processing loop for 0HN71A7U4R5BO completed.
2024-09-30 19:15:48.204 +06:00 [DBG] Connection id "0HN71A7U4R5BO" is closed. The last processed stream ID was 7.
2024-09-30 19:15:48.208 +06:00 [DBG] Connection id "0HN71A7U4R5BO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:15:48.221 +06:00 [DBG] Connection id "0HN71A7U4R5BO" stopped.
2024-09-30 19:16:12.430 +06:00 [DBG] Connection id "0HN71A7U4R5BP" accepted.
2024-09-30 19:16:12.433 +06:00 [DBG] Connection id "0HN71A7U4R5BP" started.
2024-09-30 19:16:12.453 +06:00 [DBG] Connection 0HN71A7U4R5BP established using the following protocol: "Tls12"
2024-09-30 19:16:12.461 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 19:16:12.469 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 19:16:12.478 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 19:16:12.481 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:16:12.486 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:16:12.492 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:16:12.493 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:16:12.588 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 19:16:12.594 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:16:12.657 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 19:16:12.661 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:16:12.662 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:16:12.663 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:16:12.664 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:16:12.665 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:16:12.667 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:16:12.904 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 19:16:13.122 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:16:13.162 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:16:13.169 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 19:16:13.265 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:16:13.318 +06:00 [DBG] Connection id "0HN71A7U4R5BP", Request id "0HN71A7U4R5BP:00000001": started reading request body.
2024-09-30 19:16:13.320 +06:00 [DBG] Connection id "0HN71A7U4R5BP", Request id "0HN71A7U4R5BP:00000001": done reading request body.
2024-09-30 19:16:13.336 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 19:16:13.340 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:16:13.343 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:16:13.345 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:16:13.360 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:16:14.272 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 19:16:14.277 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 19:16:14.561 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 19:16:14.825 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:16:14.984 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 19:16:15.267 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 19:16:15.316 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:16:15.353 +06:00 [DBG] Created DbConnection. (33ms).
2024-09-30 19:16:15.360 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.220 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.227 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:16:16.233 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-30 19:16:16.246 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-30 19:16:16.258 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:16:16.380 +06:00 [INF] Executed DbCommand (126ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:16:16.411 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.419 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-09-30 19:16:16.427 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.435 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-30 19:16:16.678 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 19:16:16.812 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 19:16:16.830 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.833 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.837 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:16:16.844 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-30 19:16:16.848 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-09-30 19:16:16.850 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:16:16.879 +06:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:16:16.886 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.888 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-30 19:16:16.894 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:16.897 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-30 19:16:17.025 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 19:16:17.034 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 19:16:17.035 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 19:16:17.037 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 19:16:17.045 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 19:16:17.048 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 19:16:17.078 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4402.9004ms
2024-09-30 19:16:17.081 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:16:17.087 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4588.2925 ms
2024-09-30 19:16:17.099 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 19:16:17.107 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:16:17.111 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-30 19:16:17.117 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4656.6324ms
2024-09-30 19:16:18.121 +06:00 [DBG] Connection id "0HN71A7U4R5BP" received FIN.
2024-09-30 19:16:18.123 +06:00 [DBG] Connection id "0HN71A7U4R5BP" is closed. The last processed stream ID was 1.
2024-09-30 19:16:18.123 +06:00 [DBG] The connection queue processing loop for 0HN71A7U4R5BP completed.
2024-09-30 19:16:18.124 +06:00 [DBG] Connection id "0HN71A7U4R5BP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:16:18.136 +06:00 [DBG] Connection id "0HN71A7U4R5BP" stopped.
2024-09-30 19:17:25.727 +06:00 [DBG] Connection id "0HN71A7U4R5BQ" accepted.
2024-09-30 19:17:25.729 +06:00 [DBG] Connection id "0HN71A7U4R5BQ" started.
2024-09-30 19:17:25.769 +06:00 [DBG] Connection 0HN71A7U4R5BQ established using the following protocol: "Tls12"
2024-09-30 19:17:25.774 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 178
2024-09-30 19:17:25.788 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 19:17:25.789 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 19:17:25.790 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:17:25.791 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:17:25.792 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:17:25.793 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:17:25.890 +06:00 [DBG] Successfully validated the token.
2024-09-30 19:17:25.894 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 19:17:25.908 +06:00 [DBG] Authorization was successful.
2024-09-30 19:17:25.911 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:17:25.922 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 19:17:25.927 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:17:25.930 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:17:25.934 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:17:25.935 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:17:25.936 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:17:25.937 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:17:25.939 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:17:25.940 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:17:25.940 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 19:17:25.941 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:17:25.946 +06:00 [DBG] Connection id "0HN71A7U4R5BQ", Request id "0HN71A7U4R5BQ:00000001": started reading request body.
2024-09-30 19:17:25.947 +06:00 [DBG] Connection id "0HN71A7U4R5BQ", Request id "0HN71A7U4R5BQ:00000001": done reading request body.
2024-09-30 19:17:25.953 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 19:17:25.954 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:17:25.955 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:17:25.956 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:17:25.961 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:17:47.803 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:17:47.809 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 19:17:47.823 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 19:17:47.831 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:17:47.833 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 19:17:47.833 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:47.834 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:47.835 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:17:47.835 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:17:47.836 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:17:47.837 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:17:47.895 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:17:47.903 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:47.904 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 19:17:47.905 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:47.907 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 19:17:55.738 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:17:55.825 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:17:56.853 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 19:17:56.865 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:17:56.890 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:17:56.901 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:17:56.912 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:17:56.917 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:17:57.046 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:57.048 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:57.051 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:17:57.051 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:17:57.053 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:17:57.054 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-30 19:17:57.096 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-30 19:17:57.108 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:57.110 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-30 19:17:57.116 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:17:57.118 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 19:17:57.131 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:51e0ff6c-490c-47ba-ad2b-cde1d57373c1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:51e0ff6c-490c-47ba-ad2b-cde1d57373c1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 19:18:34.314 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 19:18:34.695 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 68758.7351ms
2024-09-30 19:18:34.699 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:18:34.792 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 19:18:34.799 +06:00 [ERR] HTTP POST /api/Product/BuyProduct responded 500 in 69006.2307 ms
2024-09-30 19:18:34.812 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 19:18:34.814 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:34.816 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 19:18:34.818 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 500 null application/json; charset=utf-8 69043.8103ms
2024-09-30 19:18:41.937 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 178
2024-09-30 19:18:41.941 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 19:18:41.944 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 19:18:41.946 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:18:41.946 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:18:41.948 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:18:41.950 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:18:48.860 +06:00 [DBG] Successfully validated the token.
2024-09-30 19:18:48.860 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 19:18:48.864 +06:00 [DBG] Authorization was successful.
2024-09-30 19:18:48.865 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:18:48.866 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 19:18:48.869 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:18:48.871 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:18:48.872 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:18:48.873 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:18:48.874 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:18:48.875 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:18:48.878 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:18:48.879 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:18:48.880 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 19:18:48.882 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:18:48.883 +06:00 [DBG] Connection id "0HN71A7U4R5BQ", Request id "0HN71A7U4R5BQ:00000003": started reading request body.
2024-09-30 19:18:48.885 +06:00 [DBG] Connection id "0HN71A7U4R5BQ", Request id "0HN71A7U4R5BQ:00000003": done reading request body.
2024-09-30 19:18:48.887 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 19:18:48.889 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:18:48.891 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:18:48.892 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:18:48.896 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:18:49.930 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:18:49.942 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:18:49.945 +06:00 [DBG] Created DbConnection. (2ms).
2024-09-30 19:18:49.947 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:49.951 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:49.953 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:18:49.953 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:18:49.954 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:18:49.955 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:18:49.960 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:18:49.978 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:49.978 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 19:18:49.979 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:49.980 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:18:49.982 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:18:49.983 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:18:49.986 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 19:18:49.987 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:18:49.988 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:18:49.990 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:18:49.991 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:18:49.991 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:18:49.993 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:49.994 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:49.995 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:18:49.996 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:18:49.997 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:18:49.998 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-30 19:18:50.006 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-30 19:18:50.009 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:50.010 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-30 19:18:50.011 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:50.012 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:18:50.014 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:51e0ff6c-490c-47ba-ad2b-cde1d57373c1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'UserId', table 'Stocks.dbo.Products'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:51e0ff6c-490c-47ba-ad2b-cde1d57373c1
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-30 19:18:50.092 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 19:18:50.210 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 1335.373ms
2024-09-30 19:18:50.213 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:18:50.269 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-09-30 19:18:50.272 +06:00 [ERR] HTTP POST /api/Product/BuyProduct responded 500 in 8321.5808 ms
2024-09-30 19:18:50.276 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 19:18:50.277 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:18:50.279 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 19:18:50.282 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 500 null application/json; charset=utf-8 8345.0857ms
2024-09-30 19:18:58.571 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 19:18:58.574 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 19:18:58.576 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 19:18:58.577 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:18:58.578 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:18:58.579 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:18:58.580 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:19:09.306 +06:00 [DBG] Successfully validated the token.
2024-09-30 19:19:09.307 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 19:19:09.309 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:19:09.310 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 19:19:09.313 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:19:09.314 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:19:09.317 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:19:09.319 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:19:09.319 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:19:09.321 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:19:09.325 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:19:09.326 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:19:09.327 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 19:19:09.328 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:19:09.329 +06:00 [DBG] Connection id "0HN71A7U4R5BQ", Request id "0HN71A7U4R5BQ:00000005": started reading request body.
2024-09-30 19:19:09.329 +06:00 [DBG] Connection id "0HN71A7U4R5BQ", Request id "0HN71A7U4R5BQ:00000005": done reading request body.
2024-09-30 19:19:09.330 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 19:19:09.331 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:19:09.333 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:19:09.334 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:19:09.335 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:19:09.337 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:19:09.340 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:19:09.341 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-30 19:19:09.343 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.344 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.345 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:19:09.346 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:19:09.347 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:19:09.349 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:19:09.377 +06:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:19:09.380 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.381 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 19:19:09.384 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.384 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:19:09.523 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.529 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.531 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:19:09.533 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-30 19:19:09.534 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-30 19:19:09.535 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:19:09.540 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:19:09.542 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.542 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-30 19:19:09.543 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:09.544 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:19:09.545 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 19:19:09.547 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 19:19:09.548 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 19:19:09.550 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 19:19:09.551 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 19:19:09.552 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 19:19:09.553 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 231.9959ms
2024-09-30 19:19:09.554 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:19:10.175 +06:00 [INF] HTTP POST /api/User/login responded 200 in 11594.6761 ms
2024-09-30 19:19:12.014 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 19:19:12.016 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:12.018 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 19:19:14.325 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 15754.3718ms
2024-09-30 19:19:18.843 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 19:19:18.847 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 19:19:18.848 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 19:19:18.851 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:19:18.852 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:19:18.854 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:19:18.855 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:19:36.956 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 19:19:37.088 +06:00 [DBG] Hosting starting
2024-09-30 19:19:37.129 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 19:19:37.137 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 19:19:37.143 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 19:19:37.147 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 19:19:37.153 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 19:19:37.156 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 19:19:37.157 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 19:19:37.162 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 19:19:37.167 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 19:19:37.171 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 19:19:37.175 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 19:19:37.180 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 19:19:37.185 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 19:19:37.190 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 19:19:37.192 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 19:19:37.408 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 19:19:37.408 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 19:19:37.409 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 19:19:37.410 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 19:19:37.410 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 19:19:37.411 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 19:19:37.412 +06:00 [INF] Hosting environment: Development
2024-09-30 19:19:37.413 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 19:19:37.415 +06:00 [DBG] Hosting started
2024-09-30 19:19:37.649 +06:00 [DBG] Connection id "0HN71AA4ATKAM" received FIN.
2024-09-30 19:19:37.649 +06:00 [DBG] Connection id "0HN71AA4ATKAN" received FIN.
2024-09-30 19:19:37.662 +06:00 [DBG] Connection id "0HN71AA4ATKAM" accepted.
2024-09-30 19:19:37.662 +06:00 [DBG] Connection id "0HN71AA4ATKAN" accepted.
2024-09-30 19:19:37.664 +06:00 [DBG] Connection id "0HN71AA4ATKAM" started.
2024-09-30 19:19:37.664 +06:00 [DBG] Connection id "0HN71AA4ATKAN" started.
2024-09-30 19:19:37.678 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 19:19:37.678 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 19:19:37.695 +06:00 [DBG] Connection id "0HN71AA4ATKAM" stopped.
2024-09-30 19:19:37.695 +06:00 [DBG] Connection id "0HN71AA4ATKAN" stopped.
2024-09-30 19:19:37.697 +06:00 [DBG] Connection id "0HN71AA4ATKAM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:19:37.697 +06:00 [DBG] Connection id "0HN71AA4ATKAN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:19:41.790 +06:00 [DBG] Connection id "0HN71AA4ATKAO" accepted.
2024-09-30 19:19:41.804 +06:00 [DBG] Connection id "0HN71AA4ATKAO" started.
2024-09-30 19:19:41.926 +06:00 [DBG] Connection 0HN71AA4ATKAO established using the following protocol: "Tls12"
2024-09-30 19:19:42.020 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 19:19:42.179 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 19:19:42.214 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 19:19:42.216 +06:00 [DBG] Request did not match any endpoints
2024-09-30 19:19:42.393 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 19:19:42.420 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 19:19:42.427 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 422.2972ms
2024-09-30 19:19:42.489 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 19:19:42.489 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 19:19:42.524 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 29.7621ms
2024-09-30 19:19:42.582 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 93.7633ms
2024-09-30 19:19:42.634 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 19:19:42.636 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 19:19:42.637 +06:00 [DBG] Request did not match any endpoints
2024-09-30 19:19:42.892 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 259.1379ms
2024-09-30 19:19:44.942 +06:00 [DBG] Connection id "0HN71AA4ATKAO" received FIN.
2024-09-30 19:19:44.949 +06:00 [DBG] The connection queue processing loop for 0HN71AA4ATKAO completed.
2024-09-30 19:19:44.953 +06:00 [DBG] Connection id "0HN71AA4ATKAO" is closed. The last processed stream ID was 7.
2024-09-30 19:19:44.955 +06:00 [DBG] Connection id "0HN71AA4ATKAO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:19:44.964 +06:00 [DBG] Connection id "0HN71AA4ATKAO" stopped.
2024-09-30 19:19:54.232 +06:00 [DBG] Connection id "0HN71AA4ATKAP" accepted.
2024-09-30 19:19:54.234 +06:00 [DBG] Connection id "0HN71AA4ATKAP" started.
2024-09-30 19:19:54.239 +06:00 [DBG] Connection 0HN71AA4ATKAP established using the following protocol: "Tls12"
2024-09-30 19:19:54.246 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 19:19:54.253 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 19:19:54.256 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 19:19:54.258 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:19:54.265 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:19:54.267 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:19:54.268 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:19:54.355 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 19:19:54.364 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:19:54.402 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 19:19:54.412 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:19:54.413 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:19:54.414 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:19:54.415 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:19:54.416 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:19:54.418 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:19:54.631 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 19:19:54.889 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:19:54.918 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:19:54.932 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 19:19:54.939 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:19:54.957 +06:00 [DBG] Connection id "0HN71AA4ATKAP", Request id "0HN71AA4ATKAP:00000001": started reading request body.
2024-09-30 19:19:54.962 +06:00 [DBG] Connection id "0HN71AA4ATKAP", Request id "0HN71AA4ATKAP:00000001": done reading request body.
2024-09-30 19:19:54.986 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 19:19:54.988 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:19:54.991 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:19:54.995 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:19:55.007 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:19:55.824 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 19:19:55.832 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 19:19:56.113 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 19:19:56.422 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:19:56.577 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 19:19:56.914 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 19:19:56.980 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:19:57.006 +06:00 [DBG] Created DbConnection. (23ms).
2024-09-30 19:19:57.012 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.411 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.416 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:19:57.421 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-30 19:19:57.433 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-09-30 19:19:57.444 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:19:57.522 +06:00 [INF] Executed DbCommand (81ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:19:57.555 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.569 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 33ms reading results.
2024-09-30 19:19:57.576 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.587 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (11ms).
2024-09-30 19:19:57.810 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 19:19:57.864 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 19:19:57.875 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.878 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.879 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:19:57.880 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:19:57.881 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:19:57.882 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:19:57.895 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:19:57.898 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.899 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 19:19:57.900 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:57.900 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:19:57.945 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 19:19:57.953 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 19:19:57.954 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 19:19:57.955 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 19:19:57.956 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 19:19:57.957 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 19:19:57.977 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3553.1692ms
2024-09-30 19:19:57.980 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:19:57.984 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3713.0187 ms
2024-09-30 19:19:57.990 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 19:19:57.995 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:19:58.002 +06:00 [DBG] Disposed connection to database '' on server '' (7ms).
2024-09-30 19:19:58.006 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3760.2938ms
2024-09-30 19:20:36.570 +06:00 [DBG] Connection id "0HN71AA4ATKAP" received FIN.
2024-09-30 19:20:36.572 +06:00 [DBG] Connection id "0HN71AA4ATKAP" is closed. The last processed stream ID was 1.
2024-09-30 19:20:36.572 +06:00 [DBG] The connection queue processing loop for 0HN71AA4ATKAP completed.
2024-09-30 19:20:36.574 +06:00 [DBG] Connection id "0HN71AA4ATKAP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:20:36.583 +06:00 [DBG] Connection id "0HN71AA4ATKAP" stopped.
2024-09-30 19:20:52.492 +06:00 [DBG] Connection id "0HN71AA4ATKAQ" accepted.
2024-09-30 19:20:52.494 +06:00 [DBG] Connection id "0HN71AA4ATKAQ" started.
2024-09-30 19:20:52.497 +06:00 [DBG] Connection 0HN71AA4ATKAQ established using the following protocol: "Tls12"
2024-09-30 19:20:52.500 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 177
2024-09-30 19:20:52.509 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 19:20:52.512 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 19:20:52.518 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:20:52.522 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:20:52.525 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:20:52.526 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:20:52.614 +06:00 [DBG] Successfully validated the token.
2024-09-30 19:20:52.620 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 19:20:52.631 +06:00 [DBG] Authorization was successful.
2024-09-30 19:20:52.632 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:20:52.641 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 19:20:52.646 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:20:52.652 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:20:52.656 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:20:52.660 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:20:52.662 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:20:52.664 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:20:52.667 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:20:52.671 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:20:52.672 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 19:20:52.673 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:20:52.677 +06:00 [DBG] Connection id "0HN71AA4ATKAQ", Request id "0HN71AA4ATKAQ:00000001": started reading request body.
2024-09-30 19:20:52.679 +06:00 [DBG] Connection id "0HN71AA4ATKAQ", Request id "0HN71AA4ATKAQ:00000001": done reading request body.
2024-09-30 19:20:52.685 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 19:20:52.688 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:20:52.689 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:20:52.689 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:20:52.696 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:21:02.779 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:21:02.784 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 19:21:02.793 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 19:21:02.799 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:21:02.801 +06:00 [DBG] Created DbConnection. (2ms).
2024-09-30 19:21:02.803 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:21:02.804 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:21:02.806 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:21:02.807 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:21:02.808 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 19:21:02.810 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:21:02.831 +06:00 [INF] Executed DbCommand (21ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:21:02.836 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:21:02.838 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 19:21:02.840 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:21:02.841 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 19:21:08.364 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:21:08.437 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:22:40.822 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 19:22:40.957 +06:00 [DBG] Hosting starting
2024-09-30 19:22:40.997 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 19:22:41.012 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 19:22:41.017 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 19:22:41.019 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 19:22:41.024 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 19:22:41.030 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 19:22:41.031 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 19:22:41.036 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 19:22:41.048 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 19:22:41.053 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 19:22:41.058 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 19:22:41.063 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 19:22:41.068 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 19:22:41.074 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 19:22:41.077 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 19:22:41.279 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 19:22:41.281 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 19:22:41.282 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 19:22:41.283 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 19:22:41.283 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 19:22:41.284 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 19:22:41.285 +06:00 [INF] Hosting environment: Development
2024-09-30 19:22:41.286 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 19:22:41.286 +06:00 [DBG] Hosting started
2024-09-30 19:22:41.593 +06:00 [DBG] Connection id "0HN71ABR54NNA" received FIN.
2024-09-30 19:22:41.593 +06:00 [DBG] Connection id "0HN71ABR54NN9" received FIN.
2024-09-30 19:22:41.599 +06:00 [DBG] Connection id "0HN71ABR54NN9" accepted.
2024-09-30 19:22:41.599 +06:00 [DBG] Connection id "0HN71ABR54NNA" accepted.
2024-09-30 19:22:41.601 +06:00 [DBG] Connection id "0HN71ABR54NN9" started.
2024-09-30 19:22:41.601 +06:00 [DBG] Connection id "0HN71ABR54NNA" started.
2024-09-30 19:22:41.614 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 19:22:41.614 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 19:22:41.631 +06:00 [DBG] Connection id "0HN71ABR54NNA" stopped.
2024-09-30 19:22:41.631 +06:00 [DBG] Connection id "0HN71ABR54NN9" stopped.
2024-09-30 19:22:41.634 +06:00 [DBG] Connection id "0HN71ABR54NNA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:22:41.634 +06:00 [DBG] Connection id "0HN71ABR54NN9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:22:44.658 +06:00 [DBG] Connection id "0HN71ABR54NNB" accepted.
2024-09-30 19:22:44.666 +06:00 [DBG] Connection id "0HN71ABR54NNB" started.
2024-09-30 19:22:44.784 +06:00 [DBG] Connection 0HN71ABR54NNB established using the following protocol: "Tls12"
2024-09-30 19:22:44.918 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 19:22:45.072 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 19:22:45.100 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 19:22:45.101 +06:00 [DBG] Request did not match any endpoints
2024-09-30 19:22:45.293 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 19:22:45.327 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 19:22:45.333 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 424.5921ms
2024-09-30 19:22:45.402 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 19:22:45.402 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 19:22:45.418 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 16.0839ms
2024-09-30 19:22:45.507 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.4541ms
2024-09-30 19:22:45.560 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 19:22:45.564 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 19:22:45.565 +06:00 [DBG] Request did not match any endpoints
2024-09-30 19:22:45.808 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 247.9661ms
2024-09-30 19:22:48.021 +06:00 [DBG] Connection id "0HN71ABR54NNB" received FIN.
2024-09-30 19:22:48.028 +06:00 [DBG] The connection queue processing loop for 0HN71ABR54NNB completed.
2024-09-30 19:22:48.031 +06:00 [DBG] Connection id "0HN71ABR54NNB" is closed. The last processed stream ID was 7.
2024-09-30 19:22:48.032 +06:00 [DBG] Connection id "0HN71ABR54NNB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:22:48.037 +06:00 [DBG] Connection id "0HN71ABR54NNB" stopped.
2024-09-30 19:22:56.984 +06:00 [DBG] Connection id "0HN71ABR54NNC" accepted.
2024-09-30 19:22:56.986 +06:00 [DBG] Connection id "0HN71ABR54NNC" started.
2024-09-30 19:22:56.991 +06:00 [DBG] Connection 0HN71ABR54NNC established using the following protocol: "Tls12"
2024-09-30 19:22:56.996 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-30 19:22:57.008 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 19:22:57.012 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 19:22:57.015 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:22:57.019 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:22:57.024 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:22:57.027 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:22:57.138 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-30 19:22:57.145 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:22:57.175 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 19:22:57.182 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:22:57.183 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:22:57.184 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:22:57.188 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:22:57.189 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:22:57.191 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:22:57.380 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 19:22:57.594 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 19:22:57.616 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:22:57.622 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 19:22:57.625 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:22:57.635 +06:00 [DBG] Connection id "0HN71ABR54NNC", Request id "0HN71ABR54NNC:00000001": started reading request body.
2024-09-30 19:22:57.639 +06:00 [DBG] Connection id "0HN71ABR54NNC", Request id "0HN71ABR54NNC:00000001": done reading request body.
2024-09-30 19:22:57.650 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 19:22:57.653 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:22:57.656 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:22:57.658 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 19:22:57.665 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 19:22:58.498 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 19:22:58.503 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 19:22:58.789 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 19:22:59.185 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:22:59.392 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 19:22:59.694 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 19:22:59.763 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:22:59.824 +06:00 [DBG] Created DbConnection. (58ms).
2024-09-30 19:22:59.838 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:00.850 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:00.856 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:23:00.862 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-30 19:23:00.874 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-09-30 19:23:00.884 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:23:00.994 +06:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 19:23:01.051 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:01.062 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 58ms reading results.
2024-09-30 19:23:01.067 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:01.078 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (10ms).
2024-09-30 19:23:01.285 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-30 19:23:01.341 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-30 19:23:01.345 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:01.346 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:01.347 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:23:01.348 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:23:01.349 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:23:01.353 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:23:01.367 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-30 19:23:01.372 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:01.373 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 19:23:01.374 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:01.375 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:23:01.450 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 19:23:01.460 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 19:23:01.461 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 19:23:01.464 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 19:23:01.465 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 19:23:01.467 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-30 19:23:01.480 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4287.4265ms
2024-09-30 19:23:01.483 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 19:23:01.489 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4457.0985 ms
2024-09-30 19:23:01.495 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 19:23:01.499 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:23:01.503 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 19:23:01.507 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4511.0659ms
2024-09-30 19:23:09.351 +06:00 [DBG] Connection id "0HN71ABR54NNC" received FIN.
2024-09-30 19:23:09.355 +06:00 [DBG] Connection id "0HN71ABR54NNC" is closed. The last processed stream ID was 1.
2024-09-30 19:23:09.355 +06:00 [DBG] The connection queue processing loop for 0HN71ABR54NNC completed.
2024-09-30 19:23:09.357 +06:00 [DBG] Connection id "0HN71ABR54NNC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:23:09.384 +06:00 [DBG] Connection id "0HN71ABR54NNC" stopped.
2024-09-30 19:25:10.236 +06:00 [DBG] Connection id "0HN71ABR54NND" accepted.
2024-09-30 19:25:10.252 +06:00 [DBG] Connection id "0HN71ABR54NND" started.
2024-09-30 19:25:10.260 +06:00 [DBG] Connection 0HN71ABR54NND established using the following protocol: "Tls12"
2024-09-30 19:25:10.265 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 178
2024-09-30 19:25:10.274 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-09-30 19:25:10.275 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-09-30 19:25:10.276 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:25:10.277 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 19:25:10.278 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-30 19:25:10.279 +06:00 [INF] CORS policy execution successful.
2024-09-30 19:25:10.344 +06:00 [DBG] Successfully validated the token.
2024-09-30 19:25:10.346 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-30 19:25:10.356 +06:00 [DBG] Authorization was successful.
2024-09-30 19:25:10.357 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:25:10.363 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-09-30 19:25:10.364 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 19:25:10.366 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 19:25:10.367 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 19:25:10.371 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 19:25:10.372 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 19:25:10.373 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:25:10.376 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-09-30 19:25:10.377 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:25:10.379 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-09-30 19:25:10.380 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 19:25:10.388 +06:00 [DBG] Connection id "0HN71ABR54NND", Request id "0HN71ABR54NND:00000001": started reading request body.
2024-09-30 19:25:10.389 +06:00 [DBG] Connection id "0HN71ABR54NND", Request id "0HN71ABR54NND:00000001": done reading request body.
2024-09-30 19:25:10.394 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-09-30 19:25:10.395 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:25:10.396 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:25:10.397 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-09-30 19:25:10.404 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-09-30 19:25:21.515 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 19:25:21.521 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-09-30 19:25:21.536 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 19:25:21.540 +06:00 [DBG] Creating DbConnection.
2024-09-30 19:25:21.543 +06:00 [DBG] Created DbConnection. (2ms).
2024-09-30 19:25:21.545 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:21.548 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:21.550 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:25:21.551 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:25:21.552 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-30 19:25:21.553 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:25:21.582 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-09-30 19:25:21.587 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:21.589 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-30 19:25:21.591 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:21.592 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:25:28.814 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:25:28.900 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:25:42.983 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 19:25:42.990 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:25:43.021 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:25:43.028 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:25:43.033 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:25:43.036 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:25:43.142 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:43.144 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:43.148 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:25:43.150 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-30 19:25:43.152 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-30 19:25:43.155 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-30 19:25:43.195 +06:00 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-09-30 19:25:43.207 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:25:43.213 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:43.215 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-09-30 19:25:43.217 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:43.217 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-30 19:25:43.228 +06:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:25:43.234 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 19:25:56.418 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:25:56.451 +06:00 [DBG] The navigation 'Transactions.Products' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:25:56.467 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:25:57.705 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-30 19:25:57.707 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:25:57.721 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:25:57.722 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-30 19:25:57.724 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:25:57.727 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-30 19:25:57.733 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:57.734 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:57.736 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 19:25:57.736 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-30 19:25:57.740 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-30 19:25:57.741 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-09-30 19:25:57.766 +06:00 [INF] Executed DbCommand (23ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = Double), @p4='?' (DbType = Double), @p5='?' (DbType = Int32), @p6='?' (DbType = DateTime2), @p7='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
2024-09-30 19:25:57.773 +06:00 [DBG] The foreign key property 'Transactions.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-30 19:25:57.775 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:57.776 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-30 19:25:57.777 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:25:57.779 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-30 19:25:57.783 +06:00 [DBG] An entity of type 'Transactions' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-30 19:25:57.784 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-30 19:26:10.337 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 19:26:10.339 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 19:26:10.339 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 19:26:10.340 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 19:26:10.341 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-30 19:26:10.344 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-09-30 19:26:10.349 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 59975.5192ms
2024-09-30 19:26:10.351 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-09-30 19:26:12.610 +06:00 [INF] HTTP POST /api/Product/BuyProduct responded 200 in 62330.6463 ms
2024-09-30 19:26:14.284 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 19:26:14.286 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 19:26:14.287 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-30 19:26:14.848 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 200 null application/json; charset=utf-8 64583.6318ms
2024-09-30 19:26:19.641 +06:00 [DBG] Connection id "0HN71ABR54NND" received FIN.
2024-09-30 19:26:19.643 +06:00 [DBG] Connection id "0HN71ABR54NND" is closed. The last processed stream ID was 1.
2024-09-30 19:26:19.643 +06:00 [DBG] The connection queue processing loop for 0HN71ABR54NND completed.
2024-09-30 19:26:19.646 +06:00 [DBG] Connection id "0HN71ABR54NND" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 19:26:19.660 +06:00 [DBG] Connection id "0HN71ABR54NND" stopped.
2024-09-30 20:13:14.827 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 20:13:14.919 +06:00 [DBG] Hosting starting
2024-09-30 20:13:14.944 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 20:13:14.953 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 20:13:14.964 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 20:13:14.967 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 20:13:14.972 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 20:13:14.976 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 20:13:14.977 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 20:13:14.981 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 20:13:14.984 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 20:13:14.986 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 20:13:14.988 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 20:13:14.991 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 20:13:14.994 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 20:13:14.996 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 20:13:14.997 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 20:13:15.125 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 20:13:15.127 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 20:13:15.128 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 20:13:15.129 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 20:13:15.129 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 20:13:15.131 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 20:13:15.131 +06:00 [INF] Hosting environment: Development
2024-09-30 20:13:15.134 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 20:13:15.135 +06:00 [DBG] Hosting started
2024-09-30 20:13:15.305 +06:00 [DBG] Connection id "0HN71B838S807" accepted.
2024-09-30 20:13:15.310 +06:00 [DBG] Connection id "0HN71B838S807" started.
2024-09-30 20:13:15.313 +06:00 [DBG] Connection id "0HN71B838S808" received FIN.
2024-09-30 20:13:15.313 +06:00 [DBG] Connection id "0HN71B838S807" received FIN.
2024-09-30 20:13:15.315 +06:00 [DBG] Connection id "0HN71B838S808" accepted.
2024-09-30 20:13:15.317 +06:00 [DBG] Connection id "0HN71B838S808" started.
2024-09-30 20:13:15.321 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 20:13:15.321 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 20:13:15.350 +06:00 [DBG] Connection id "0HN71B838S808" stopped.
2024-09-30 20:13:15.350 +06:00 [DBG] Connection id "0HN71B838S807" stopped.
2024-09-30 20:13:15.352 +06:00 [DBG] Connection id "0HN71B838S807" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 20:13:15.352 +06:00 [DBG] Connection id "0HN71B838S808" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 20:13:15.481 +06:00 [DBG] Connection id "0HN71B838S809" accepted.
2024-09-30 20:13:15.484 +06:00 [DBG] Connection id "0HN71B838S809" started.
2024-09-30 20:13:15.765 +06:00 [DBG] Connection 0HN71B838S809 established using the following protocol: "Tls12"
2024-09-30 20:13:15.830 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 20:13:15.911 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 20:13:15.930 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 20:13:15.932 +06:00 [DBG] Request did not match any endpoints
2024-09-30 20:13:16.054 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 20:13:16.087 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 20:13:16.096 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 267.2972ms
2024-09-30 20:13:16.112 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 20:13:16.125 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.9871ms
2024-09-30 20:13:16.140 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 20:13:16.184 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.79ms
2024-09-30 20:13:16.364 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 20:13:16.367 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 20:13:16.369 +06:00 [DBG] Request did not match any endpoints
2024-09-30 20:13:16.548 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.8925ms
2024-09-30 20:13:24.792 +06:00 [DBG] Connection id "0HN71B838S809" received FIN.
2024-09-30 20:13:24.804 +06:00 [DBG] The connection queue processing loop for 0HN71B838S809 completed.
2024-09-30 20:13:24.809 +06:00 [DBG] Connection id "0HN71B838S809" is closed. The last processed stream ID was 7.
2024-09-30 20:13:24.811 +06:00 [DBG] Connection id "0HN71B838S809" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 20:13:24.814 +06:00 [DBG] Connection id "0HN71B838S809" stopped.
2024-09-30 21:38:12.337 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-30 21:38:12.510 +06:00 [DBG] Hosting starting
2024-09-30 21:38:12.700 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-30 21:38:12.709 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-30 21:38:12.734 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-30 21:38:12.748 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-30 21:38:12.769 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-30 21:38:12.777 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-30 21:38:12.778 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-30 21:38:12.783 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-30 21:38:12.785 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 21:38:12.787 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-30 21:38:12.789 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-30 21:38:12.792 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-30 21:38:12.795 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-30 21:38:12.798 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-30 21:38:12.799 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-30 21:38:13.241 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-30 21:38:13.242 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-30 21:38:13.244 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-30 21:38:13.245 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-30 21:38:13.245 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-30 21:38:13.246 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-30 21:38:13.247 +06:00 [INF] Hosting environment: Development
2024-09-30 21:38:13.247 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-30 21:38:13.248 +06:00 [DBG] Hosting started
2024-09-30 21:38:13.452 +06:00 [DBG] Connection id "0HN71CNIKJ9FI" accepted.
2024-09-30 21:38:13.455 +06:00 [DBG] Connection id "0HN71CNIKJ9FI" started.
2024-09-30 21:38:13.463 +06:00 [DBG] Connection id "0HN71CNIKJ9FJ" accepted.
2024-09-30 21:38:13.465 +06:00 [DBG] Connection id "0HN71CNIKJ9FI" received FIN.
2024-09-30 21:38:13.465 +06:00 [DBG] Connection id "0HN71CNIKJ9FJ" received FIN.
2024-09-30 21:38:13.465 +06:00 [DBG] Connection id "0HN71CNIKJ9FJ" started.
2024-09-30 21:38:13.471 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 21:38:13.471 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 21:38:13.493 +06:00 [DBG] Connection id "0HN71CNIKJ9FJ" stopped.
2024-09-30 21:38:13.493 +06:00 [DBG] Connection id "0HN71CNIKJ9FI" stopped.
2024-09-30 21:38:13.495 +06:00 [DBG] Connection id "0HN71CNIKJ9FJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 21:38:13.495 +06:00 [DBG] Connection id "0HN71CNIKJ9FI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 21:38:13.571 +06:00 [DBG] Connection id "0HN71CNIKJ9FK" accepted.
2024-09-30 21:38:13.580 +06:00 [DBG] Connection id "0HN71CNIKJ9FK" started.
2024-09-30 21:38:13.643 +06:00 [DBG] Connection 0HN71CNIKJ9FK established using the following protocol: "Tls12"
2024-09-30 21:38:13.713 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 21:38:13.885 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-30 21:38:13.898 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 21:38:13.906 +06:00 [DBG] Request did not match any endpoints
2024-09-30 21:38:14.003 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 21:38:14.021 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 21:38:14.028 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 317.8415ms
2024-09-30 21:38:14.038 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 21:38:14.049 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 10.9603ms
2024-09-30 21:38:14.069 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 21:38:14.118 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.2685ms
2024-09-30 21:38:14.274 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 21:38:14.279 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 21:38:14.280 +06:00 [DBG] Request did not match any endpoints
2024-09-30 21:38:14.481 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.2538ms
2024-09-30 21:38:23.196 +06:00 [DBG] Connection id "0HN71CNIKJ9FK" received FIN.
2024-09-30 21:38:23.201 +06:00 [DBG] The connection queue processing loop for 0HN71CNIKJ9FK completed.
2024-09-30 21:38:23.207 +06:00 [DBG] Connection id "0HN71CNIKJ9FK" is closed. The last processed stream ID was 7.
2024-09-30 21:38:23.209 +06:00 [DBG] Connection id "0HN71CNIKJ9FK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 21:38:23.212 +06:00 [DBG] Connection id "0HN71CNIKJ9FK" stopped.
2024-09-30 21:48:14.310 +06:00 [DBG] Connection id "0HN71CNIKJ9FL" received FIN.
2024-09-30 21:48:14.311 +06:00 [DBG] Connection id "0HN71CNIKJ9FL" accepted.
2024-09-30 21:48:14.313 +06:00 [DBG] Connection id "0HN71CNIKJ9FL" started.
2024-09-30 21:48:14.317 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-30 21:48:14.320 +06:00 [DBG] Connection id "0HN71CNIKJ9FL" stopped.
2024-09-30 21:48:14.321 +06:00 [DBG] Connection id "0HN71CNIKJ9FL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 21:48:14.472 +06:00 [DBG] Connection id "0HN71CNIKJ9FM" accepted.
2024-09-30 21:48:14.493 +06:00 [DBG] Connection id "0HN71CNIKJ9FM" started.
2024-09-30 21:48:14.500 +06:00 [DBG] Connection 0HN71CNIKJ9FM established using the following protocol: "Tls12"
2024-09-30 21:48:14.511 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-30 21:48:14.535 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-30 21:48:14.538 +06:00 [DBG] Request did not match any endpoints
2024-09-30 21:48:14.541 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-30 21:48:14.542 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-30 21:48:14.544 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 33.2463ms
2024-09-30 21:48:14.610 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-30 21:48:14.618 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.7775ms
2024-09-30 21:48:14.651 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-30 21:48:14.685 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.9881ms
2024-09-30 21:48:14.923 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-30 21:48:14.925 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-30 21:48:14.928 +06:00 [DBG] Request did not match any endpoints
2024-09-30 21:48:14.984 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 59.5573ms
2024-09-30 21:48:34.172 +06:00 [DBG] Connection id "0HN71CNIKJ9FM" received FIN.
2024-09-30 21:48:34.176 +06:00 [DBG] Connection id "0HN71CNIKJ9FM" is closed. The last processed stream ID was 7.
2024-09-30 21:48:34.176 +06:00 [DBG] The connection queue processing loop for 0HN71CNIKJ9FM completed.
2024-09-30 21:48:34.179 +06:00 [DBG] Connection id "0HN71CNIKJ9FM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 21:48:34.186 +06:00 [DBG] Connection id "0HN71CNIKJ9FM" stopped.
2024-09-30 21:54:06.449 +06:00 [DBG] Connection id "0HN71CNIKJ9FN" accepted.
2024-09-30 21:54:06.454 +06:00 [DBG] Connection id "0HN71CNIKJ9FN" started.
2024-09-30 21:54:06.476 +06:00 [DBG] Connection 0HN71CNIKJ9FN established using the following protocol: "Tls12"
2024-09-30 21:54:09.764 +06:00 [DBG] Connection id "0HN71CNIKJ9FN" received FIN.
2024-09-30 21:54:09.767 +06:00 [DBG] Connection id "0HN71CNIKJ9FN" is closed. The last processed stream ID was 0.
2024-09-30 21:54:09.769 +06:00 [DBG] The connection queue processing loop for 0HN71CNIKJ9FN completed.
2024-09-30 21:54:09.770 +06:00 [DBG] Connection id "0HN71CNIKJ9FN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 21:54:09.778 +06:00 [DBG] Connection id "0HN71CNIKJ9FN" stopped.
2024-09-30 22:26:14.390 +06:00 [DBG] Connection id "0HN71CNIKJ9FO" accepted.
2024-09-30 22:26:14.422 +06:00 [DBG] Connection id "0HN71CNIKJ9FO" started.
2024-09-30 22:26:14.445 +06:00 [DBG] Connection 0HN71CNIKJ9FO established using the following protocol: "Tls12"
2024-09-30 22:26:14.460 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-30 22:26:14.486 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 22:26:14.491 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-30 22:26:14.497 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 22:26:14.505 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 22:26:14.507 +06:00 [INF] CORS policy execution successful.
2024-09-30 22:26:14.509 +06:00 [DBG] The request is a preflight request.
2024-09-30 22:26:14.511 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 50.9951ms
2024-09-30 22:26:14.516 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-30 22:26:14.523 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-30 22:26:14.528 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-30 22:26:14.531 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 22:26:14.533 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-30 22:26:14.535 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-30 22:26:14.536 +06:00 [INF] CORS policy execution successful.
2024-09-30 22:26:15.886 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 6:50:53 PM', Current time (UTC): '9/30/2024 4:26:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-30 22:26:15.895 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 6:50:53 PM', Current time (UTC): '9/30/2024 4:26:15 PM'.
2024-09-30 22:26:15.897 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 22:26:15.940 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-30 22:26:15.944 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-30 22:26:15.945 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-30 22:26:15.947 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-30 22:26:15.949 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-30 22:26:15.950 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-30 22:26:15.953 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 22:26:16.544 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-30 22:26:16.783 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-30 22:26:16.833 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 22:26:16.840 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-30 22:26:16.842 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-30 22:26:16.850 +06:00 [DBG] Connection id "0HN71CNIKJ9FO", Request id "0HN71CNIKJ9FO:00000003": started reading request body.
2024-09-30 22:26:16.851 +06:00 [DBG] Connection id "0HN71CNIKJ9FO", Request id "0HN71CNIKJ9FO:00000003": done reading request body.
2024-09-30 22:26:16.860 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-30 22:26:16.861 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 22:26:16.862 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 22:26:16.863 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-30 22:26:16.868 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-30 22:26:17.538 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-30 22:26:17.539 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-30 22:26:17.717 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-30 22:26:17.930 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-30 22:26:18.172 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-30 22:26:18.366 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-30 22:26:18.397 +06:00 [DBG] Creating DbConnection.
2024-09-30 22:26:18.415 +06:00 [DBG] Created DbConnection. (17ms).
2024-09-30 22:26:18.419 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 22:26:19.495 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 22:26:19.500 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-30 22:26:19.503 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-30 22:26:19.510 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-30 22:26:19.516 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 22:26:19.673 +06:00 [INF] Executed DbCommand (152ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-30 22:26:19.698 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 22:26:19.711 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 24ms reading results.
2024-09-30 22:26:19.717 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 22:26:19.721 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-09-30 22:26:19.918 +06:00 [DBG] Invalid password for user.
2024-09-30 22:26:19.919 +06:00 [DBG] User failed to provide the correct password.
2024-09-30 22:26:19.927 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-30 22:26:19.932 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-30 22:26:19.932 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-30 22:26:19.933 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-30 22:26:19.935 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-30 22:26:19.937 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-30 22:26:19.945 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3988.9791ms
2024-09-30 22:26:19.947 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-30 22:26:19.952 +06:00 [INF] HTTP POST /api/User/login responded 400 in 5408.9771 ms
2024-09-30 22:26:19.956 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-30 22:26:19.961 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-30 22:26:19.963 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-30 22:26:19.967 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 400 null text/plain; charset=utf-8 5450.7633ms
2024-09-30 22:28:31.808 +06:00 [DBG] Connection id "0HN71CNIKJ9FO" is closing.
2024-09-30 22:28:31.810 +06:00 [DBG] Connection id "0HN71CNIKJ9FO" is closed. The last processed stream ID was 3.
2024-09-30 22:28:31.813 +06:00 [DBG] Connection id "0HN71CNIKJ9FO" received FIN.
2024-09-30 22:28:31.815 +06:00 [DBG] Connection id "0HN71CNIKJ9FO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-30 22:28:31.825 +06:00 [DBG] The connection queue processing loop for 0HN71CNIKJ9FO completed.
2024-09-30 22:28:31.827 +06:00 [DBG] Connection id "0HN71CNIKJ9FO" stopped.
