2024-10-03 16:10:19.619 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 16:10:19.774 +06:00 [DBG] Hosting starting
2024-10-03 16:10:19.976 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 16:10:19.987 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 16:10:20.017 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 16:10:20.041 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 16:10:20.067 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 16:10:20.075 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 16:10:20.077 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 16:10:20.082 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 16:10:20.085 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:10:20.088 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 16:10:20.090 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:10:20.095 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 16:10:20.099 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 16:10:20.102 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 16:10:20.104 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 16:10:20.694 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 16:10:20.695 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 16:10:20.696 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 16:10:20.696 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 16:10:20.697 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 16:10:20.698 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 16:10:20.698 +06:00 [INF] Hosting environment: Development
2024-10-03 16:10:20.699 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 16:10:20.699 +06:00 [DBG] Hosting started
2024-10-03 16:10:20.960 +06:00 [DBG] Connection id "0HN73IEBCTM0O" received FIN.
2024-10-03 16:10:20.967 +06:00 [DBG] Connection id "0HN73IEBCTM0O" accepted.
2024-10-03 16:10:20.970 +06:00 [DBG] Connection id "0HN73IEBCTM0O" started.
2024-10-03 16:10:20.989 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 16:10:21.008 +06:00 [DBG] Connection id "0HN73IEBCTM0O" stopped.
2024-10-03 16:10:21.010 +06:00 [DBG] Connection id "0HN73IEBCTM0O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:10:21.123 +06:00 [DBG] Connection id "0HN73IEBCTM0P" accepted.
2024-10-03 16:10:21.126 +06:00 [DBG] Connection id "0HN73IEBCTM0P" started.
2024-10-03 16:10:21.128 +06:00 [DBG] Connection id "0HN73IEBCTM0Q" accepted.
2024-10-03 16:10:21.133 +06:00 [DBG] Connection id "0HN73IEBCTM0Q" started.
2024-10-03 16:10:21.188 +06:00 [DBG] Connection id "0HN73IEBCTM0Q" received FIN.
2024-10-03 16:10:21.213 +06:00 [DBG] Connection 0HN73IEBCTM0P established using the following protocol: "Tls12"
2024-10-03 16:10:21.213 +06:00 [DBG] Connection 0HN73IEBCTM0Q established using the following protocol: "Tls12"
2024-10-03 16:10:21.241 +06:00 [DBG] Connection id "0HN73IEBCTM0Q" is closed. The last processed stream ID was 0.
2024-10-03 16:10:21.245 +06:00 [DBG] Connection id "0HN73IEBCTM0Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:10:21.249 +06:00 [DBG] The connection queue processing loop for 0HN73IEBCTM0Q completed.
2024-10-03 16:10:21.254 +06:00 [DBG] Connection id "0HN73IEBCTM0Q" stopped.
2024-10-03 16:10:21.277 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 16:10:21.465 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 16:10:21.480 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 16:10:21.481 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:10:21.581 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 16:10:21.600 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 16:10:21.607 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 333.4789ms
2024-10-03 16:10:21.638 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 16:10:21.659 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 20.1486ms
2024-10-03 16:10:21.659 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 16:10:21.876 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 216.5629ms
2024-10-03 16:10:22.129 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 16:10:22.135 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 16:10:22.137 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:10:22.323 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 194.0856ms
2024-10-03 16:10:26.957 +06:00 [DBG] Connection id "0HN73IEBCTM0P" received FIN.
2024-10-03 16:10:26.963 +06:00 [DBG] Connection id "0HN73IEBCTM0P" is closed. The last processed stream ID was 7.
2024-10-03 16:10:26.964 +06:00 [DBG] The connection queue processing loop for 0HN73IEBCTM0P completed.
2024-10-03 16:10:26.967 +06:00 [DBG] Connection id "0HN73IEBCTM0P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:10:26.973 +06:00 [DBG] Connection id "0HN73IEBCTM0P" stopped.
2024-10-03 16:13:11.145 +06:00 [DBG] Connection id "0HN73IEBCTM0R" accepted.
2024-10-03 16:13:11.146 +06:00 [DBG] Connection id "0HN73IEBCTM0R" started.
2024-10-03 16:13:11.156 +06:00 [DBG] Connection 0HN73IEBCTM0R established using the following protocol: "Tls12"
2024-10-03 16:13:11.161 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 16:13:11.173 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 16:13:11.178 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 16:13:11.180 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:13:11.182 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 16:13:11.186 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 16:13:11.189 +06:00 [INF] CORS policy execution successful.
2024-10-03 16:13:12.843 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 16:13:12.847 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:13:12.870 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 16:13:12.873 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 16:13:12.874 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 16:13:12.875 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 16:13:12.876 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 16:13:12.877 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 16:13:12.879 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 16:13:13.837 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 16:13:14.037 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 16:13:14.098 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 16:13:14.103 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 16:13:14.106 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 16:13:14.113 +06:00 [DBG] Connection id "0HN73IEBCTM0R", Request id "0HN73IEBCTM0R:00000001": started reading request body.
2024-10-03 16:13:14.114 +06:00 [DBG] Connection id "0HN73IEBCTM0R", Request id "0HN73IEBCTM0R:00000001": done reading request body.
2024-10-03 16:13:14.131 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 16:13:14.132 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:13:14.134 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:13:14.136 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 16:13:14.154 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:13:14.801 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 16:13:14.805 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 16:13:14.947 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 16:13:15.127 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 16:13:15.571 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 16:13:15.712 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 16:13:15.746 +06:00 [DBG] Creating DbConnection.
2024-10-03 16:13:15.763 +06:00 [DBG] Created DbConnection. (16ms).
2024-10-03 16:13:15.768 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:16.566 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:16.573 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:13:16.580 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-03 16:13:16.594 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-10-03 16:13:16.606 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 16:13:16.725 +06:00 [INF] Executed DbCommand (125ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 16:13:16.749 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:16.762 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-10-03 16:13:16.770 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:16.783 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (12ms).
2024-10-03 16:13:16.957 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 16:13:16.986 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 16:13:16.991 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:16.992 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:16.993 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:13:16.994 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:13:16.994 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 16:13:16.995 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 16:13:17.004 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 16:13:17.007 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:17.008 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 16:13:17.009 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:17.010 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:13:17.069 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 16:13:17.076 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 16:13:17.076 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 16:13:17.077 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 16:13:17.078 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 16:13:17.079 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 16:13:17.089 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4209.1365ms
2024-10-03 16:13:17.091 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:13:17.093 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5901.2854 ms
2024-10-03 16:13:17.096 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 16:13:17.100 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:17.103 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-03 16:13:17.106 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5945.0976ms
2024-10-03 16:13:22.197 +06:00 [DBG] Connection id "0HN73IEBCTM0R" received FIN.
2024-10-03 16:13:22.199 +06:00 [DBG] Connection id "0HN73IEBCTM0R" is closed. The last processed stream ID was 1.
2024-10-03 16:13:22.199 +06:00 [DBG] The connection queue processing loop for 0HN73IEBCTM0R completed.
2024-10-03 16:13:22.204 +06:00 [DBG] Connection id "0HN73IEBCTM0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:13:22.213 +06:00 [DBG] Connection id "0HN73IEBCTM0R" stopped.
2024-10-03 16:13:55.390 +06:00 [DBG] Connection id "0HN73IEBCTM0S" accepted.
2024-10-03 16:13:55.393 +06:00 [DBG] Connection id "0HN73IEBCTM0S" started.
2024-10-03 16:13:55.400 +06:00 [DBG] Connection 0HN73IEBCTM0S established using the following protocol: "Tls12"
2024-10-03 16:13:55.403 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 192
2024-10-03 16:13:55.409 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-10-03 16:13:55.411 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-10-03 16:13:55.414 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 16:13:55.415 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 16:13:55.416 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 16:13:55.417 +06:00 [INF] CORS policy execution successful.
2024-10-03 16:13:55.451 +06:00 [DBG] Successfully validated the token.
2024-10-03 16:13:55.456 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 16:13:55.460 +06:00 [DBG] Authorization was successful.
2024-10-03 16:13:55.460 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 16:13:55.466 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 16:13:55.467 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 16:13:55.468 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 16:13:55.469 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 16:13:55.470 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 16:13:55.470 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 16:13:55.471 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:13:55.473 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:13:55.474 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 16:13:55.474 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-10-03 16:13:55.475 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 16:13:55.480 +06:00 [DBG] Connection id "0HN73IEBCTM0S", Request id "0HN73IEBCTM0S:00000001": started reading request body.
2024-10-03 16:13:55.481 +06:00 [DBG] Connection id "0HN73IEBCTM0S", Request id "0HN73IEBCTM0S:00000001": done reading request body.
2024-10-03 16:13:55.488 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-10-03 16:13:55.489 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 16:13:55.489 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 16:13:55.490 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 16:13:55.494 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 16:13:55.540 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 16:13:55.546 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-10-03 16:13:55.552 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 16:13:55.555 +06:00 [DBG] Creating DbConnection.
2024-10-03 16:13:55.555 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 16:13:55.556 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.557 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.557 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:13:55.558 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:13:55.558 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 16:13:55.559 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 16:13:55.566 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 16:13:55.568 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.568 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-10-03 16:13:55.569 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.570 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:13:55.609 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:13:55.670 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:13:55.686 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:13:55.710 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:13:55.717 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 16:13:55.720 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 16:13:55.735 +06:00 [DBG] The unchanged property 'Product.UserId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:13:55.739 +06:00 [DBG] The foreign key property 'Product.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:13:55.750 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 16:13:55.754 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 16:13:55.755 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:13:55.756 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:13:55.758 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 16:13:55.814 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.817 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.819 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 16:13:55.824 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 16:13:55.827 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:13:55.828 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 16:13:55.831 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 16:13:55.832 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-10-03 16:13:55.841 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-10-03 16:13:55.849 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:13:55.853 +06:00 [DBG] The foreign key property 'Transactions.ProductsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:13:55.857 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.857 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-10-03 16:13:55.859 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:13:55.859 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:13:55.862 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 16:13:55.863 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-10-03 16:13:55.868 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-10-03 16:13:55.870 +06:00 [DBG] The foreign key property 'Transactions.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:13:55.871 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.872 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 16:13:55.874 +06:00 [DBG] Committing transaction.
2024-10-03 16:13:55.877 +06:00 [DBG] Committed transaction.
2024-10-03 16:13:55.880 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.881 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:13:55.883 +06:00 [DBG] Disposing transaction.
2024-10-03 16:13:55.890 +06:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:13:55.892 +06:00 [DBG] An entity of type 'Transactions' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:13:55.894 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2024-10-03 16:13:55.896 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 16:13:55.898 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 16:13:55.898 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 16:13:55.899 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 16:13:55.899 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 16:13:55.900 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-10-03 16:13:55.902 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 431.1843ms
2024-10-03 16:13:55.903 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 16:13:55.904 +06:00 [INF] HTTP POST /api/Product/BuyProduct responded 200 in 487.2335 ms
2024-10-03 16:13:55.905 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 16:13:55.906 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:13:55.907 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-03 16:13:55.908 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 200 null application/json; charset=utf-8 505.5095ms
2024-10-03 16:14:02.236 +06:00 [DBG] Connection id "0HN73IEBCTM0S" received FIN.
2024-10-03 16:14:02.241 +06:00 [DBG] Connection id "0HN73IEBCTM0S" is closed. The last processed stream ID was 1.
2024-10-03 16:14:02.242 +06:00 [DBG] The connection queue processing loop for 0HN73IEBCTM0S completed.
2024-10-03 16:14:02.242 +06:00 [DBG] Connection id "0HN73IEBCTM0S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:14:02.260 +06:00 [DBG] Connection id "0HN73IEBCTM0S" stopped.
2024-10-03 16:24:53.814 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 16:24:53.926 +06:00 [DBG] Hosting starting
2024-10-03 16:24:53.966 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 16:24:53.975 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 16:24:53.980 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 16:24:53.981 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 16:24:53.986 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 16:24:53.990 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 16:24:53.991 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 16:24:53.995 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 16:24:53.998 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:24:54.000 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 16:24:54.002 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:24:54.006 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 16:24:54.009 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 16:24:54.012 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 16:24:54.013 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 16:24:54.246 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 16:24:54.249 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 16:24:54.251 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 16:24:54.252 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 16:24:54.253 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 16:24:54.253 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 16:24:54.254 +06:00 [INF] Hosting environment: Development
2024-10-03 16:24:54.255 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 16:24:54.255 +06:00 [DBG] Hosting started
2024-10-03 16:24:54.433 +06:00 [DBG] Connection id "0HN73IMFN0COO" accepted.
2024-10-03 16:24:54.436 +06:00 [DBG] Connection id "0HN73IMFN0COO" started.
2024-10-03 16:24:54.444 +06:00 [DBG] Connection id "0HN73IMFN0COP" accepted.
2024-10-03 16:24:54.446 +06:00 [DBG] Connection id "0HN73IMFN0COP" started.
2024-10-03 16:25:00.395 +06:00 [DBG] Connection id "0HN73IMFN0COQ" accepted.
2024-10-03 16:25:00.422 +06:00 [DBG] Connection id "0HN73IMFN0COQ" started.
2024-10-03 16:25:00.726 +06:00 [DBG] Connection 0HN73IMFN0COQ established using the following protocol: "Tls12"
2024-10-03 16:25:01.201 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 16:25:01.419 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 16:25:01.462 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 16:25:01.465 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:25:01.785 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 16:25:01.826 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 16:25:01.838 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 650.4231ms
2024-10-03 16:25:01.952 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 16:25:01.952 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 16:25:02.001 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 48.682ms
2024-10-03 16:25:02.135 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 182.9786ms
2024-10-03 16:25:02.213 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 16:25:02.218 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 16:25:02.232 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:25:03.045 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 831.64ms
2024-10-03 16:25:04.454 +06:00 [DBG] Authentication of the HTTPS connection timed out.
2024-10-03 16:25:04.454 +06:00 [DBG] Authentication of the HTTPS connection timed out.
2024-10-03 16:25:04.460 +06:00 [DBG] Connection id "0HN73IMFN0COP" stopped.
2024-10-03 16:25:04.460 +06:00 [DBG] Connection id "0HN73IMFN0COO" stopped.
2024-10-03 16:25:04.462 +06:00 [DBG] Connection id "0HN73IMFN0COP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:25:04.462 +06:00 [DBG] Connection id "0HN73IMFN0COO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:25:04.592 +06:00 [DBG] Connection id "0HN73IMFN0COQ" received FIN.
2024-10-03 16:25:04.597 +06:00 [DBG] The connection queue processing loop for 0HN73IMFN0COQ completed.
2024-10-03 16:25:04.600 +06:00 [DBG] Connection id "0HN73IMFN0COQ" is closed. The last processed stream ID was 7.
2024-10-03 16:25:04.602 +06:00 [DBG] Connection id "0HN73IMFN0COQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:25:04.615 +06:00 [DBG] Connection id "0HN73IMFN0COQ" stopped.
2024-10-03 16:26:09.587 +06:00 [DBG] Connection id "0HN73IMFN0COR" accepted.
2024-10-03 16:26:09.597 +06:00 [DBG] Connection id "0HN73IMFN0COR" started.
2024-10-03 16:26:09.655 +06:00 [DBG] Connection 0HN73IMFN0COR established using the following protocol: "Tls12"
2024-10-03 16:26:09.662 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 16:26:09.674 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 16:26:09.705 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 16:26:09.712 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:26:09.727 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 16:26:09.756 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 16:26:09.758 +06:00 [INF] CORS policy execution successful.
2024-10-03 16:26:10.097 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 16:26:10.104 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:26:10.157 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 16:26:10.161 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 16:26:10.163 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 16:26:10.165 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 16:26:10.169 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 16:26:10.174 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 16:26:10.178 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 16:26:10.458 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 16:26:10.712 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 16:26:10.735 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 16:26:10.741 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 16:26:10.744 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 16:26:10.753 +06:00 [DBG] Connection id "0HN73IMFN0COR", Request id "0HN73IMFN0COR:00000001": started reading request body.
2024-10-03 16:26:10.754 +06:00 [DBG] Connection id "0HN73IMFN0COR", Request id "0HN73IMFN0COR:00000001": done reading request body.
2024-10-03 16:26:10.771 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 16:26:10.773 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:26:10.773 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:26:10.774 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 16:26:10.781 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:26:11.726 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 16:26:11.728 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 16:26:11.898 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 16:26:12.170 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 16:26:12.309 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 16:26:12.507 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 16:26:12.555 +06:00 [DBG] Creating DbConnection.
2024-10-03 16:26:12.593 +06:00 [DBG] Created DbConnection. (33ms).
2024-10-03 16:26:12.599 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.033 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.041 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:26:13.047 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-03 16:26:13.060 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (20ms).
2024-10-03 16:26:13.074 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 16:26:13.194 +06:00 [INF] Executed DbCommand (120ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 16:26:13.239 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.250 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 44ms reading results.
2024-10-03 16:26:13.256 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.261 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-10-03 16:26:13.468 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 16:26:13.517 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 16:26:13.522 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.524 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.526 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:26:13.527 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 16:26:13.528 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 16:26:13.529 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 16:26:13.539 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 16:26:13.544 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.546 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 16:26:13.550 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.552 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 16:26:13.595 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 16:26:13.601 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 16:26:13.602 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 16:26:13.603 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 16:26:13.605 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 16:26:13.606 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 16:26:13.626 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3444.7835ms
2024-10-03 16:26:13.629 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:26:13.635 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3859.0629 ms
2024-10-03 16:26:13.638 +06:00 [DBG] Connection id "0HN73IMFN0COR" received FIN.
2024-10-03 16:26:13.639 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 16:26:13.640 +06:00 [DBG] Connection id "0HN73IMFN0COR" is closed. The last processed stream ID was 1.
2024-10-03 16:26:13.641 +06:00 [DBG] Connection id "0HN73IMFN0COR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:26:13.652 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:26:13.655 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-03 16:26:13.658 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3996.5564ms
2024-10-03 16:26:13.661 +06:00 [DBG] The connection queue processing loop for 0HN73IMFN0COR completed.
2024-10-03 16:26:13.663 +06:00 [DBG] Connection id "0HN73IMFN0COR" stopped.
2024-10-03 16:27:46.278 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 16:27:46.383 +06:00 [DBG] Hosting starting
2024-10-03 16:27:46.426 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 16:27:46.434 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 16:27:46.441 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 16:27:46.442 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 16:27:46.446 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 16:27:46.450 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 16:27:46.450 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 16:27:46.457 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 16:27:46.462 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:27:46.464 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 16:27:46.466 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:27:46.470 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 16:27:46.474 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 16:27:46.477 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 16:27:46.479 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 16:27:46.655 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 16:27:46.661 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 16:27:46.667 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 16:27:46.668 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 16:27:46.668 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 16:27:46.669 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 16:27:46.670 +06:00 [INF] Hosting environment: Development
2024-10-03 16:27:46.670 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 16:27:46.671 +06:00 [DBG] Hosting started
2024-10-03 16:27:47.114 +06:00 [DBG] Connection id "0HN73IO35QBKJ" accepted.
2024-10-03 16:27:47.114 +06:00 [DBG] Connection id "0HN73IO35QBKI" accepted.
2024-10-03 16:27:47.115 +06:00 [DBG] Connection id "0HN73IO35QBKJ" started.
2024-10-03 16:27:47.116 +06:00 [DBG] Connection id "0HN73IO35QBKI" started.
2024-10-03 16:27:47.138 +06:00 [DBG] Connection id "0HN73IO35QBKJ" received FIN.
2024-10-03 16:27:47.138 +06:00 [DBG] Connection id "0HN73IO35QBKI" received FIN.
2024-10-03 16:27:47.148 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 16:27:47.148 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 16:27:47.168 +06:00 [DBG] Connection id "0HN73IO35QBKJ" stopped.
2024-10-03 16:27:47.168 +06:00 [DBG] Connection id "0HN73IO35QBKI" stopped.
2024-10-03 16:27:47.171 +06:00 [DBG] Connection id "0HN73IO35QBKI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:27:47.171 +06:00 [DBG] Connection id "0HN73IO35QBKJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:27:50.662 +06:00 [DBG] Connection id "0HN73IO35QBKK" accepted.
2024-10-03 16:27:50.665 +06:00 [DBG] Connection id "0HN73IO35QBKK" started.
2024-10-03 16:27:50.787 +06:00 [DBG] Connection 0HN73IO35QBKK established using the following protocol: "Tls12"
2024-10-03 16:27:50.923 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 16:27:51.099 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 16:27:51.114 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 16:27:51.117 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:27:51.238 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 16:27:51.271 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 16:27:51.278 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 363.6158ms
2024-10-03 16:27:51.333 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 16:27:51.333 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 16:27:51.349 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 16.8553ms
2024-10-03 16:27:51.427 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 94.199ms
2024-10-03 16:27:51.468 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 16:27:51.471 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 16:27:51.472 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:27:51.679 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 211.4272ms
2024-10-03 16:27:54.055 +06:00 [DBG] Connection id "0HN73IO35QBKK" received FIN.
2024-10-03 16:27:54.058 +06:00 [DBG] The connection queue processing loop for 0HN73IO35QBKK completed.
2024-10-03 16:27:54.061 +06:00 [DBG] Connection id "0HN73IO35QBKK" is closed. The last processed stream ID was 7.
2024-10-03 16:27:54.063 +06:00 [DBG] Connection id "0HN73IO35QBKK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:27:54.068 +06:00 [DBG] Connection id "0HN73IO35QBKK" stopped.
2024-10-03 16:28:24.112 +06:00 [DBG] Connection id "0HN73IO35QBKL" accepted.
2024-10-03 16:28:24.121 +06:00 [DBG] Connection id "0HN73IO35QBKL" started.
2024-10-03 16:28:24.129 +06:00 [DBG] Connection 0HN73IO35QBKL established using the following protocol: "Tls12"
2024-10-03 16:28:24.143 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 16:28:24.157 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 16:28:24.161 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 16:28:24.163 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 16:28:24.168 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 16:28:24.368 +06:00 [DBG] Successfully validated the token.
2024-10-03 16:28:24.372 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 16:28:24.374 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 16:28:24.400 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 16:28:24.405 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 16:28:24.406 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 16:28:24.407 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 16:28:24.409 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 16:28:24.410 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 16:28:24.412 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:28:24.577 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 16:28:24.799 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:28:24.820 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 16:28:24.826 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 16:28:24.834 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 16:28:24.837 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 16:28:24.839 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 16:28:24.841 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 16:28:24.842 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 16:28:24.843 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 16:28:24.844 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 16:28:24.845 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 16:28:24.846 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 16:28:24.847 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 16:28:24.850 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 16:28:24.851 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 16:28:24.854 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 16:28:24.855 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 16:28:24.857 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 16:28:24.869 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 16:28:45.201 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 16:28:45.203 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 16:28:45.561 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 16:28:45.826 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 16:28:45.920 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 16:28:46.213 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 16:28:46.250 +06:00 [DBG] Creating DbConnection.
2024-10-03 16:28:46.273 +06:00 [DBG] Created DbConnection. (21ms).
2024-10-03 16:28:46.278 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.657 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.663 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:28:46.667 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-03 16:28:46.669 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-03 16:28:46.675 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 16:28:46.720 +06:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 16:28:46.750 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.758 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 30ms reading results.
2024-10-03 16:28:46.763 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.769 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-10-03 16:28:46.775 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 16:28:46.783 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:28:46.784 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:28:46.784 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:28:46.792 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:28:46.825 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 16:28:46.843 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.849 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.850 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:28:46.850 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:28:46.856 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-03 16:28:46.863 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 16:28:46.900 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 16:28:46.937 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:28:46.977 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.982 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 77ms reading results.
2024-10-03 16:28:46.984 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:28:46.985 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:29:42.926 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 16:29:42.941 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 16:29:42.941 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 16:29:42.943 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 16:29:42.945 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 16:29:42.946 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 16:29:47.596 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 83179.0243ms
2024-10-03 16:29:47.599 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 16:29:49.215 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 85040.2741 ms
2024-10-03 16:29:50.809 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 16:29:50.814 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:29:50.817 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-03 16:29:51.411 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 87269.0156ms
2024-10-03 16:29:55.580 +06:00 [DBG] Connection id "0HN73IO35QBKL" received FIN.
2024-10-03 16:29:55.582 +06:00 [DBG] Connection id "0HN73IO35QBKL" is closed. The last processed stream ID was 1.
2024-10-03 16:29:55.582 +06:00 [DBG] The connection queue processing loop for 0HN73IO35QBKL completed.
2024-10-03 16:29:55.586 +06:00 [DBG] Connection id "0HN73IO35QBKL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:29:55.608 +06:00 [DBG] Connection id "0HN73IO35QBKL" stopped.
2024-10-03 16:54:44.636 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 16:54:44.879 +06:00 [DBG] Hosting starting
2024-10-03 16:54:44.942 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 16:54:44.966 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 16:54:44.981 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 16:54:44.983 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 16:54:44.989 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 16:54:44.997 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 16:54:44.998 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 16:54:45.004 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 16:54:45.008 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:54:45.011 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 16:54:45.014 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 16:54:45.018 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 16:54:45.022 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 16:54:45.026 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 16:54:45.028 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 16:54:45.304 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 16:54:45.305 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 16:54:45.306 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 16:54:45.307 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 16:54:45.308 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 16:54:45.310 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 16:54:45.311 +06:00 [INF] Hosting environment: Development
2024-10-03 16:54:45.312 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 16:54:45.313 +06:00 [DBG] Hosting started
2024-10-03 16:54:45.520 +06:00 [DBG] Connection id "0HN73J75G4M04" received FIN.
2024-10-03 16:54:45.535 +06:00 [DBG] Connection id "0HN73J75G4M04" accepted.
2024-10-03 16:54:45.537 +06:00 [DBG] Connection id "0HN73J75G4M04" started.
2024-10-03 16:54:45.599 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 16:54:45.666 +06:00 [DBG] Connection id "0HN73J75G4M04" stopped.
2024-10-03 16:54:45.671 +06:00 [DBG] Connection id "0HN73J75G4M04" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:54:49.651 +06:00 [DBG] Connection id "0HN73J75G4M05" accepted.
2024-10-03 16:54:49.683 +06:00 [DBG] Connection id "0HN73J75G4M05" started.
2024-10-03 16:54:49.819 +06:00 [DBG] Connection 0HN73J75G4M05 established using the following protocol: "Tls12"
2024-10-03 16:54:50.242 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 16:54:50.785 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 16:54:50.827 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 16:54:50.830 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:54:51.071 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 16:54:51.114 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 16:54:51.120 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 886.2977ms
2024-10-03 16:54:51.187 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 16:54:51.196 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 16:54:51.205 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 18.3467ms
2024-10-03 16:54:51.317 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 120.7664ms
2024-10-03 16:54:51.371 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 16:54:51.373 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 16:54:51.375 +06:00 [DBG] Request did not match any endpoints
2024-10-03 16:54:51.581 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 210.9787ms
2024-10-03 16:54:54.220 +06:00 [DBG] Connection id "0HN73J75G4M05" received FIN.
2024-10-03 16:54:54.236 +06:00 [DBG] The connection queue processing loop for 0HN73J75G4M05 completed.
2024-10-03 16:54:54.238 +06:00 [DBG] Connection id "0HN73J75G4M05" is closed. The last processed stream ID was 7.
2024-10-03 16:54:54.242 +06:00 [DBG] Connection id "0HN73J75G4M05" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:54:54.258 +06:00 [DBG] Connection id "0HN73J75G4M05" stopped.
2024-10-03 16:55:23.519 +06:00 [DBG] Connection id "0HN73J75G4M06" accepted.
2024-10-03 16:55:23.526 +06:00 [DBG] Connection id "0HN73J75G4M06" started.
2024-10-03 16:55:23.543 +06:00 [DBG] Connection 0HN73J75G4M06 established using the following protocol: "Tls12"
2024-10-03 16:55:23.549 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 16:55:23.560 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 16:55:23.565 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 16:55:23.567 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:55:23.574 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 16:55:23.576 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 16:55:23.577 +06:00 [INF] CORS policy execution successful.
2024-10-03 16:55:23.699 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 16:55:23.708 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:55:23.745 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 16:55:23.750 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 16:55:23.751 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 16:55:23.752 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 16:55:23.756 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 16:55:23.757 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 16:55:23.760 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 16:55:24.016 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 16:55:24.267 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 16:55:24.295 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 16:55:24.301 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 16:55:24.308 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 16:55:24.321 +06:00 [DBG] Connection id "0HN73J75G4M06", Request id "0HN73J75G4M06:00000001": started reading request body.
2024-10-03 16:55:24.324 +06:00 [DBG] Connection id "0HN73J75G4M06", Request id "0HN73J75G4M06:00000001": done reading request body.
2024-10-03 16:55:24.334 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 16:55:24.336 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:55:24.339 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:55:24.340 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 16:55:24.353 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 16:55:25.299 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 16:55:25.304 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 16:55:25.600 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 16:55:25.834 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 16:55:25.959 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 16:55:26.240 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 16:55:26.309 +06:00 [DBG] Creating DbConnection.
2024-10-03 16:55:26.352 +06:00 [DBG] Created DbConnection. (38ms).
2024-10-03 16:55:26.360 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:26.797 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:26.806 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:55:26.810 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-03 16:55:26.817 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-10-03 16:55:26.826 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 16:55:26.949 +06:00 [INF] Executed DbCommand (119ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 16:55:26.980 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:26.993 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-10-03 16:55:27.001 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:27.008 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-10-03 16:55:27.210 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 16:55:27.264 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 16:55:27.271 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:27.274 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:27.275 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:55:27.276 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:55:27.277 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 16:55:27.278 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 16:55:27.289 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 16:55:27.293 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:27.294 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 16:55:27.296 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:27.296 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:55:27.343 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 16:55:27.347 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 16:55:27.348 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 16:55:27.349 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 16:55:27.350 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 16:55:27.352 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 16:55:27.368 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3606.342ms
2024-10-03 16:55:27.371 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 16:55:27.374 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3793.6375 ms
2024-10-03 16:55:27.378 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 16:55:27.381 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:55:27.383 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 16:55:27.389 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3840.2527ms
2024-10-03 16:55:34.388 +06:00 [DBG] Connection id "0HN73J75G4M06" received FIN.
2024-10-03 16:55:34.393 +06:00 [DBG] Connection id "0HN73J75G4M06" is closed. The last processed stream ID was 1.
2024-10-03 16:55:34.393 +06:00 [DBG] The connection queue processing loop for 0HN73J75G4M06 completed.
2024-10-03 16:55:34.397 +06:00 [DBG] Connection id "0HN73J75G4M06" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:55:34.401 +06:00 [DBG] Connection id "0HN73J75G4M06" stopped.
2024-10-03 16:57:03.389 +06:00 [DBG] Connection id "0HN73J75G4M07" accepted.
2024-10-03 16:57:03.404 +06:00 [DBG] Connection id "0HN73J75G4M07" started.
2024-10-03 16:57:03.413 +06:00 [DBG] Connection 0HN73J75G4M07 established using the following protocol: "Tls12"
2024-10-03 16:57:03.424 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 193
2024-10-03 16:57:03.465 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-10-03 16:57:03.467 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-10-03 16:57:03.468 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 16:57:03.469 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 16:57:03.470 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 16:57:03.471 +06:00 [INF] CORS policy execution successful.
2024-10-03 16:57:03.561 +06:00 [DBG] Successfully validated the token.
2024-10-03 16:57:03.566 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 16:57:03.571 +06:00 [DBG] Authorization was successful.
2024-10-03 16:57:03.572 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 16:57:03.579 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 16:57:03.580 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 16:57:03.581 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 16:57:03.582 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 16:57:03.583 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 16:57:03.584 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 16:57:03.585 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:57:03.587 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:57:03.588 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 16:57:03.589 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-10-03 16:57:03.591 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 16:57:03.596 +06:00 [DBG] Connection id "0HN73J75G4M07", Request id "0HN73J75G4M07:00000001": started reading request body.
2024-10-03 16:57:03.597 +06:00 [DBG] Connection id "0HN73J75G4M07", Request id "0HN73J75G4M07:00000001": done reading request body.
2024-10-03 16:57:03.602 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-10-03 16:57:03.602 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 16:57:03.603 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 16:57:03.604 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 16:57:03.611 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 16:57:22.419 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 16:57:22.432 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-10-03 16:57:22.447 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 16:57:22.451 +06:00 [DBG] Creating DbConnection.
2024-10-03 16:57:22.453 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 16:57:22.454 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:22.456 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:22.457 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:57:22.457 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:57:22.458 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 16:57:22.459 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 16:57:22.501 +06:00 [INF] Executed DbCommand (42ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 16:57:22.506 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:22.507 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 16:57:22.507 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:22.508 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:57:27.693 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:57:34.991 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:57:35.043 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:57:39.939 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 16:57:39.955 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 16:57:39.981 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 16:57:39.991 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 16:57:40.001 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:57:40.011 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 16:57:40.141 +06:00 [DBG] Executing 2 update commands as a batch.
2024-10-03 16:57:40.150 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:40.158 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:40.162 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 16:57:40.171 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 16:57:40.175 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:57:40.175 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:57:40.178 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 16:57:40.180 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 16:57:40.222 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 16:57:40.239 +06:00 [DBG] The foreign key property 'Transactions.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 16:57:40.244 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:40.245 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-10-03 16:57:40.248 +06:00 [DBG] Committing transaction.
2024-10-03 16:57:40.255 +06:00 [DBG] Committed transaction.
2024-10-03 16:57:40.260 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:40.262 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-10-03 16:57:40.264 +06:00 [DBG] Disposing transaction.
2024-10-03 16:57:40.275 +06:00 [DBG] An entity of type 'Transactions' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:57:40.279 +06:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:57:40.281 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2024-10-03 16:57:55.867 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 16:57:55.871 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 16:57:55.872 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 16:57:55.875 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 16:57:55.876 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 16:57:55.877 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-10-03 16:57:55.881 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 52295.9098ms
2024-10-03 16:57:55.883 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 16:57:59.070 +06:00 [INF] HTTP POST /api/Product/BuyProduct responded 200 in 55597.8134 ms
2024-10-03 16:57:59.667 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 16:57:59.670 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:57:59.674 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-03 16:58:00.281 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 200 null application/json; charset=utf-8 56858.4956ms
2024-10-03 16:58:04.622 +06:00 [DBG] Connection id "0HN73J75G4M07" received FIN.
2024-10-03 16:58:04.627 +06:00 [DBG] Connection id "0HN73J75G4M07" is closed. The last processed stream ID was 1.
2024-10-03 16:58:04.627 +06:00 [DBG] The connection queue processing loop for 0HN73J75G4M07 completed.
2024-10-03 16:58:04.629 +06:00 [DBG] Connection id "0HN73J75G4M07" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:58:04.637 +06:00 [DBG] Connection id "0HN73J75G4M07" stopped.
2024-10-03 16:58:15.445 +06:00 [DBG] Connection id "0HN73J75G4M08" accepted.
2024-10-03 16:58:15.449 +06:00 [DBG] Connection id "0HN73J75G4M08" started.
2024-10-03 16:58:15.457 +06:00 [DBG] Connection 0HN73J75G4M08 established using the following protocol: "Tls12"
2024-10-03 16:58:15.466 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 16:58:15.472 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 16:58:15.473 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 16:58:15.475 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 16:58:15.476 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 16:58:15.483 +06:00 [DBG] Successfully validated the token.
2024-10-03 16:58:15.485 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 16:58:15.486 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 16:58:15.503 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 16:58:15.506 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 16:58:15.507 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 16:58:15.508 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 16:58:15.510 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 16:58:15.511 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 16:58:15.512 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:58:15.517 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 16:58:15.518 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 16:58:15.521 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 16:58:15.534 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 16:58:15.537 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 16:58:15.540 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 16:58:15.541 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 16:58:15.543 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 16:58:15.544 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 16:58:15.545 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 16:58:15.547 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 16:58:15.549 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 16:58:15.550 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 16:58:15.551 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 16:58:15.553 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 16:58:15.554 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 16:58:15.555 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 16:58:15.556 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 16:58:15.558 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 16:58:19.694 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 16:58:19.701 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 16:58:19.771 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 16:58:19.779 +06:00 [DBG] Creating DbConnection.
2024-10-03 16:58:19.780 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 16:58:19.782 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.783 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.784 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:58:19.785 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:58:19.786 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 16:58:19.788 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 16:58:19.795 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 16:58:19.817 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.819 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 16:58:19.820 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.821 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:58:19.823 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 16:58:19.827 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:58:19.829 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:58:19.831 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:58:19.837 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 16:58:19.842 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 16:58:19.845 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.846 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.849 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 16:58:19.849 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 16:58:19.851 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 16:58:19.851 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 16:58:19.857 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 16:58:19.861 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 16:58:19.862 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.863 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 16:58:19.864 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:19.865 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 16:58:21.257 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 16:58:21.260 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 16:58:21.261 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 16:58:21.262 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 16:58:21.264 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 16:58:21.266 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 16:58:24.554 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 9042.5689ms
2024-10-03 16:58:24.560 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 16:58:25.274 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 9796.2817 ms
2024-10-03 16:58:26.007 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 16:58:26.009 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 16:58:26.011 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 16:58:26.925 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 11459.7018ms
2024-10-03 16:58:34.663 +06:00 [DBG] Connection id "0HN73J75G4M08" received FIN.
2024-10-03 16:58:34.666 +06:00 [DBG] Connection id "0HN73J75G4M08" is closed. The last processed stream ID was 1.
2024-10-03 16:58:34.666 +06:00 [DBG] The connection queue processing loop for 0HN73J75G4M08 completed.
2024-10-03 16:58:34.668 +06:00 [DBG] Connection id "0HN73J75G4M08" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 16:58:34.679 +06:00 [DBG] Connection id "0HN73J75G4M08" stopped.
2024-10-03 17:01:07.808 +06:00 [DBG] Connection id "0HN73J75G4M09" accepted.
2024-10-03 17:01:07.817 +06:00 [DBG] Connection id "0HN73J75G4M09" started.
2024-10-03 17:01:07.822 +06:00 [DBG] Connection 0HN73J75G4M09 established using the following protocol: "Tls12"
2024-10-03 17:01:07.834 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 198
2024-10-03 17:01:07.840 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-10-03 17:01:07.840 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-10-03 17:01:07.843 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 17:01:07.846 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:01:07.847 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:01:07.847 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:01:07.849 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:01:07.849 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:01:07.852 +06:00 [DBG] Authorization was successful.
2024-10-03 17:01:07.853 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 17:01:07.853 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:01:07.855 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:01:07.856 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:01:07.857 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:01:07.860 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:01:07.862 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:01:07.863 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:01:07.868 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:01:07.869 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 17:01:07.870 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-10-03 17:01:07.871 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:01:07.872 +06:00 [DBG] Connection id "0HN73J75G4M09", Request id "0HN73J75G4M09:00000001": started reading request body.
2024-10-03 17:01:07.873 +06:00 [DBG] Connection id "0HN73J75G4M09", Request id "0HN73J75G4M09:00000001": done reading request body.
2024-10-03 17:01:07.874 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-10-03 17:01:07.876 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 17:01:07.877 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 17:01:07.878 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 17:01:07.879 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 17:01:19.942 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:01:19.956 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:01:19.958 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 17:01:19.959 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:19.960 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:19.961 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:01:19.962 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:01:19.963 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:01:19.964 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 17:01:19.987 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 17:01:19.990 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:19.991 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 17:01:19.992 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:19.993 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:01:19.997 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:20.000 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:20.002 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:20.004 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:20.005 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 17:01:20.006 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 17:01:20.010 +06:00 [DBG] The unchanged property 'Product.UserId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:01:20.011 +06:00 [DBG] The foreign key property 'Product.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:01:20.013 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 17:01:20.015 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 17:01:20.016 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:01:20.017 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:01:20.019 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 17:01:20.031 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:20.032 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:20.033 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 17:01:20.035 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 17:01:20.036 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:01:20.037 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:01:20.038 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:01:20.039 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-10-03 17:01:20.051 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-10-03 17:01:20.054 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:01:20.060 +06:00 [DBG] The foreign key property 'Transactions.ProductsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:01:20.063 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:20.064 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-10-03 17:01:20.066 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:01:20.066 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:01:20.067 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:01:20.068 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-10-03 17:01:20.075 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-10-03 17:01:20.078 +06:00 [DBG] The foreign key property 'Transactions.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:01:20.080 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:20.081 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 17:01:20.083 +06:00 [DBG] Committing transaction.
2024-10-03 17:01:20.085 +06:00 [DBG] Committed transaction.
2024-10-03 17:01:20.085 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:20.086 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:01:20.087 +06:00 [DBG] Disposing transaction.
2024-10-03 17:01:20.089 +06:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:20.091 +06:00 [DBG] An entity of type 'Transactions' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:20.093 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2024-10-03 17:01:23.908 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:01:23.911 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:01:23.911 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:01:23.912 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:01:23.913 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 17:01:23.914 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-10-03 17:01:23.915 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 16052.5259ms
2024-10-03 17:01:23.917 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 17:01:25.781 +06:00 [INF] HTTP POST /api/Product/BuyProduct responded 200 in 17932.8052 ms
2024-10-03 17:01:26.313 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:01:26.316 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:26.318 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 17:01:27.073 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 200 null application/json; charset=utf-8 19239.3566ms
2024-10-03 17:01:34.999 +06:00 [DBG] Connection id "0HN73J75G4M09" received FIN.
2024-10-03 17:01:35.004 +06:00 [DBG] Connection id "0HN73J75G4M09" is closed. The last processed stream ID was 1.
2024-10-03 17:01:35.004 +06:00 [DBG] The connection queue processing loop for 0HN73J75G4M09 completed.
2024-10-03 17:01:35.005 +06:00 [DBG] Connection id "0HN73J75G4M09" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:01:35.014 +06:00 [DBG] Connection id "0HN73J75G4M09" stopped.
2024-10-03 17:01:36.640 +06:00 [DBG] Connection id "0HN73J75G4M0A" accepted.
2024-10-03 17:01:36.642 +06:00 [DBG] Connection id "0HN73J75G4M0A" started.
2024-10-03 17:01:36.645 +06:00 [DBG] Connection 0HN73J75G4M0A established using the following protocol: "Tls12"
2024-10-03 17:01:36.649 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 17:01:36.652 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:01:36.653 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:01:36.655 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:01:36.657 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:01:36.659 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:01:36.659 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:01:36.661 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:01:36.665 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:01:36.666 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:01:36.667 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:01:36.668 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:01:36.669 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:01:36.670 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:01:36.673 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:01:36.675 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:01:36.676 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:01:36.677 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 17:01:36.679 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 17:01:36.680 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:01:36.681 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:01:36.682 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 17:01:36.683 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:01:36.684 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:01:36.685 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 17:01:36.686 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:01:36.687 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:01:36.689 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 17:01:36.691 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:01:36.692 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:01:36.692 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:01:36.693 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:01:36.694 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:01:36.695 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:01:40.307 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:01:40.311 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:01:40.313 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 17:01:40.313 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.314 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.315 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:01:40.316 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:01:40.316 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:01:40.317 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:01:40.369 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:01:40.375 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.376 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 17:01:40.382 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.383 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:01:40.385 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.385 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.386 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:01:40.388 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:01:40.391 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-03 17:01:40.392 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:01:40.399 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:01:40.402 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:40.406 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:01:40.410 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.413 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-10-03 17:01:40.416 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.418 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:01:40.490 +06:00 [ERR] Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[DataAccess.Entities.Product, DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
2024-10-03 17:01:40.596 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 3923.0506ms
2024-10-03 17:01:40.598 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:01:40.649 +06:00 [ERR] Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[DataAccess.Entities.Product, DataAccess, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
2024-10-03 17:01:40.656 +06:00 [ERR] HTTP GET /api/Product/ShowAllProduct responded 500 in 3997.1942 ms
2024-10-03 17:01:40.659 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:01:40.660 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:01:40.661 +06:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-10-03 17:01:40.662 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 500 null application/json; charset=utf-8 4012.9586ms
2024-10-03 17:01:45.005 +06:00 [DBG] Connection id "0HN73J75G4M0A" received FIN.
2024-10-03 17:01:45.010 +06:00 [DBG] Connection id "0HN73J75G4M0A" is closed. The last processed stream ID was 1.
2024-10-03 17:01:45.010 +06:00 [DBG] The connection queue processing loop for 0HN73J75G4M0A completed.
2024-10-03 17:01:45.012 +06:00 [DBG] Connection id "0HN73J75G4M0A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:01:45.022 +06:00 [DBG] Connection id "0HN73J75G4M0A" stopped.
2024-10-03 17:02:04.890 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 17:02:04.994 +06:00 [DBG] Hosting starting
2024-10-03 17:02:05.036 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 17:02:05.044 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 17:02:05.050 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 17:02:05.051 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 17:02:05.055 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 17:02:05.058 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 17:02:05.059 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 17:02:05.065 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 17:02:05.070 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 17:02:05.072 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 17:02:05.074 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 17:02:05.078 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 17:02:05.082 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 17:02:05.087 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 17:02:05.089 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 17:02:05.281 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 17:02:05.285 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 17:02:05.286 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 17:02:05.286 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 17:02:05.287 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 17:02:05.288 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 17:02:05.288 +06:00 [INF] Hosting environment: Development
2024-10-03 17:02:05.289 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 17:02:05.289 +06:00 [DBG] Hosting started
2024-10-03 17:02:05.479 +06:00 [DBG] Connection id "0HN73JB8JTGS3" accepted.
2024-10-03 17:02:05.484 +06:00 [DBG] Connection id "0HN73JB8JTGS3" started.
2024-10-03 17:02:05.493 +06:00 [DBG] Connection id "0HN73JB8JTGS4" accepted.
2024-10-03 17:02:05.500 +06:00 [DBG] Connection id "0HN73JB8JTGS4" received FIN.
2024-10-03 17:02:05.500 +06:00 [DBG] Connection id "0HN73JB8JTGS3" received FIN.
2024-10-03 17:02:05.500 +06:00 [DBG] Connection id "0HN73JB8JTGS4" started.
2024-10-03 17:02:05.506 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 17:02:05.506 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 17:02:05.524 +06:00 [DBG] Connection id "0HN73JB8JTGS3" stopped.
2024-10-03 17:02:05.524 +06:00 [DBG] Connection id "0HN73JB8JTGS4" stopped.
2024-10-03 17:02:05.527 +06:00 [DBG] Connection id "0HN73JB8JTGS4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:02:05.527 +06:00 [DBG] Connection id "0HN73JB8JTGS3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:02:09.892 +06:00 [DBG] Connection id "0HN73JB8JTGS5" accepted.
2024-10-03 17:02:09.911 +06:00 [DBG] Connection id "0HN73JB8JTGS5" started.
2024-10-03 17:02:10.072 +06:00 [DBG] Connection 0HN73JB8JTGS5 established using the following protocol: "Tls12"
2024-10-03 17:02:10.206 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 17:02:10.427 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 17:02:10.449 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 17:02:10.453 +06:00 [DBG] Request did not match any endpoints
2024-10-03 17:02:10.714 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 17:02:10.750 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 17:02:10.755 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 562.0196ms
2024-10-03 17:02:10.800 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 17:02:10.807 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 7.1336ms
2024-10-03 17:02:10.810 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 17:02:10.910 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.1515ms
2024-10-03 17:02:10.976 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 17:02:10.978 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 17:02:10.979 +06:00 [DBG] Request did not match any endpoints
2024-10-03 17:02:11.277 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 301.1911ms
2024-10-03 17:02:13.992 +06:00 [DBG] Connection id "0HN73JB8JTGS5" received FIN.
2024-10-03 17:02:13.996 +06:00 [DBG] The connection queue processing loop for 0HN73JB8JTGS5 completed.
2024-10-03 17:02:14.000 +06:00 [DBG] Connection id "0HN73JB8JTGS5" is closed. The last processed stream ID was 7.
2024-10-03 17:02:14.002 +06:00 [DBG] Connection id "0HN73JB8JTGS5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:02:14.031 +06:00 [DBG] Connection id "0HN73JB8JTGS5" stopped.
2024-10-03 17:02:22.217 +06:00 [DBG] Connection id "0HN73JB8JTGS6" accepted.
2024-10-03 17:02:22.220 +06:00 [DBG] Connection id "0HN73JB8JTGS6" started.
2024-10-03 17:02:22.224 +06:00 [DBG] Connection 0HN73JB8JTGS6 established using the following protocol: "Tls12"
2024-10-03 17:02:22.230 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 17:02:22.242 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:02:22.246 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:02:22.251 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:02:22.255 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:02:22.341 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 17:02:22.345 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:02:22.374 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:02:22.378 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:02:22.379 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:02:22.380 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:02:22.381 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:02:22.383 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:02:22.386 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:02:22.565 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 17:02:22.719 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:02:22.744 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:02:22.752 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 17:02:22.758 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 17:02:22.760 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:02:22.761 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:02:22.763 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 17:02:22.764 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:02:22.767 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:02:22.769 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 17:02:22.770 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:02:22.771 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:02:22.772 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 17:02:22.773 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:02:22.774 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:02:22.775 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:02:22.776 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:02:22.777 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:02:22.784 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:02:28.019 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 17:02:28.023 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 17:02:28.221 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 17:02:28.460 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:02:28.565 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 17:02:28.768 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 17:02:28.826 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:02:28.866 +06:00 [DBG] Created DbConnection. (34ms).
2024-10-03 17:02:28.872 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.289 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.296 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:02:29.307 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-03 17:02:29.311 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (15ms).
2024-10-03 17:02:29.322 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:02:29.436 +06:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:02:29.472 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.487 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 37ms reading results.
2024-10-03 17:02:29.493 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.507 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (13ms).
2024-10-03 17:02:29.521 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 17:02:29.529 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:02:29.534 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:02:29.535 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:02:29.542 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:02:29.588 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 17:02:29.597 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.602 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.604 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:02:29.605 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:02:29.608 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 17:02:29.611 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:02:29.641 +06:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:02:29.677 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:02:29.751 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:02:29.754 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.756 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 110ms reading results.
2024-10-03 17:02:29.758 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:29.759 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:02:36.055 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:02:36.072 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:02:36.073 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:02:36.073 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:02:36.075 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 17:02:36.076 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 17:02:42.623 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 20233.2927ms
2024-10-03 17:02:42.628 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:02:44.208 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 21948.9966 ms
2024-10-03 17:02:44.657 +06:00 [DBG] Connection id "0HN73JB8JTGS6" received FIN.
2024-10-03 17:02:45.288 +06:00 [DBG] Connection id "0HN73JB8JTGS6" is closed. The last processed stream ID was 1.
2024-10-03 17:02:45.290 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:02:45.290 +06:00 [DBG] Connection id "0HN73JB8JTGS6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:02:45.295 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:02:45.299 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 17:02:46.238 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 24008.2107ms
2024-10-03 17:02:46.241 +06:00 [DBG] The connection queue processing loop for 0HN73JB8JTGS6 completed.
2024-10-03 17:02:46.264 +06:00 [DBG] Connection id "0HN73JB8JTGS6" stopped.
2024-10-03 17:19:03.030 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 17:19:03.434 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 17:19:03.437 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 17:19:03.557 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 17:19:03.670 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:19:03.688 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:19:26.446 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 17:19:26.830 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 17:19:26.833 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 17:19:26.953 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 17:19:27.057 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:19:27.096 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 17:19:27.096 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 17:19:27.107 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 17:19:28.879 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:19:38.378 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 17:19:38.823 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 17:19:38.824 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 17:19:38.945 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 17:19:39.054 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:19:39.069 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:19:39.096 +06:00 [DBG] Created DbConnection. (24ms).
2024-10-03 17:19:39.099 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.105 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.413 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.421 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-03 17:19:39.427 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (5ms).
2024-10-03 17:19:39.429 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (10ms).
2024-10-03 17:19:39.435 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-03 17:19:39.460 +06:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-03 17:19:39.462 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.473 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-10-03 17:19:39.475 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-03 17:19:39.475 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-10-03 17:19:39.475 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-10-03 17:19:39.475 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.476 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.476 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-03 17:19:39.491 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-03 17:19:39.491 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.492 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:19:39.493 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.493 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.493 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-03 17:19:39.493 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:39.493 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:39.493 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-03 17:19:39.495 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-10-03 17:19:39.495 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.495 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:19:39.495 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-10-03 17:19:39.495 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-10-03 17:19:39.495 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-10-03 17:19:39.496 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.496 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.496 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-03 17:19:39.496 +06:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-10-03 17:19:39.497 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.497 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:19:39.506 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.506 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.506 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:19:39.507 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:19:39.507 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:19:39.507 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-10-03 17:19:39.519 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-10-03 17:19:39.522 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.522 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 17:19:39.523 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.523 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:19:39.531 +06:00 [INF] Applying migration '20241003111928_sku set unique'.
2024-10-03 17:19:39.581 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.635 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:39.640 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 17:19:39.647 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 17:19:39.648 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-03 17:19:39.649 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:39.650 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-10-03 17:19:39.650 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Transactions_ProductsId] ON [Transactions];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Transactions]') AND [c].[name] = N'ProductsId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Transactions] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Transactions] SET [ProductsId] = 0 WHERE [ProductsId] IS NULL;
ALTER TABLE [Transactions] ALTER COLUMN [ProductsId] int NOT NULL;
ALTER TABLE [Transactions] ADD DEFAULT 0 FOR [ProductsId];
CREATE INDEX [IX_Transactions_ProductsId] ON [Transactions] ([ProductsId]);
2024-10-03 17:19:50.933 +06:00 [INF] Executed DbCommand (11,283ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX [IX_Transactions_ProductsId] ON [Transactions];
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Transactions]') AND [c].[name] = N'ProductsId');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [Transactions] DROP CONSTRAINT [' + @var0 + '];');
UPDATE [Transactions] SET [ProductsId] = 0 WHERE [ProductsId] IS NULL;
ALTER TABLE [Transactions] ALTER COLUMN [ProductsId] int NOT NULL;
ALTER TABLE [Transactions] ADD DEFAULT 0 FOR [ProductsId];
CREATE INDEX [IX_Transactions_ProductsId] ON [Transactions] ([ProductsId]);
2024-10-03 17:19:50.933 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-03 17:19:50.933 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:50.934 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:50.934 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'SKU');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Products] ALTER COLUMN [SKU] nvarchar(450) NOT NULL;
2024-10-03 17:19:55.604 +06:00 [INF] Executed DbCommand (4,670ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Products]') AND [c].[name] = N'SKU');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Products] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Products] ALTER COLUMN [SKU] nvarchar(450) NOT NULL;
2024-10-03 17:19:55.604 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-03 17:19:55.604 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:55.604 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:55.604 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Products_SKU] ON [Products] ([SKU]);
2024-10-03 17:19:55.621 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX [IX_Products_SKU] ON [Products] ([SKU]);
2024-10-03 17:19:55.622 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-10-03 17:19:55.622 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:55.622 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-10-03 17:19:55.622 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241003111928_sku set unique', N'8.0.8');
2024-10-03 17:19:55.632 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20241003111928_sku set unique', N'8.0.8');
2024-10-03 17:19:55.633 +06:00 [DBG] Committing transaction.
2024-10-03 17:19:55.636 +06:00 [DBG] Committed transaction.
2024-10-03 17:19:55.637 +06:00 [DBG] Disposing transaction.
2024-10-03 17:19:55.637 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:55.638 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:19:55.639 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:19:55.641 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:19:55.642 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 17:26:33.186 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 17:26:33.315 +06:00 [DBG] Hosting starting
2024-10-03 17:26:33.380 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 17:26:33.393 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 17:26:33.407 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 17:26:33.409 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 17:26:33.419 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 17:26:33.429 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 17:26:33.430 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 17:26:33.438 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 17:26:33.444 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 17:26:33.449 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 17:26:33.452 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 17:26:33.456 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 17:26:33.462 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 17:26:33.468 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 17:26:33.470 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 17:26:33.708 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 17:26:33.711 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 17:26:33.711 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 17:26:33.712 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 17:26:33.714 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 17:26:33.714 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 17:26:33.715 +06:00 [INF] Hosting environment: Development
2024-10-03 17:26:33.715 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 17:26:33.716 +06:00 [DBG] Hosting started
2024-10-03 17:26:33.983 +06:00 [DBG] Connection id "0HN73JOU8LFGP" accepted.
2024-10-03 17:26:33.986 +06:00 [DBG] Connection id "0HN73JOU8LFGP" started.
2024-10-03 17:26:33.995 +06:00 [DBG] Connection id "0HN73JOU8LFGP" received FIN.
2024-10-03 17:26:34.005 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 17:26:34.025 +06:00 [DBG] Connection id "0HN73JOU8LFGP" stopped.
2024-10-03 17:26:34.029 +06:00 [DBG] Connection id "0HN73JOU8LFGP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:26:37.319 +06:00 [DBG] Connection id "0HN73JOU8LFGQ" accepted.
2024-10-03 17:26:37.411 +06:00 [DBG] Connection id "0HN73JOU8LFGQ" started.
2024-10-03 17:26:37.502 +06:00 [DBG] Connection 0HN73JOU8LFGQ established using the following protocol: "Tls12"
2024-10-03 17:26:37.599 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 17:26:37.757 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 17:26:37.783 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 17:26:37.784 +06:00 [DBG] Request did not match any endpoints
2024-10-03 17:26:37.946 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 17:26:37.976 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 17:26:37.981 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 393.1778ms
2024-10-03 17:26:38.026 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 17:26:38.029 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 17:26:38.042 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.0931ms
2024-10-03 17:26:38.120 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 90.9654ms
2024-10-03 17:26:38.167 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 17:26:38.169 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 17:26:38.170 +06:00 [DBG] Request did not match any endpoints
2024-10-03 17:26:38.452 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 285.6034ms
2024-10-03 17:26:41.886 +06:00 [DBG] Connection id "0HN73JOU8LFGQ" received FIN.
2024-10-03 17:26:41.892 +06:00 [DBG] The connection queue processing loop for 0HN73JOU8LFGQ completed.
2024-10-03 17:26:41.894 +06:00 [DBG] Connection id "0HN73JOU8LFGQ" is closed. The last processed stream ID was 7.
2024-10-03 17:26:41.896 +06:00 [DBG] Connection id "0HN73JOU8LFGQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:26:41.915 +06:00 [DBG] Connection id "0HN73JOU8LFGQ" stopped.
2024-10-03 17:27:37.661 +06:00 [DBG] Connection id "0HN73JOU8LFGR" accepted.
2024-10-03 17:27:37.671 +06:00 [DBG] Connection id "0HN73JOU8LFGR" started.
2024-10-03 17:27:37.683 +06:00 [DBG] Connection 0HN73JOU8LFGR established using the following protocol: "Tls12"
2024-10-03 17:27:37.693 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 17:27:37.706 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 17:27:37.710 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 17:27:37.713 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 17:27:37.717 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:27:37.722 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:27:37.722 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:27:37.827 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 17:27:37.836 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 17:27:37.868 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 17:27:37.874 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:27:37.875 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:27:37.876 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:27:37.878 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:27:37.878 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:27:37.881 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 17:27:38.138 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 17:27:38.345 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 17:27:38.361 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 17:27:38.364 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 17:27:38.367 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:27:38.379 +06:00 [DBG] Connection id "0HN73JOU8LFGR", Request id "0HN73JOU8LFGR:00000001": started reading request body.
2024-10-03 17:27:38.381 +06:00 [DBG] Connection id "0HN73JOU8LFGR", Request id "0HN73JOU8LFGR:00000001": done reading request body.
2024-10-03 17:27:38.398 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 17:27:38.404 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 17:27:38.406 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 17:27:38.407 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 17:27:38.413 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 17:27:39.149 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 17:27:39.152 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 17:27:39.347 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 17:27:39.833 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:27:39.993 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 17:27:40.387 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 17:27:40.477 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:27:40.524 +06:00 [DBG] Created DbConnection. (41ms).
2024-10-03 17:27:40.537 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.097 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.104 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:27:41.117 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-10-03 17:27:41.139 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (34ms).
2024-10-03 17:27:41.159 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 17:27:41.347 +06:00 [INF] Executed DbCommand (193ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 17:27:41.412 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.442 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 70ms reading results.
2024-10-03 17:27:41.454 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.471 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (18ms).
2024-10-03 17:27:41.642 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 17:27:41.699 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 17:27:41.710 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.715 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.717 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:27:41.718 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:27:41.719 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:27:41.720 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 17:27:41.729 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 17:27:41.733 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.736 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-10-03 17:27:41.737 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.738 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:27:41.775 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:27:41.779 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:27:41.780 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:27:41.781 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:27:41.784 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 17:27:41.786 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 17:27:41.798 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3915.5229ms
2024-10-03 17:27:41.800 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 17:27:41.805 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4079.2612 ms
2024-10-03 17:27:41.809 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:27:41.813 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:27:41.815 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 17:27:41.822 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4130.9552ms
2024-10-03 17:27:47.064 +06:00 [DBG] Connection id "0HN73JOU8LFGR" received FIN.
2024-10-03 17:27:47.070 +06:00 [DBG] Connection id "0HN73JOU8LFGR" is closed. The last processed stream ID was 1.
2024-10-03 17:27:47.071 +06:00 [DBG] The connection queue processing loop for 0HN73JOU8LFGR completed.
2024-10-03 17:27:47.072 +06:00 [DBG] Connection id "0HN73JOU8LFGR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:27:47.081 +06:00 [DBG] Connection id "0HN73JOU8LFGR" stopped.
2024-10-03 17:28:13.630 +06:00 [DBG] Connection id "0HN73JOU8LFGS" accepted.
2024-10-03 17:28:13.642 +06:00 [DBG] Connection id "0HN73JOU8LFGS" started.
2024-10-03 17:28:13.650 +06:00 [DBG] Connection 0HN73JOU8LFGS established using the following protocol: "Tls12"
2024-10-03 17:28:13.662 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 17:28:13.674 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:28:13.675 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:28:13.676 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:28:13.677 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:28:13.747 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:28:13.750 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:28:13.751 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:28:13.759 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:28:13.761 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:28:13.762 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:28:13.765 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:28:13.767 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:28:13.768 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:28:13.769 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:28:13.771 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:28:13.773 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:28:13.774 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 17:28:13.781 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 17:28:13.784 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:28:13.785 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:28:13.787 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 17:28:13.788 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:28:13.789 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:28:13.791 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 17:28:13.792 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:28:13.793 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:28:13.794 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 17:28:13.797 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:28:13.798 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:28:13.799 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:28:13.800 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:28:13.801 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:28:13.803 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:28:18.331 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:28:18.336 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 17:28:18.392 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 17:28:18.408 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:28:18.409 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 17:28:18.410 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.410 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.414 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:28:18.414 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:28:18.415 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:28:18.416 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:28:18.426 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:28:18.449 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.450 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 17:28:18.452 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.454 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-10-03 17:28:18.457 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 17:28:18.460 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:28:18.461 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:28:18.463 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:28:18.471 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:28:18.477 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 17:28:18.483 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.484 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.485 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:28:18.486 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:28:18.487 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:28:18.488 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:28:18.495 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:28:18.523 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:28:18.569 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:28:18.572 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.573 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 74ms reading results.
2024-10-03 17:28:18.575 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:18.576 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:28:20.642 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:28:20.648 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:28:20.650 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:28:20.651 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:28:20.652 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 17:28:20.654 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 17:28:23.888 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 10119.4261ms
2024-10-03 17:28:23.892 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:28:23.895 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 10216.8275 ms
2024-10-03 17:28:23.900 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:28:23.902 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:28:23.904 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 17:28:23.906 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 10244.904ms
2024-10-03 17:28:27.137 +06:00 [DBG] Connection id "0HN73JOU8LFGS" received FIN.
2024-10-03 17:28:27.142 +06:00 [DBG] Connection id "0HN73JOU8LFGS" is closed. The last processed stream ID was 1.
2024-10-03 17:28:27.142 +06:00 [DBG] The connection queue processing loop for 0HN73JOU8LFGS completed.
2024-10-03 17:28:27.143 +06:00 [DBG] Connection id "0HN73JOU8LFGS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:28:27.151 +06:00 [DBG] Connection id "0HN73JOU8LFGS" stopped.
2024-10-03 17:29:09.327 +06:00 [DBG] Connection id "0HN73JOU8LFGT" accepted.
2024-10-03 17:29:09.354 +06:00 [DBG] Connection id "0HN73JOU8LFGT" started.
2024-10-03 17:29:09.368 +06:00 [DBG] Connection 0HN73JOU8LFGT established using the following protocol: "Tls12"
2024-10-03 17:29:09.379 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 85
2024-10-03 17:29:09.387 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 17:29:09.390 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 17:29:09.392 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:29:09.394 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:29:09.395 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:29:09.397 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:29:09.401 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:29:09.402 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:29:09.410 +06:00 [DBG] Authorization was successful.
2024-10-03 17:29:09.411 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:29:09.417 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:29:09.420 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:29:09.422 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:29:09.424 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:29:09.427 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:29:09.428 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:29:09.430 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:29:09.433 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:29:09.434 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:29:09.436 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 17:29:09.437 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:29:09.442 +06:00 [DBG] Connection id "0HN73JOU8LFGT", Request id "0HN73JOU8LFGT:00000001": started reading request body.
2024-10-03 17:29:09.443 +06:00 [DBG] Connection id "0HN73JOU8LFGT", Request id "0HN73JOU8LFGT:00000001": done reading request body.
2024-10-03 17:29:09.452 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 17:29:09.453 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:29:09.454 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:29:09.457 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:29:09.461 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:29:31.547 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:29:31.554 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 17:29:31.560 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 17:29:31.562 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:29:31.563 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 17:29:31.564 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:29:31.564 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:29:31.565 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:29:31.566 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:29:31.566 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:29:31.567 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:29:31.742 +06:00 [INF] Executed DbCommand (175ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:29:31.748 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:29:31.751 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 17:29:31.753 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:29:31.755 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:29:36.107 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:30:07.293 +06:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
Product -> AddTransactionDto
DataAccess.Entities.Product -> Service.dtos.AddTransactionDto
2024-10-03 17:30:18.672 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:30:18.681 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:30:18.686 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:30:18.688 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:30:18.691 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 17:30:18.694 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-10-03 17:30:18.697 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 69267.0301ms
2024-10-03 17:30:18.700 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:30:20.462 +06:00 [INF] HTTP POST /api/Product/SellProduct responded 400 in 71064.4042 ms
2024-10-03 17:30:21.174 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:30:21.195 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:30:21.199 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 17:30:22.355 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 400 0 text/plain; charset=utf-8 72979.037ms
2024-10-03 17:30:27.344 +06:00 [DBG] Connection id "0HN73JOU8LFGT" received FIN.
2024-10-03 17:30:27.350 +06:00 [DBG] Connection id "0HN73JOU8LFGT" is closed. The last processed stream ID was 1.
2024-10-03 17:30:27.350 +06:00 [DBG] The connection queue processing loop for 0HN73JOU8LFGT completed.
2024-10-03 17:30:27.351 +06:00 [DBG] Connection id "0HN73JOU8LFGT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:30:27.361 +06:00 [DBG] Connection id "0HN73JOU8LFGT" stopped.
2024-10-03 17:30:28.274 +06:00 [DBG] Connection id "0HN73JOU8LFGU" accepted.
2024-10-03 17:30:28.277 +06:00 [DBG] Connection id "0HN73JOU8LFGU" started.
2024-10-03 17:30:28.282 +06:00 [DBG] Connection 0HN73JOU8LFGU established using the following protocol: "Tls12"
2024-10-03 17:30:28.284 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 85
2024-10-03 17:30:28.300 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 17:30:28.301 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 17:30:28.306 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:30:28.307 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:30:28.308 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:30:28.309 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:30:32.129 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:30:32.131 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:30:32.136 +06:00 [DBG] Authorization was successful.
2024-10-03 17:30:32.138 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:30:32.139 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:30:32.148 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:30:32.151 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:30:32.153 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:30:32.160 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:30:32.167 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:30:32.171 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:30:32.188 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:30:32.193 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:30:32.198 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 17:30:32.202 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:30:32.209 +06:00 [DBG] Connection id "0HN73JOU8LFGU", Request id "0HN73JOU8LFGU:00000001": started reading request body.
2024-10-03 17:30:32.215 +06:00 [DBG] Connection id "0HN73JOU8LFGU", Request id "0HN73JOU8LFGU:00000001": done reading request body.
2024-10-03 17:30:32.218 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 17:30:32.222 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:30:32.225 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:30:32.226 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:30:32.229 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:30:33.151 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:30:33.159 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:30:33.161 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 17:30:33.163 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:30:33.166 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:30:33.167 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:30:33.168 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:30:33.169 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:30:33.170 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:30:33.190 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:30:33.202 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:30:33.208 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-10-03 17:30:33.214 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:30:33.218 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (3ms).
2024-10-03 17:30:33.225 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:30:33.264 +06:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
Product -> AddTransactionDto
DataAccess.Entities.Product -> Service.dtos.AddTransactionDto
2024-10-03 17:30:36.421 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:30:36.428 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:30:36.430 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:30:36.433 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:30:36.435 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 17:30:36.439 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-10-03 17:30:36.442 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 4271.6358ms
2024-10-03 17:30:36.449 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:30:37.616 +06:00 [INF] HTTP POST /api/Product/SellProduct responded 400 in 9306.6814 ms
2024-10-03 17:30:39.342 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:30:39.347 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:30:39.351 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 17:30:40.146 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 400 0 text/plain; charset=utf-8 11861.9154ms
2024-10-03 17:30:43.771 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 85
2024-10-03 17:30:43.775 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 17:30:43.781 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 17:30:43.786 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:30:43.790 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:30:43.792 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:30:43.795 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:30:43.798 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:30:43.799 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:30:43.802 +06:00 [DBG] Authorization was successful.
2024-10-03 17:30:43.806 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:30:43.808 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:30:43.819 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:30:43.820 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:30:43.822 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:30:43.828 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:30:43.830 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:30:43.833 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:30:43.836 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:30:43.841 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:30:43.845 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 17:30:43.847 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:30:43.849 +06:00 [DBG] Connection id "0HN73JOU8LFGU", Request id "0HN73JOU8LFGU:00000003": started reading request body.
2024-10-03 17:30:43.850 +06:00 [DBG] Connection id "0HN73JOU8LFGU", Request id "0HN73JOU8LFGU:00000003": done reading request body.
2024-10-03 17:30:43.851 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 17:30:43.855 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:30:43.856 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:30:43.858 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:30:43.863 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:31:00.271 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:31:00.274 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:31:00.275 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 17:31:00.276 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:31:00.278 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:31:00.278 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:31:00.279 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:31:00.281 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:31:00.282 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:31:00.308 +06:00 [INF] Executed DbCommand (26ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:31:00.314 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:31:00.315 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 17:31:00.318 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:31:00.320 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:31:57.370 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:44:26.044 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 17:44:26.167 +06:00 [DBG] Hosting starting
2024-10-03 17:44:26.224 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 17:44:26.238 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 17:44:26.260 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 17:44:26.263 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 17:44:26.270 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 17:44:26.277 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 17:44:26.278 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 17:44:26.282 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 17:44:26.287 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 17:44:26.291 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 17:44:26.294 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 17:44:26.298 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 17:44:26.303 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 17:44:26.310 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 17:44:26.313 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 17:44:26.755 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 17:44:26.756 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 17:44:26.757 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 17:44:26.759 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 17:44:26.760 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 17:44:26.763 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 17:44:26.766 +06:00 [INF] Hosting environment: Development
2024-10-03 17:44:26.775 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 17:44:26.779 +06:00 [DBG] Hosting started
2024-10-03 17:44:26.979 +06:00 [DBG] Connection id "0HN73K2U1HNK6" accepted.
2024-10-03 17:44:26.980 +06:00 [DBG] Connection id "0HN73K2U1HNK7" accepted.
2024-10-03 17:44:26.986 +06:00 [DBG] Connection id "0HN73K2U1HNK6" started.
2024-10-03 17:44:26.987 +06:00 [DBG] Connection id "0HN73K2U1HNK7" started.
2024-10-03 17:44:27.020 +06:00 [DBG] Connection id "0HN73K2U1HNK6" received FIN.
2024-10-03 17:44:27.020 +06:00 [DBG] Connection id "0HN73K2U1HNK7" received FIN.
2024-10-03 17:44:27.033 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 17:44:27.033 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 17:44:27.059 +06:00 [DBG] Connection id "0HN73K2U1HNK6" stopped.
2024-10-03 17:44:27.063 +06:00 [DBG] Connection id "0HN73K2U1HNK7" stopped.
2024-10-03 17:44:27.065 +06:00 [DBG] Connection id "0HN73K2U1HNK6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:44:27.065 +06:00 [DBG] Connection id "0HN73K2U1HNK7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:44:31.108 +06:00 [DBG] Connection id "0HN73K2U1HNK8" accepted.
2024-10-03 17:44:31.117 +06:00 [DBG] Connection id "0HN73K2U1HNK8" started.
2024-10-03 17:44:31.267 +06:00 [DBG] Connection 0HN73K2U1HNK8 established using the following protocol: "Tls12"
2024-10-03 17:44:31.476 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 17:44:31.741 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 17:44:31.765 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 17:44:31.766 +06:00 [DBG] Request did not match any endpoints
2024-10-03 17:44:31.982 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 17:44:32.031 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 17:44:32.038 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 612.9399ms
2024-10-03 17:44:32.098 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 17:44:32.098 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 17:44:32.131 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 32.6775ms
2024-10-03 17:44:32.196 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 98.0839ms
2024-10-03 17:44:32.273 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 17:44:32.277 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 17:44:32.279 +06:00 [DBG] Request did not match any endpoints
2024-10-03 17:44:32.596 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 323.3851ms
2024-10-03 17:44:34.634 +06:00 [DBG] Connection id "0HN73K2U1HNK8" received FIN.
2024-10-03 17:44:34.641 +06:00 [DBG] The connection queue processing loop for 0HN73K2U1HNK8 completed.
2024-10-03 17:44:34.646 +06:00 [DBG] Connection id "0HN73K2U1HNK8" is closed. The last processed stream ID was 7.
2024-10-03 17:44:34.648 +06:00 [DBG] Connection id "0HN73K2U1HNK8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:44:34.660 +06:00 [DBG] Connection id "0HN73K2U1HNK8" stopped.
2024-10-03 17:44:52.471 +06:00 [DBG] Connection id "0HN73K2U1HNK9" accepted.
2024-10-03 17:44:52.474 +06:00 [DBG] Connection id "0HN73K2U1HNK9" started.
2024-10-03 17:44:52.488 +06:00 [DBG] Connection 0HN73K2U1HNK9 established using the following protocol: "Tls12"
2024-10-03 17:44:52.495 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 17:44:52.507 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 17:44:52.512 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 17:44:52.516 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 17:44:52.524 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:44:52.527 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:44:52.528 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:44:52.660 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 17:44:52.667 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 17:44:52.710 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 17:44:52.720 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:44:52.723 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:44:52.725 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:44:52.728 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:44:52.730 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:44:52.738 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 17:44:53.008 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 17:44:53.314 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 17:44:53.344 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 17:44:53.352 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 17:44:53.362 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:44:53.384 +06:00 [DBG] Connection id "0HN73K2U1HNK9", Request id "0HN73K2U1HNK9:00000001": started reading request body.
2024-10-03 17:44:53.386 +06:00 [DBG] Connection id "0HN73K2U1HNK9", Request id "0HN73K2U1HNK9:00000001": done reading request body.
2024-10-03 17:44:53.404 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 17:44:53.407 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 17:44:53.410 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 17:44:53.412 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 17:44:53.429 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 17:44:54.208 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 17:44:54.213 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 17:44:54.441 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 17:44:54.687 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:44:54.856 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 17:44:55.188 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 17:44:55.278 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:44:55.312 +06:00 [DBG] Created DbConnection. (30ms).
2024-10-03 17:44:55.320 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:56.329 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:56.342 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:44:56.359 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (17ms).
2024-10-03 17:44:56.379 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (38ms).
2024-10-03 17:44:56.395 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 17:44:56.546 +06:00 [INF] Executed DbCommand (150ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 17:44:56.604 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:56.620 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 56ms reading results.
2024-10-03 17:44:56.630 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:56.646 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (16ms).
2024-10-03 17:44:56.884 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 17:44:56.983 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 17:44:56.992 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:56.995 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:57.001 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:44:57.003 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:44:57.005 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-03 17:44:57.008 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 17:44:57.039 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 17:44:57.050 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:57.053 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-10-03 17:44:57.056 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:57.061 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-10-03 17:44:57.124 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:44:57.129 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:44:57.130 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:44:57.132 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:44:57.134 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 17:44:57.136 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 17:44:57.160 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4419.3303ms
2024-10-03 17:44:57.167 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 17:44:57.178 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4636.8412 ms
2024-10-03 17:44:57.189 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:44:57.195 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:44:57.200 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 17:44:57.211 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4715.4834ms
2024-10-03 17:45:00.776 +06:00 [DBG] Connection id "0HN73K2U1HNK9" received FIN.
2024-10-03 17:45:00.780 +06:00 [DBG] Connection id "0HN73K2U1HNK9" is closed. The last processed stream ID was 1.
2024-10-03 17:45:00.780 +06:00 [DBG] The connection queue processing loop for 0HN73K2U1HNK9 completed.
2024-10-03 17:45:00.784 +06:00 [DBG] Connection id "0HN73K2U1HNK9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:45:00.796 +06:00 [DBG] Connection id "0HN73K2U1HNK9" stopped.
2024-10-03 17:45:23.354 +06:00 [DBG] Connection id "0HN73K2U1HNKA" accepted.
2024-10-03 17:45:23.367 +06:00 [DBG] Connection id "0HN73K2U1HNKA" started.
2024-10-03 17:45:23.375 +06:00 [DBG] Connection 0HN73K2U1HNKA established using the following protocol: "Tls12"
2024-10-03 17:45:23.400 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 17:45:23.424 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:45:23.431 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 17:45:23.437 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:45:23.440 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:45:23.539 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:45:23.545 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:45:23.548 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:45:23.569 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:45:23.573 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:45:23.574 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:45:23.575 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:45:23.581 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:45:23.583 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:45:23.585 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:45:23.590 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:45:23.593 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:45:23.599 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 17:45:23.607 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 17:45:23.610 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:45:23.618 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 17:45:23.621 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 17:45:23.623 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:45:23.625 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 17:45:23.626 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 17:45:23.631 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:45:23.635 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 17:45:23.636 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 17:45:23.639 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:45:23.641 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 17:45:23.643 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:45:23.643 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:45:23.648 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 17:45:23.654 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 17:45:31.095 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:45:31.100 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 17:45:31.152 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 17:45:31.168 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:45:31.170 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 17:45:31.171 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.172 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.174 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:45:31.175 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:45:31.181 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-03 17:45:31.183 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:45:31.191 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 17:45:31.229 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.231 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 31ms reading results.
2024-10-03 17:45:31.232 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.234 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:45:31.237 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 17:45:31.241 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:45:31.242 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:45:31.247 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:45:31.255 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 17:45:31.264 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 17:45:31.272 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.273 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.274 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:45:31.275 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:45:31.281 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-03 17:45:31.282 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:45:31.292 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 17:45:31.337 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:45:31.394 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:45:31.398 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.399 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 97ms reading results.
2024-10-03 17:45:31.401 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:31.403 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:45:32.711 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:45:32.715 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:45:32.716 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:45:32.719 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:45:32.722 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 17:45:32.727 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 17:45:38.227 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 14641.1583ms
2024-10-03 17:45:38.229 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 17:45:39.680 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 16232.6770 ms
2024-10-03 17:45:40.726 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:45:40.763 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:45:40.767 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 17:45:41.149 +06:00 [DBG] Connection id "0HN73K2U1HNKA" received FIN.
2024-10-03 17:45:41.516 +06:00 [DBG] Connection id "0HN73K2U1HNKA" is closed. The last processed stream ID was 1.
2024-10-03 17:45:41.518 +06:00 [DBG] Connection id "0HN73K2U1HNKA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:45:41.520 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 18119.8896ms
2024-10-03 17:45:41.527 +06:00 [DBG] The connection queue processing loop for 0HN73K2U1HNKA completed.
2024-10-03 17:45:41.552 +06:00 [DBG] Connection id "0HN73K2U1HNKA" stopped.
2024-10-03 17:45:55.163 +06:00 [DBG] Connection id "0HN73K2U1HNKB" accepted.
2024-10-03 17:45:55.166 +06:00 [DBG] Connection id "0HN73K2U1HNKB" started.
2024-10-03 17:45:55.178 +06:00 [DBG] Connection 0HN73K2U1HNKB established using the following protocol: "Tls12"
2024-10-03 17:45:55.182 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 85
2024-10-03 17:45:55.186 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 17:45:55.188 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 17:45:55.196 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:45:55.199 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:45:55.202 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:45:55.203 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:45:55.211 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:45:55.214 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:45:55.222 +06:00 [DBG] Authorization was successful.
2024-10-03 17:45:55.226 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:45:55.232 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:45:55.234 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:45:55.235 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:45:55.236 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:45:55.238 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:45:55.246 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:45:55.250 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:45:55.255 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:45:55.257 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:45:55.261 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 17:45:55.263 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:45:55.266 +06:00 [DBG] Connection id "0HN73K2U1HNKB", Request id "0HN73K2U1HNKB:00000001": started reading request body.
2024-10-03 17:45:55.267 +06:00 [DBG] Connection id "0HN73K2U1HNKB", Request id "0HN73K2U1HNKB:00000001": done reading request body.
2024-10-03 17:45:55.270 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 17:45:55.272 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:45:55.279 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:45:55.280 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:45:55.288 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:46:12.213 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:46:12.219 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 17:46:12.229 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 17:46:12.237 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:46:12.242 +06:00 [DBG] Created DbConnection. (5ms).
2024-10-03 17:46:12.243 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:46:12.246 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:46:12.248 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:46:12.249 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:46:12.250 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:46:12.252 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:46:12.300 +06:00 [INF] Executed DbCommand (48ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:46:12.306 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:46:12.307 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 17:46:12.308 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:46:12.309 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 17:46:14.606 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 17:46:14.615 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 17:46:14.618 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 17:46:14.619 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 17:46:14.626 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-10-03 17:46:14.628 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-10-03 17:46:14.630 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 19380.0903ms
2024-10-03 17:46:14.632 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:46:16.229 +06:00 [INF] HTTP POST /api/Product/SellProduct responded 400 in 21024.7670 ms
2024-10-03 17:46:17.479 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 17:46:17.481 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:46:17.483 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 17:46:18.197 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 400 0 text/plain; charset=utf-8 23015.4871ms
2024-10-03 17:46:25.905 +06:00 [DBG] Connection id "0HN73K2U1HNKB" received FIN.
2024-10-03 17:46:25.909 +06:00 [DBG] Connection id "0HN73K2U1HNKB" is closed. The last processed stream ID was 1.
2024-10-03 17:46:25.909 +06:00 [DBG] The connection queue processing loop for 0HN73K2U1HNKB completed.
2024-10-03 17:46:25.911 +06:00 [DBG] Connection id "0HN73K2U1HNKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 17:46:25.920 +06:00 [DBG] Connection id "0HN73K2U1HNKB" stopped.
2024-10-03 17:47:10.509 +06:00 [DBG] Connection id "0HN73K2U1HNKC" accepted.
2024-10-03 17:47:10.522 +06:00 [DBG] Connection id "0HN73K2U1HNKC" started.
2024-10-03 17:47:10.528 +06:00 [DBG] Connection 0HN73K2U1HNKC established using the following protocol: "Tls12"
2024-10-03 17:47:10.543 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 86
2024-10-03 17:47:10.551 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 17:47:10.553 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 17:47:10.559 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:47:10.564 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 17:47:10.569 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 17:47:10.571 +06:00 [INF] CORS policy execution successful.
2024-10-03 17:47:10.574 +06:00 [DBG] Successfully validated the token.
2024-10-03 17:47:10.575 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 17:47:10.580 +06:00 [DBG] Authorization was successful.
2024-10-03 17:47:10.585 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 17:47:10.588 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 17:47:10.595 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 17:47:10.600 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 17:47:10.603 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 17:47:10.607 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 17:47:10.608 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 17:47:10.610 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:47:10.618 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 17:47:10.620 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:47:10.622 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 17:47:10.625 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 17:47:10.627 +06:00 [DBG] Connection id "0HN73K2U1HNKC", Request id "0HN73K2U1HNKC:00000001": started reading request body.
2024-10-03 17:47:10.628 +06:00 [DBG] Connection id "0HN73K2U1HNKC", Request id "0HN73K2U1HNKC:00000001": done reading request body.
2024-10-03 17:47:10.634 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 17:47:10.635 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:47:10.637 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:47:10.638 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 17:47:10.640 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 17:48:23.809 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 17:48:23.814 +06:00 [DBG] Creating DbConnection.
2024-10-03 17:48:23.815 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 17:48:23.815 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:23.817 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:23.817 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:48:23.818 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 17:48:23.820 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 17:48:23.821 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:48:23.840 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 17:48:23.847 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:23.849 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 17:48:23.851 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:23.852 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:48:32.875 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:48:39.484 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:48:39.518 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 17:48:41.397 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 17:48:41.407 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 17:48:41.449 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 17:48:41.456 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 17:48:41.465 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 17:48:41.475 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 17:48:41.567 +06:00 [DBG] Executing 2 update commands as a batch.
2024-10-03 17:48:41.584 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:41.589 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:41.594 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 17:48:41.601 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 17:48:41.609 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 17:48:41.611 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 17:48:41.616 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-03 17:48:41.620 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 17:48:41.663 +06:00 [INF] Executed DbCommand (43ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 17:48:41.686 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:41.688 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 21ms reading results.
2024-10-03 17:48:41.701 +06:00 [DBG] Disposing transaction.
2024-10-03 17:48:41.711 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 17:48:41.712 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 17:48:41.738 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:63b5b139-839d-4013-91a3-32d223d77154
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:63b5b139-839d-4013-91a3-32d223d77154
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-03 18:02:53.851 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 18:02:54.124 +06:00 [DBG] Hosting starting
2024-10-03 18:02:54.208 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 18:02:54.237 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 18:02:54.250 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 18:02:54.252 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 18:02:54.260 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 18:02:54.264 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 18:02:54.264 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 18:02:54.269 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 18:02:54.272 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 18:02:54.274 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 18:02:54.276 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 18:02:54.279 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 18:02:54.283 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 18:02:54.286 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 18:02:54.287 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 18:02:54.673 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 18:02:54.674 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 18:02:54.676 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 18:02:54.677 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 18:02:54.678 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 18:02:54.680 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 18:02:54.680 +06:00 [DBG] Connection id "0HN73KD85DCDO" received FIN.
2024-10-03 18:02:54.680 +06:00 [DBG] Connection id "0HN73KD85DCDP" received FIN.
2024-10-03 18:02:54.682 +06:00 [INF] Hosting environment: Development
2024-10-03 18:02:54.689 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 18:02:54.691 +06:00 [DBG] Hosting started
2024-10-03 18:02:54.693 +06:00 [DBG] Connection id "0HN73KD85DCDO" accepted.
2024-10-03 18:02:54.693 +06:00 [DBG] Connection id "0HN73KD85DCDP" accepted.
2024-10-03 18:02:54.696 +06:00 [DBG] Connection id "0HN73KD85DCDO" started.
2024-10-03 18:02:54.697 +06:00 [DBG] Connection id "0HN73KD85DCDP" started.
2024-10-03 18:02:54.718 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 18:02:54.718 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 18:02:54.751 +06:00 [DBG] Connection id "0HN73KD85DCDO" stopped.
2024-10-03 18:02:54.751 +06:00 [DBG] Connection id "0HN73KD85DCDP" stopped.
2024-10-03 18:02:54.758 +06:00 [DBG] Connection id "0HN73KD85DCDO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:02:54.758 +06:00 [DBG] Connection id "0HN73KD85DCDP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:02:56.190 +06:00 [DBG] Connection id "0HN73KD85DCDQ" accepted.
2024-10-03 18:02:56.250 +06:00 [DBG] Connection id "0HN73KD85DCDQ" started.
2024-10-03 18:02:56.355 +06:00 [DBG] Connection 0HN73KD85DCDQ established using the following protocol: "Tls12"
2024-10-03 18:02:56.445 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 18:02:56.662 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 18:02:56.700 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 18:02:56.703 +06:00 [DBG] Request did not match any endpoints
2024-10-03 18:02:56.824 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 18:02:56.853 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 18:02:56.858 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 422.2414ms
2024-10-03 18:02:59.111 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 18:02:59.111 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 18:02:59.146 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 35.7094ms
2024-10-03 18:02:59.348 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 237.3342ms
2024-10-03 18:02:59.510 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 18:02:59.538 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 18:02:59.542 +06:00 [DBG] Request did not match any endpoints
2024-10-03 18:02:59.753 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 243.1555ms
2024-10-03 18:03:00.796 +06:00 [DBG] Connection id "0HN73KD85DCDQ" received FIN.
2024-10-03 18:03:00.801 +06:00 [DBG] Connection id "0HN73KD85DCDQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:03:00.816 +06:00 [DBG] Connection id "0HN73KD85DCDQ" is closed. The last processed stream ID was 7.
2024-10-03 18:03:00.865 +06:00 [DBG] The connection queue processing loop for 0HN73KD85DCDQ completed.
2024-10-03 18:03:00.873 +06:00 [DBG] Connection id "0HN73KD85DCDQ" stopped.
2024-10-03 18:03:26.757 +06:00 [DBG] Connection id "0HN73KD85DCDR" accepted.
2024-10-03 18:03:26.768 +06:00 [DBG] Connection id "0HN73KD85DCDR" started.
2024-10-03 18:03:26.785 +06:00 [DBG] Connection 0HN73KD85DCDR established using the following protocol: "Tls12"
2024-10-03 18:03:26.795 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 18:03:26.803 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 18:03:26.809 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 18:03:26.815 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 18:03:26.820 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 18:03:26.825 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 18:03:26.828 +06:00 [INF] CORS policy execution successful.
2024-10-03 18:03:27.001 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 18:03:27.010 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 18:03:27.065 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 18:03:27.078 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 18:03:27.086 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 18:03:27.094 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 18:03:27.103 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 18:03:27.108 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 18:03:27.117 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 18:03:27.379 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 18:03:27.711 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 18:03:27.747 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 18:03:27.759 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 18:03:27.769 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 18:03:27.789 +06:00 [DBG] Connection id "0HN73KD85DCDR", Request id "0HN73KD85DCDR:00000001": started reading request body.
2024-10-03 18:03:27.795 +06:00 [DBG] Connection id "0HN73KD85DCDR", Request id "0HN73KD85DCDR:00000001": done reading request body.
2024-10-03 18:03:27.829 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 18:03:27.835 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 18:03:27.842 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 18:03:27.848 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 18:03:27.868 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 18:03:28.543 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 18:03:28.546 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 18:03:28.696 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 18:03:28.865 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 18:03:28.994 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 18:03:29.183 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 18:03:29.233 +06:00 [DBG] Creating DbConnection.
2024-10-03 18:03:29.255 +06:00 [DBG] Created DbConnection. (19ms).
2024-10-03 18:03:29.260 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:29.666 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:29.676 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 18:03:29.683 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-03 18:03:29.699 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-10-03 18:03:29.711 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 18:03:29.816 +06:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 18:03:29.852 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:29.863 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 34ms reading results.
2024-10-03 18:03:29.872 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:29.880 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-10-03 18:03:30.063 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 18:03:30.112 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 18:03:30.117 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:30.120 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:30.123 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 18:03:30.124 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 18:03:30.125 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 18:03:30.126 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 18:03:30.145 +06:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 18:03:30.150 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:30.151 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 18:03:30.154 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:30.156 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 18:03:30.219 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 18:03:30.225 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 18:03:30.226 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 18:03:30.227 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 18:03:30.229 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 18:03:30.231 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 18:03:30.244 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3126.8698ms
2024-10-03 18:03:30.247 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 18:03:30.250 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3416.9271 ms
2024-10-03 18:03:30.258 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 18:03:30.262 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:03:30.264 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 18:03:30.268 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3472.6621ms
2024-10-03 18:03:45.877 +06:00 [DBG] Connection id "0HN73KD85DCDR" received FIN.
2024-10-03 18:03:45.880 +06:00 [DBG] Connection id "0HN73KD85DCDR" is closed. The last processed stream ID was 1.
2024-10-03 18:03:45.880 +06:00 [DBG] The connection queue processing loop for 0HN73KD85DCDR completed.
2024-10-03 18:03:45.882 +06:00 [DBG] Connection id "0HN73KD85DCDR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:03:45.892 +06:00 [DBG] Connection id "0HN73KD85DCDR" stopped.
2024-10-03 18:04:01.215 +06:00 [DBG] Connection id "0HN73KD85DCDS" accepted.
2024-10-03 18:04:01.220 +06:00 [DBG] Connection id "0HN73KD85DCDS" started.
2024-10-03 18:04:01.228 +06:00 [DBG] Connection 0HN73KD85DCDS established using the following protocol: "Tls12"
2024-10-03 18:04:01.248 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - null null
2024-10-03 18:04:01.256 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 18:04:01.257 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 18:04:01.258 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 18:04:01.259 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 18:04:01.350 +06:00 [DBG] Successfully validated the token.
2024-10-03 18:04:01.356 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 18:04:01.362 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 18:04:01.370 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-10-03 18:04:01.372 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 18:04:01.373 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 18:04:01.373 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 18:04:01.375 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 18:04:01.375 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 18:04:01.376 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 18:04:01.378 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 18:04:01.379 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 18:04:01.380 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 18:04:01.386 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 18:04:01.388 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 18:04:01.389 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 18:04:01.391 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 18:04:01.392 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 18:04:01.393 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 18:04:01.393 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 18:04:01.394 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 18:04:01.395 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 18:04:01.396 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 18:04:01.397 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 18:04:01.400 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 18:04:01.402 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 18:04:01.403 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 18:04:01.403 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 18:04:01.407 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 18:04:10.868 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 18:04:10.873 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Count()'
2024-10-03 18:04:10.921 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM BussinessEntities AS b), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 18:04:10.936 +06:00 [DBG] Creating DbConnection.
2024-10-03 18:04:10.940 +06:00 [DBG] Created DbConnection. (3ms).
2024-10-03 18:04:10.945 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:10.951 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:10.956 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 18:04:10.959 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-03 18:04:10.964 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-10-03 18:04:10.969 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 18:04:10.991 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 18:04:11.034 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:11.037 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-10-03 18:04:11.042 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:11.043 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 18:04:11.046 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 18:04:11.054 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:04:11.057 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:04:11.059 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:04:11.068 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:04:11.079 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT t.Id, t.Address, t.CreatedAtUtc, t.Email, t.Name, t.Type, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 18:04:11.086 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:11.088 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:11.089 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 18:04:11.089 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 18:04:11.090 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 18:04:11.092 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 18:04:11.100 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 18:04:11.126 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 18:04:11.154 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 18:04:11.157 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:11.158 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 56ms reading results.
2024-10-03 18:04:11.159 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:04:11.160 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 18:04:17.015 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 18:04:17.022 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 18:04:17.023 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 18:04:17.024 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 18:04:17.027 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 18:04:17.034 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-03 18:05:15.033 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 73656.9644ms
2024-10-03 18:05:15.038 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 18:05:17.481 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 76221.2693 ms
2024-10-03 18:05:19.534 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 18:05:19.538 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:19.542 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 18:05:20.262 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - 200 null application/json; charset=utf-8 79014.5094ms
2024-10-03 18:05:21.013 +06:00 [DBG] Connection id "0HN73KD85DCDS" received FIN.
2024-10-03 18:05:21.016 +06:00 [DBG] Connection id "0HN73KD85DCDS" is closed. The last processed stream ID was 1.
2024-10-03 18:05:21.016 +06:00 [DBG] The connection queue processing loop for 0HN73KD85DCDS completed.
2024-10-03 18:05:21.018 +06:00 [DBG] Connection id "0HN73KD85DCDS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:05:21.027 +06:00 [DBG] Connection id "0HN73KD85DCDS" stopped.
2024-10-03 18:05:46.565 +06:00 [DBG] Connection id "0HN73KD85DCDT" accepted.
2024-10-03 18:05:46.576 +06:00 [DBG] Connection id "0HN73KD85DCDT" started.
2024-10-03 18:05:46.583 +06:00 [DBG] Connection 0HN73KD85DCDT established using the following protocol: "Tls12"
2024-10-03 18:05:46.596 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 18:05:46.601 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 18:05:46.603 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 18:05:46.604 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 18:05:46.605 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 18:05:46.608 +06:00 [DBG] Successfully validated the token.
2024-10-03 18:05:46.609 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 18:05:46.610 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 18:05:46.613 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 18:05:46.615 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 18:05:46.615 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 18:05:46.616 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 18:05:46.618 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 18:05:46.619 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 18:05:46.621 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 18:05:46.622 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 18:05:46.623 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 18:05:46.624 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 18:05:46.625 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 18:05:46.626 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 18:05:46.627 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 18:05:46.628 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 18:05:46.629 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 18:05:46.629 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 18:05:46.630 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 18:05:46.631 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 18:05:46.632 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 18:05:46.633 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 18:05:46.635 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 18:05:46.637 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 18:05:46.638 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 18:05:46.638 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 18:05:46.639 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 18:05:46.640 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 18:05:50.135 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 18:05:50.143 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 18:05:50.149 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 18:05:50.156 +06:00 [DBG] Creating DbConnection.
2024-10-03 18:05:50.157 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 18:05:50.159 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.160 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.160 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 18:05:50.161 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 18:05:50.162 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 18:05:50.162 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 18:05:50.183 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 18:05:50.196 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.200 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 18:05:50.204 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.209 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-10-03 18:05:50.220 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 18:05:50.225 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:05:50.230 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:05:50.234 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:05:50.237 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 18:05:50.247 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 18:05:50.257 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.263 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.269 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 18:05:50.272 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-03 18:05:50.276 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-03 18:05:50.279 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 18:05:50.308 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 18:05:50.330 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 18:05:50.383 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 18:05:50.390 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.394 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 77ms reading results.
2024-10-03 18:05:50.400 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:05:50.408 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-10-03 18:05:51.790 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 18:05:51.799 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 18:05:51.803 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 18:05:51.808 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 18:05:51.812 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 18:05:51.821 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 18:05:59.802 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 13181.4479ms
2024-10-03 18:05:59.806 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 18:06:01.472 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 14865.6559 ms
2024-10-03 18:06:03.002 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 18:06:03.005 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 18:06:03.009 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 18:06:03.736 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 17140.324ms
2024-10-03 18:06:11.094 +06:00 [DBG] Connection id "0HN73KD85DCDT" received FIN.
2024-10-03 18:06:11.100 +06:00 [DBG] Connection id "0HN73KD85DCDT" is closed. The last processed stream ID was 1.
2024-10-03 18:06:11.100 +06:00 [DBG] The connection queue processing loop for 0HN73KD85DCDT completed.
2024-10-03 18:06:11.106 +06:00 [DBG] Connection id "0HN73KD85DCDT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:06:11.130 +06:00 [DBG] Connection id "0HN73KD85DCDT" stopped.
2024-10-03 18:15:10.348 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 18:15:10.634 +06:00 [DBG] Hosting starting
2024-10-03 18:15:10.707 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 18:15:10.724 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 18:15:10.731 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 18:15:10.734 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 18:15:10.741 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 18:15:10.749 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 18:15:10.752 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 18:15:10.759 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 18:15:10.765 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 18:15:10.771 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 18:15:10.775 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 18:15:10.781 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 18:15:10.786 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 18:15:10.790 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 18:15:10.793 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 18:15:11.624 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 18:15:11.629 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 18:15:11.631 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 18:15:11.632 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 18:15:11.632 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 18:15:11.634 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 18:15:11.635 +06:00 [INF] Hosting environment: Development
2024-10-03 18:15:11.637 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 18:15:11.638 +06:00 [DBG] Hosting started
2024-10-03 18:15:11.865 +06:00 [DBG] Connection id "0HN73KK3ROAB6" accepted.
2024-10-03 18:15:11.868 +06:00 [DBG] Connection id "0HN73KK3ROAB6" received FIN.
2024-10-03 18:15:11.868 +06:00 [DBG] Connection id "0HN73KK3ROAB7" received FIN.
2024-10-03 18:15:11.870 +06:00 [DBG] Connection id "0HN73KK3ROAB6" started.
2024-10-03 18:15:11.881 +06:00 [DBG] Connection id "0HN73KK3ROAB7" accepted.
2024-10-03 18:15:11.883 +06:00 [DBG] Connection id "0HN73KK3ROAB7" started.
2024-10-03 18:15:11.897 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 18:15:11.896 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 18:15:11.927 +06:00 [DBG] Connection id "0HN73KK3ROAB7" stopped.
2024-10-03 18:15:11.927 +06:00 [DBG] Connection id "0HN73KK3ROAB6" stopped.
2024-10-03 18:15:11.930 +06:00 [DBG] Connection id "0HN73KK3ROAB7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:15:11.930 +06:00 [DBG] Connection id "0HN73KK3ROAB6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:15:15.926 +06:00 [DBG] Connection id "0HN73KK3ROAB8" accepted.
2024-10-03 18:15:15.981 +06:00 [DBG] Connection id "0HN73KK3ROAB8" started.
2024-10-03 18:15:16.119 +06:00 [DBG] Connection 0HN73KK3ROAB8 established using the following protocol: "Tls12"
2024-10-03 18:15:16.331 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 18:15:16.587 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 18:15:16.602 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 18:15:16.603 +06:00 [DBG] Request did not match any endpoints
2024-10-03 18:15:16.695 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 18:15:16.718 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 18:15:16.722 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 404.1774ms
2024-10-03 18:15:16.766 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 18:15:16.767 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 18:15:16.782 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 16.1028ms
2024-10-03 18:15:16.841 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 74.7842ms
2024-10-03 18:15:16.883 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 18:15:16.886 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 18:15:16.887 +06:00 [DBG] Request did not match any endpoints
2024-10-03 18:15:17.224 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 341.7015ms
2024-10-03 18:15:19.300 +06:00 [DBG] Connection id "0HN73KK3ROAB8" received FIN.
2024-10-03 18:15:19.306 +06:00 [DBG] The connection queue processing loop for 0HN73KK3ROAB8 completed.
2024-10-03 18:15:19.313 +06:00 [DBG] Connection id "0HN73KK3ROAB8" is closed. The last processed stream ID was 7.
2024-10-03 18:15:19.319 +06:00 [DBG] Connection id "0HN73KK3ROAB8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 18:15:19.346 +06:00 [DBG] Connection id "0HN73KK3ROAB8" stopped.
2024-10-03 19:22:36.447 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 19:22:36.702 +06:00 [DBG] Hosting starting
2024-10-03 19:22:36.797 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 19:22:36.825 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 19:22:36.852 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 19:22:36.855 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 19:22:36.864 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 19:22:36.872 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 19:22:36.873 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 19:22:36.884 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 19:22:36.893 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:22:36.899 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 19:22:36.904 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:22:36.915 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 19:22:36.926 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 19:22:36.938 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 19:22:36.945 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 19:22:37.342 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 19:22:37.346 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 19:22:37.348 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 19:22:37.352 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 19:22:37.352 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 19:22:37.353 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 19:22:37.353 +06:00 [INF] Hosting environment: Development
2024-10-03 19:22:37.354 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 19:22:37.354 +06:00 [DBG] Hosting started
2024-10-03 19:22:37.543 +06:00 [DBG] Connection id "0HN73LPPIB4TK" accepted.
2024-10-03 19:22:37.546 +06:00 [DBG] Connection id "0HN73LPPIB4TK" started.
2024-10-03 19:22:37.572 +06:00 [DBG] Connection id "0HN73LPPIB4TK" received FIN.
2024-10-03 19:22:37.589 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 19:22:37.619 +06:00 [DBG] Connection id "0HN73LPPIB4TK" stopped.
2024-10-03 19:22:37.623 +06:00 [DBG] Connection id "0HN73LPPIB4TK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:22:41.010 +06:00 [DBG] Connection id "0HN73LPPIB4TL" accepted.
2024-10-03 19:22:41.028 +06:00 [DBG] Connection id "0HN73LPPIB4TL" started.
2024-10-03 19:22:41.167 +06:00 [DBG] Connection 0HN73LPPIB4TL established using the following protocol: "Tls12"
2024-10-03 19:22:41.403 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 19:22:41.602 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 19:22:41.645 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 19:22:41.649 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:22:41.776 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 19:22:41.808 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 19:22:41.816 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 424.9686ms
2024-10-03 19:22:41.937 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 19:22:41.944 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 19:22:41.972 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 35.6445ms
2024-10-03 19:22:42.071 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 126.6384ms
2024-10-03 19:22:42.115 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 19:22:42.119 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 19:22:42.120 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:22:42.395 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 280.5513ms
2024-10-03 19:22:45.506 +06:00 [DBG] Connection id "0HN73LPPIB4TL" received FIN.
2024-10-03 19:22:45.512 +06:00 [DBG] The connection queue processing loop for 0HN73LPPIB4TL completed.
2024-10-03 19:22:45.518 +06:00 [DBG] Connection id "0HN73LPPIB4TL" is closed. The last processed stream ID was 7.
2024-10-03 19:22:45.521 +06:00 [DBG] Connection id "0HN73LPPIB4TL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:22:45.530 +06:00 [DBG] Connection id "0HN73LPPIB4TL" stopped.
2024-10-03 19:24:20.974 +06:00 [DBG] Connection id "0HN73LPPIB4TM" accepted.
2024-10-03 19:24:20.990 +06:00 [DBG] Connection id "0HN73LPPIB4TM" started.
2024-10-03 19:24:21.008 +06:00 [DBG] Connection 0HN73LPPIB4TM established using the following protocol: "Tls12"
2024-10-03 19:24:21.032 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 19:24:21.048 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 19:24:21.052 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 19:24:21.055 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:24:21.058 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:24:21.060 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:24:21.060 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:24:21.275 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 19:24:21.281 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:24:21.341 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 19:24:21.346 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:24:21.348 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:24:21.349 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:24:21.350 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:24:21.352 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:24:21.355 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:24:21.738 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 19:24:22.031 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:24:22.064 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:24:22.074 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 19:24:22.081 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:24:22.093 +06:00 [DBG] Connection id "0HN73LPPIB4TM", Request id "0HN73LPPIB4TM:00000001": started reading request body.
2024-10-03 19:24:22.094 +06:00 [DBG] Connection id "0HN73LPPIB4TM", Request id "0HN73LPPIB4TM:00000001": done reading request body.
2024-10-03 19:24:22.106 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 19:24:22.110 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:24:22.117 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:24:22.123 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:24:22.138 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:24:23.215 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 19:24:23.221 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 19:24:23.528 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 19:24:23.820 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:24:23.970 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 19:24:24.364 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:24:24.421 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:24:24.451 +06:00 [DBG] Created DbConnection. (30ms).
2024-10-03 19:24:24.458 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:25.239 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:25.255 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:24:25.273 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-10-03 19:24:25.304 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (52ms).
2024-10-03 19:24:25.334 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:24:25.517 +06:00 [INF] Executed DbCommand (187ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:24:25.581 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:25.602 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 61ms reading results.
2024-10-03 19:24:25.619 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:25.643 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (24ms).
2024-10-03 19:24:25.857 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 19:24:25.946 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 19:24:25.961 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:25.973 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:25.977 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:24:25.981 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-03 19:24:25.987 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 19:24:25.992 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:24:26.020 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:24:26.035 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:26.042 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-10-03 19:24:26.053 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:26.060 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-10-03 19:24:26.144 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:24:26.158 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:24:26.162 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:24:26.167 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:24:26.172 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:24:26.179 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 19:24:26.219 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4853.118ms
2024-10-03 19:24:26.227 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:24:26.244 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5175.2492 ms
2024-10-03 19:24:26.257 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:24:26.265 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:24:26.274 +06:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-10-03 19:24:26.286 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5255.2935ms
2024-10-03 19:24:35.907 +06:00 [DBG] Connection id "0HN73LPPIB4TM" received FIN.
2024-10-03 19:24:35.911 +06:00 [DBG] Connection id "0HN73LPPIB4TM" is closed. The last processed stream ID was 1.
2024-10-03 19:24:35.911 +06:00 [DBG] The connection queue processing loop for 0HN73LPPIB4TM completed.
2024-10-03 19:24:35.915 +06:00 [DBG] Connection id "0HN73LPPIB4TM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:24:35.934 +06:00 [DBG] Connection id "0HN73LPPIB4TM" stopped.
2024-10-03 19:26:19.898 +06:00 [DBG] Connection id "0HN73LPPIB4TN" accepted.
2024-10-03 19:26:19.917 +06:00 [DBG] Connection id "0HN73LPPIB4TN" started.
2024-10-03 19:26:19.931 +06:00 [DBG] Connection 0HN73LPPIB4TN established using the following protocol: "Tls12"
2024-10-03 19:26:19.946 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - application/json 194
2024-10-03 19:26:19.949 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/BuyProduct'
2024-10-03 19:26:19.950 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)' with route pattern 'api/Product/BuyProduct' is valid for the request path '/api/Product/BuyProduct'
2024-10-03 19:26:19.951 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 19:26:19.951 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:26:19.952 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:26:19.954 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:26:20.031 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:26:20.038 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:26:20.051 +06:00 [DBG] Authorization was successful.
2024-10-03 19:26:20.055 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 19:26:20.067 +06:00 [INF] Route matched with {action = "BuyProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] BuyProduct(Service.dtos.AddProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 19:26:20.076 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:26:20.083 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:26:20.086 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:26:20.089 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:26:20.090 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:26:20.091 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:26:20.093 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:26:20.095 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 19:26:20.096 +06:00 [DBG] Attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto' using the name '' in request data ...
2024-10-03 19:26:20.097 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:26:20.101 +06:00 [DBG] Connection id "0HN73LPPIB4TN", Request id "0HN73LPPIB4TN:00000001": started reading request body.
2024-10-03 19:26:20.104 +06:00 [DBG] Connection id "0HN73LPPIB4TN", Request id "0HN73LPPIB4TN:00000001": done reading request body.
2024-10-03 19:26:20.110 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddProductDto'
2024-10-03 19:26:20.110 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 19:26:20.111 +06:00 [DBG] Done attempting to bind parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 19:26:20.112 +06:00 [DBG] Attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto' ...
2024-10-03 19:26:20.117 +06:00 [DBG] Done attempting to validate the bound parameter 'addProductDto' of type 'Service.dtos.AddProductDto'.
2024-10-03 19:26:52.135 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:26:52.153 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __addProductDto_SKU_0)'
2024-10-03 19:26:52.170 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__addProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:26:52.189 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:26:52.194 +06:00 [DBG] Created DbConnection. (5ms).
2024-10-03 19:26:52.201 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:26:52.206 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:26:52.211 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:26:52.216 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-03 19:26:52.221 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-03 19:26:52.227 +06:00 [DBG] Executing DbCommand [Parameters=[@__addProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 19:26:52.284 +06:00 [INF] Executed DbCommand (55ms) [Parameters=[@__addProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__addProductDto_SKU_0
2024-10-03 19:26:52.303 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:26:52.308 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 19:26:52.314 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:26:52.318 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-10-03 19:26:58.010 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Product.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:26:58.085 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:27:05.832 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:27:05.870 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:27:06.943 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 19:27:06.953 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 19:27:06.975 +06:00 [DBG] The unchanged property 'Product.UserId' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:27:06.983 +06:00 [DBG] The foreign key property 'Product.UserId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:27:06.994 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 19:27:06.998 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 19:27:07.000 +06:00 [DBG] The unchanged property 'Product.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:27:07.001 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:27:07.006 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 19:27:07.124 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:27:07.128 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:27:07.131 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 19:27:07.137 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 19:27:07.140 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:27:07.141 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 19:27:07.143 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 19:27:07.144 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-10-03 19:27:07.177 +06:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([CategoriesId], [CreatedAtUtc], [Description], [Name], [SKU], [StockAmount], [UnitPrice], [UnitType], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2024-10-03 19:27:07.192 +06:00 [DBG] The foreign key property 'Product.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:27:07.204 +06:00 [DBG] The foreign key property 'Transactions.ProductsId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:27:07.216 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:27:07.219 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 34ms reading results.
2024-10-03 19:27:07.221 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:27:07.222 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 19:27:07.224 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 19:27:07.225 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-10-03 19:27:07.239 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@p10='?' (DbType = Int32), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32), @p13='?' (DbType = Double), @p14='?' (DbType = Double), @p15='?' (DbType = Int32), @p16='?' (DbType = DateTime2), @p17='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-10-03 19:27:07.241 +06:00 [DBG] The foreign key property 'Transactions.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:27:07.242 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:27:07.243 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 19:27:07.248 +06:00 [DBG] Committing transaction.
2024-10-03 19:27:07.252 +06:00 [DBG] Committed transaction.
2024-10-03 19:27:07.254 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:27:07.255 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 19:27:07.257 +06:00 [DBG] Disposing transaction.
2024-10-03 19:27:07.266 +06:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:27:07.268 +06:00 [DBG] An entity of type 'Transactions' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:27:07.271 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2024-10-03 19:27:20.550 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:27:20.556 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:27:20.558 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:27:20.560 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:27:20.561 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:27:20.565 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-10-03 19:27:20.571 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1) in 60479.6415ms
2024-10-03 19:27:20.579 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.BuyProduct (WebApplication1)'
2024-10-03 19:27:23.130 +06:00 [INF] HTTP POST /api/Product/BuyProduct responded 200 in 63174.9670 ms
2024-10-03 19:27:25.336 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:27:25.337 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:27:25.340 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 19:27:26.315 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/BuyProduct - 200 null application/json; charset=utf-8 66369.183ms
2024-10-03 19:27:31.215 +06:00 [DBG] Connection id "0HN73LPPIB4TN" received FIN.
2024-10-03 19:27:31.227 +06:00 [DBG] Connection id "0HN73LPPIB4TN" is closed. The last processed stream ID was 1.
2024-10-03 19:27:31.227 +06:00 [DBG] The connection queue processing loop for 0HN73LPPIB4TN completed.
2024-10-03 19:27:31.228 +06:00 [DBG] Connection id "0HN73LPPIB4TN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:27:31.246 +06:00 [DBG] Connection id "0HN73LPPIB4TN" stopped.
2024-10-03 19:28:27.428 +06:00 [DBG] Connection id "0HN73LPPIB4TO" accepted.
2024-10-03 19:28:27.443 +06:00 [DBG] Connection id "0HN73LPPIB4TO" started.
2024-10-03 19:28:27.448 +06:00 [DBG] Connection 0HN73LPPIB4TO established using the following protocol: "Tls12"
2024-10-03 19:28:27.466 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - null null
2024-10-03 19:28:27.482 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 19:28:27.483 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 19:28:27.484 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 19:28:27.485 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:28:27.490 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:28:27.491 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:28:27.492 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 19:28:27.506 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-10-03 19:28:27.510 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:28:27.510 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:28:27.511 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:28:27.512 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:28:27.513 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:28:27.514 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 19:28:27.516 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 19:28:27.516 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 19:28:27.517 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 19:28:27.524 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 19:28:27.526 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 19:28:27.527 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 19:28:27.529 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 19:28:27.529 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 19:28:27.530 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 19:28:27.531 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 19:28:27.532 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 19:28:27.533 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 19:28:27.534 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 19:28:27.535 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 19:28:27.538 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 19:28:27.539 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:28:27.540 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:28:27.541 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 19:28:27.543 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:28:32.714 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:28:32.727 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Count()'
2024-10-03 19:28:32.800 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM BussinessEntities AS b), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:28:32.811 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:28:32.814 +06:00 [DBG] Created DbConnection. (2ms).
2024-10-03 19:28:32.815 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.815 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.816 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:28:32.817 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 19:28:32.817 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 19:28:32.818 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 19:28:32.842 +06:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 19:28:32.845 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.846 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 19:28:32.847 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.847 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 19:28:32.849 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 19:28:32.852 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:28:32.854 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:28:32.855 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:28:32.863 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:28:32.867 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT t.Id, t.Address, t.CreatedAtUtc, t.Email, t.Name, t.Type, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 19:28:32.872 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.873 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.874 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:28:32.875 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 19:28:32.875 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 19:28:32.876 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 19:28:32.885 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 19:28:32.891 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:28:32.904 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:28:32.906 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.906 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-10-03 19:28:32.908 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:32.908 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 19:28:36.535 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:28:36.542 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:28:36.544 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:28:36.546 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:28:36.549 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:28:36.551 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-03 19:28:46.173 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 18659.0659ms
2024-10-03 19:28:46.177 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 19:28:48.121 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 20633.3462 ms
2024-10-03 19:28:50.207 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:28:50.211 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:28:50.215 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-03 19:28:50.940 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - 200 null application/json; charset=utf-8 23474.6306ms
2024-10-03 19:28:56.373 +06:00 [DBG] Connection id "0HN73LPPIB4TO" received FIN.
2024-10-03 19:28:56.377 +06:00 [DBG] Connection id "0HN73LPPIB4TO" is closed. The last processed stream ID was 1.
2024-10-03 19:28:56.377 +06:00 [DBG] The connection queue processing loop for 0HN73LPPIB4TO completed.
2024-10-03 19:28:56.383 +06:00 [DBG] Connection id "0HN73LPPIB4TO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:28:56.410 +06:00 [DBG] Connection id "0HN73LPPIB4TO" stopped.
2024-10-03 19:29:55.169 +06:00 [DBG] Connection id "0HN73LPPIB4TP" accepted.
2024-10-03 19:29:55.182 +06:00 [DBG] Connection id "0HN73LPPIB4TP" started.
2024-10-03 19:29:55.188 +06:00 [DBG] Connection 0HN73LPPIB4TP established using the following protocol: "Tls12"
2024-10-03 19:29:55.210 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 86
2024-10-03 19:29:55.237 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 19:29:55.241 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 19:29:55.248 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:29:55.252 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:29:55.255 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:29:55.258 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:29:55.262 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:29:55.266 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:29:55.274 +06:00 [DBG] Authorization was successful.
2024-10-03 19:29:55.277 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:29:55.290 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 19:29:55.299 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:29:55.307 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:29:55.314 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:29:55.315 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:29:55.316 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:29:55.317 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:29:55.319 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:29:55.320 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:29:55.321 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 19:29:55.322 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:29:55.324 +06:00 [DBG] Connection id "0HN73LPPIB4TP", Request id "0HN73LPPIB4TP:00000001": started reading request body.
2024-10-03 19:29:55.326 +06:00 [DBG] Connection id "0HN73LPPIB4TP", Request id "0HN73LPPIB4TP:00000001": done reading request body.
2024-10-03 19:29:55.328 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 19:29:55.329 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:29:55.330 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:29:55.331 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:29:55.334 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:30:02.371 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:30:02.378 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 19:30:02.387 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:30:02.397 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:30:02.399 +06:00 [DBG] Created DbConnection. (2ms).
2024-10-03 19:30:02.402 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:30:02.407 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:30:02.411 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:30:02.413 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-03 19:30:02.418 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-10-03 19:30:02.422 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:30:02.471 +06:00 [INF] Executed DbCommand (48ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:30:02.485 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:30:02.487 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 19:30:02.489 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:30:02.491 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 19:30:02.496 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:30:02.546 +06:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
SellTransactionDto -> Transactions
Service.dtos.SellTransactionDto -> DataAccess.Entities.Transactions
2024-10-03 19:30:02.696 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 7378.2158ms
2024-10-03 19:30:02.702 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:30:02.766 +06:00 [ERR] Missing type map configuration or unsupported mapping.

Mapping types:
SellTransactionDto -> Transactions
Service.dtos.SellTransactionDto -> DataAccess.Entities.Transactions
2024-10-03 19:30:02.774 +06:00 [ERR] HTTP POST /api/Product/SellProduct responded 500 in 7511.9065 ms
2024-10-03 19:30:02.776 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:30:02.779 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:30:02.782 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 19:30:02.784 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 500 null application/json; charset=utf-8 7574.495ms
2024-10-03 19:30:06.520 +06:00 [DBG] Connection id "0HN73LPPIB4TP" received FIN.
2024-10-03 19:30:06.524 +06:00 [DBG] Connection id "0HN73LPPIB4TP" is closed. The last processed stream ID was 1.
2024-10-03 19:30:06.524 +06:00 [DBG] The connection queue processing loop for 0HN73LPPIB4TP completed.
2024-10-03 19:30:06.530 +06:00 [DBG] Connection id "0HN73LPPIB4TP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:30:06.558 +06:00 [DBG] Connection id "0HN73LPPIB4TP" stopped.
2024-10-03 19:42:31.171 +06:00 [DBG] Connection id "0HN73LPPIB4TQ" accepted.
2024-10-03 19:42:31.180 +06:00 [DBG] Connection id "0HN73LPPIB4TQ" started.
2024-10-03 19:42:31.185 +06:00 [DBG] Connection 0HN73LPPIB4TQ established using the following protocol: "Tls12"
2024-10-03 19:42:31.200 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 86
2024-10-03 19:42:31.207 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 19:42:31.210 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 19:42:31.214 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:42:31.215 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:42:31.216 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:42:31.216 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:42:31.221 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/3/2024 1:34:26 PM', Current time (UTC): '10/3/2024 1:42:31 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-03 19:42:31.232 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/3/2024 1:34:26 PM', Current time (UTC): '10/3/2024 1:42:31 PM'.
2024-10-03 19:42:31.238 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-10-03 19:42:31.241 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-03 19:42:31.251 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-03 19:42:31.255 +06:00 [INF] HTTP POST /api/Product/SellProduct responded 401 in 38.3524 ms
2024-10-03 19:42:31.260 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 401 0 null 62.0773ms
2024-10-03 19:42:31.267 +06:00 [DBG] Connection id "0HN73LPPIB4TQ", Request id "0HN73LPPIB4TQ:00000001": started reading request body.
2024-10-03 19:42:31.270 +06:00 [DBG] Connection id "0HN73LPPIB4TQ", Request id "0HN73LPPIB4TQ:00000001": done reading request body.
2024-10-03 19:42:37.886 +06:00 [DBG] Connection id "0HN73LPPIB4TQ" received FIN.
2024-10-03 19:42:37.891 +06:00 [DBG] Connection id "0HN73LPPIB4TQ" is closed. The last processed stream ID was 1.
2024-10-03 19:42:37.891 +06:00 [DBG] The connection queue processing loop for 0HN73LPPIB4TQ completed.
2024-10-03 19:42:37.893 +06:00 [DBG] Connection id "0HN73LPPIB4TQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:42:37.901 +06:00 [DBG] Connection id "0HN73LPPIB4TQ" stopped.
2024-10-03 19:42:46.801 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 19:42:46.959 +06:00 [DBG] Hosting starting
2024-10-03 19:42:47.038 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 19:42:47.059 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 19:42:47.077 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 19:42:47.081 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 19:42:47.093 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 19:42:47.100 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 19:42:47.101 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 19:42:47.110 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 19:42:47.116 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:42:47.121 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 19:42:47.124 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:42:47.128 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 19:42:47.132 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 19:42:47.136 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 19:42:47.138 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 19:42:47.437 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 19:42:47.441 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 19:42:47.445 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 19:42:47.446 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 19:42:47.447 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 19:42:47.448 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 19:42:47.449 +06:00 [INF] Hosting environment: Development
2024-10-03 19:42:47.450 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 19:42:47.452 +06:00 [DBG] Hosting started
2024-10-03 19:42:47.621 +06:00 [DBG] Connection id "0HN73M526HQCK" accepted.
2024-10-03 19:42:47.627 +06:00 [DBG] Connection id "0HN73M526HQCK" started.
2024-10-03 19:42:47.645 +06:00 [DBG] Connection id "0HN73M526HQCK" received FIN.
2024-10-03 19:42:47.645 +06:00 [DBG] Connection id "0HN73M526HQCL" received FIN.
2024-10-03 19:42:47.652 +06:00 [DBG] Connection id "0HN73M526HQCL" accepted.
2024-10-03 19:42:47.653 +06:00 [DBG] Connection id "0HN73M526HQCL" started.
2024-10-03 19:42:47.657 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 19:42:47.657 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 19:42:47.684 +06:00 [DBG] Connection id "0HN73M526HQCL" stopped.
2024-10-03 19:42:47.684 +06:00 [DBG] Connection id "0HN73M526HQCK" stopped.
2024-10-03 19:42:47.687 +06:00 [DBG] Connection id "0HN73M526HQCK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:42:47.687 +06:00 [DBG] Connection id "0HN73M526HQCL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:42:51.657 +06:00 [DBG] Connection id "0HN73M526HQCM" accepted.
2024-10-03 19:42:51.743 +06:00 [DBG] Connection id "0HN73M526HQCM" started.
2024-10-03 19:42:51.887 +06:00 [DBG] Connection 0HN73M526HQCM established using the following protocol: "Tls12"
2024-10-03 19:42:52.019 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 19:42:52.236 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 19:42:52.275 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 19:42:52.279 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:42:52.539 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 19:42:52.606 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 19:42:52.617 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 611.771ms
2024-10-03 19:42:52.715 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 19:42:52.715 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 19:42:52.741 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 26.0281ms
2024-10-03 19:42:52.830 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 115.2225ms
2024-10-03 19:42:52.898 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 19:42:52.902 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 19:42:52.903 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:42:53.247 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 349.2765ms
2024-10-03 19:42:56.303 +06:00 [DBG] Connection id "0HN73M526HQCM" received FIN.
2024-10-03 19:42:56.311 +06:00 [DBG] The connection queue processing loop for 0HN73M526HQCM completed.
2024-10-03 19:42:56.319 +06:00 [DBG] Connection id "0HN73M526HQCM" is closed. The last processed stream ID was 7.
2024-10-03 19:42:56.324 +06:00 [DBG] Connection id "0HN73M526HQCM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:42:56.343 +06:00 [DBG] Connection id "0HN73M526HQCM" stopped.
2024-10-03 19:43:18.681 +06:00 [DBG] Connection id "0HN73M526HQCN" accepted.
2024-10-03 19:43:18.693 +06:00 [DBG] Connection id "0HN73M526HQCN" started.
2024-10-03 19:43:18.712 +06:00 [DBG] Connection 0HN73M526HQCN established using the following protocol: "Tls12"
2024-10-03 19:43:18.726 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 62
2024-10-03 19:43:18.744 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 19:43:18.757 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 19:43:18.763 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:43:18.771 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:43:18.776 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:43:18.782 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:43:18.968 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 19:43:18.978 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:43:19.049 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 19:43:19.062 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:43:19.071 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:43:19.079 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:43:19.090 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:43:19.097 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:43:19.101 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:43:19.480 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 19:43:19.842 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:43:19.882 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:43:19.895 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 19:43:19.909 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:43:19.933 +06:00 [DBG] Connection id "0HN73M526HQCN", Request id "0HN73M526HQCN:00000001": started reading request body.
2024-10-03 19:43:19.941 +06:00 [DBG] Connection id "0HN73M526HQCN", Request id "0HN73M526HQCN:00000001": done reading request body.
2024-10-03 19:43:19.980 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 19:43:19.985 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:43:19.991 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:43:19.997 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:43:20.018 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:43:21.308 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 19:43:21.315 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 19:43:21.729 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 19:43:22.093 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:43:22.288 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 19:43:22.729 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:43:22.837 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:43:22.888 +06:00 [DBG] Created DbConnection. (48ms).
2024-10-03 19:43:22.898 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:23.610 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:23.624 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:43:23.640 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-10-03 19:43:23.665 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2024-10-03 19:43:23.694 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:43:23.855 +06:00 [INF] Executed DbCommand (169ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:43:23.924 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:23.945 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 68ms reading results.
2024-10-03 19:43:23.959 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:23.978 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (19ms).
2024-10-03 19:43:24.260 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 19:43:24.367 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 19:43:24.381 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:24.390 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:24.397 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:43:24.403 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-03 19:43:24.409 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-03 19:43:24.413 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:43:24.440 +06:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:43:24.450 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:24.453 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 19:43:24.456 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:24.458 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-10-03 19:43:24.529 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:43:24.547 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:43:24.551 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:43:24.556 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:43:24.562 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:43:24.571 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 19:43:24.603 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 5497.3938ms
2024-10-03 19:43:24.611 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:43:24.626 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5831.1587 ms
2024-10-03 19:43:24.640 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:43:24.647 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:43:24.655 +06:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-10-03 19:43:24.664 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5938.5723ms
2024-10-03 19:43:26.394 +06:00 [DBG] Connection id "0HN73M526HQCN" received FIN.
2024-10-03 19:43:26.399 +06:00 [DBG] Connection id "0HN73M526HQCN" is closed. The last processed stream ID was 1.
2024-10-03 19:43:26.399 +06:00 [DBG] The connection queue processing loop for 0HN73M526HQCN completed.
2024-10-03 19:43:26.405 +06:00 [DBG] Connection id "0HN73M526HQCN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:43:26.427 +06:00 [DBG] Connection id "0HN73M526HQCN" stopped.
2024-10-03 19:44:34.792 +06:00 [DBG] Connection id "0HN73M526HQCO" accepted.
2024-10-03 19:44:34.824 +06:00 [DBG] Connection id "0HN73M526HQCO" started.
2024-10-03 19:44:34.836 +06:00 [DBG] Connection 0HN73M526HQCO established using the following protocol: "Tls12"
2024-10-03 19:44:34.857 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 19:44:34.886 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 19:44:34.893 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 19:44:34.905 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 19:44:34.912 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:44:35.045 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:44:35.050 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:44:35.054 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 19:44:35.074 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 19:44:35.081 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:44:35.087 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:44:35.093 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:44:35.104 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:44:35.111 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:44:35.118 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:44:35.129 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:44:35.134 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 19:44:35.138 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 19:44:35.152 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 19:44:35.158 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 19:44:35.172 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 19:44:35.179 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 19:44:35.185 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 19:44:35.190 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 19:44:35.195 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 19:44:35.200 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 19:44:35.207 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 19:44:35.212 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 19:44:35.218 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 19:44:35.226 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 19:44:35.232 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:44:35.236 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:44:35.239 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 19:44:35.246 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:44:43.840 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:44:43.847 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 19:44:43.921 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:44:43.943 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:44:43.949 +06:00 [DBG] Created DbConnection. (5ms).
2024-10-03 19:44:43.954 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:43.956 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:43.957 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:44:43.958 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 19:44:43.960 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 19:44:43.962 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 19:44:44.000 +06:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 19:44:44.010 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:44.011 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 19:44:44.012 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:44.013 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 19:44:44.017 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 19:44:44.021 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:44:44.022 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:44:44.023 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:44:44.034 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:44:44.046 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 19:44:44.056 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:44.059 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:44.060 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:44:44.061 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 19:44:44.062 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 19:44:44.064 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 19:44:44.071 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 19:44:44.120 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:44:44.202 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:44:44.207 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:44:44.212 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:44.216 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 139ms reading results.
2024-10-03 19:44:44.221 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:44:44.226 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-10-03 19:44:48.664 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:44:48.675 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:44:48.678 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:44:48.682 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:44:48.686 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:44:48.692 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 19:45:02.968 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 27849.9225ms
2024-10-03 19:45:02.975 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 19:45:04.883 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 29965.3040 ms
2024-10-03 19:45:07.395 +06:00 [DBG] Connection id "0HN73M526HQCO" received FIN.
2024-10-03 19:45:07.396 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:45:07.397 +06:00 [DBG] Connection id "0HN73M526HQCO" is closed. The last processed stream ID was 1.
2024-10-03 19:45:07.401 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:45:07.402 +06:00 [DBG] Connection id "0HN73M526HQCO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:45:07.407 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-10-03 19:45:08.137 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 33281.4669ms
2024-10-03 19:45:08.146 +06:00 [DBG] The connection queue processing loop for 0HN73M526HQCO completed.
2024-10-03 19:45:08.169 +06:00 [DBG] Connection id "0HN73M526HQCO" stopped.
2024-10-03 19:46:42.351 +06:00 [DBG] Connection id "0HN73M526HQCP" accepted.
2024-10-03 19:46:42.390 +06:00 [DBG] Connection id "0HN73M526HQCP" started.
2024-10-03 19:46:42.402 +06:00 [DBG] Connection 0HN73M526HQCP established using the following protocol: "Tls12"
2024-10-03 19:46:42.417 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - null null
2024-10-03 19:46:42.434 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 19:46:42.437 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 19:46:42.440 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 19:46:42.443 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:46:42.466 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:46:42.470 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:46:42.477 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 19:46:42.490 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-10-03 19:46:42.501 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:46:42.506 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:46:42.513 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:46:42.525 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:46:42.528 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:46:42.530 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 19:46:42.532 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 19:46:42.534 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 19:46:42.535 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 19:46:42.540 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 19:46:42.546 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 19:46:42.550 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 19:46:42.553 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 19:46:42.560 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 19:46:42.566 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 19:46:42.570 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 19:46:42.575 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 19:46:42.581 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 19:46:42.585 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 19:46:42.590 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 19:46:42.596 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 19:46:42.598 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:46:42.601 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:46:42.605 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 19:46:42.607 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 19:46:48.958 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:46:48.968 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Count()'
2024-10-03 19:46:48.982 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM BussinessEntities AS b), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:46:48.991 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:46:48.995 +06:00 [DBG] Created DbConnection. (4ms).
2024-10-03 19:46:48.999 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.004 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.010 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:46:49.016 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-03 19:46:49.019 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 19:46:49.022 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 19:46:49.068 +06:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 19:46:49.079 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.085 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-10-03 19:46:49.086 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.087 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 19:46:49.090 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 19:46:49.091 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:46:49.094 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:46:49.096 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:46:49.098 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 19:46:49.107 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT t.Id, t.Address, t.CreatedAtUtc, t.Email, t.Name, t.Type, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 19:46:49.119 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.126 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.129 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:46:49.131 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-03 19:46:49.134 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-10-03 19:46:49.138 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 19:46:49.152 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 19:46:49.169 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:46:49.208 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:46:49.215 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.219 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 60ms reading results.
2024-10-03 19:46:49.224 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:46:49.231 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-10-03 19:46:50.954 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:46:50.962 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:46:50.967 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:46:50.969 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:46:50.970 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:46:50.974 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-03 19:46:59.150 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 16620.4896ms
2024-10-03 19:46:59.156 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 19:47:00.350 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 17902.9823 ms
2024-10-03 19:47:01.291 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:47:01.294 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:47:01.296 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 19:47:02.175 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities - 200 null application/json; charset=utf-8 19758.3986ms
2024-10-03 19:47:21.750 +06:00 [DBG] Connection id "0HN73M526HQCP" received FIN.
2024-10-03 19:47:21.753 +06:00 [DBG] Connection id "0HN73M526HQCP" is closed. The last processed stream ID was 1.
2024-10-03 19:47:21.753 +06:00 [DBG] The connection queue processing loop for 0HN73M526HQCP completed.
2024-10-03 19:47:21.757 +06:00 [DBG] Connection id "0HN73M526HQCP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:47:21.780 +06:00 [DBG] Connection id "0HN73M526HQCP" stopped.
2024-10-03 19:47:38.593 +06:00 [DBG] Connection id "0HN73M526HQCQ" accepted.
2024-10-03 19:47:38.617 +06:00 [DBG] Connection id "0HN73M526HQCQ" started.
2024-10-03 19:47:38.623 +06:00 [DBG] Connection 0HN73M526HQCQ established using the following protocol: "Tls12"
2024-10-03 19:47:38.630 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 86
2024-10-03 19:47:38.650 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 19:47:38.654 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 19:47:38.661 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:47:38.666 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:47:38.670 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:47:38.674 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:47:48.033 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:47:48.038 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:47:48.057 +06:00 [DBG] Authorization was successful.
2024-10-03 19:47:48.063 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:47:48.074 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 19:47:48.081 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:47:48.082 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:47:48.083 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:47:48.087 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:47:48.088 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:47:48.089 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:47:48.092 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:47:48.094 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:47:48.095 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 19:47:48.096 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:47:48.099 +06:00 [DBG] Connection id "0HN73M526HQCQ", Request id "0HN73M526HQCQ:00000001": started reading request body.
2024-10-03 19:47:48.100 +06:00 [DBG] Connection id "0HN73M526HQCQ", Request id "0HN73M526HQCQ:00000001": done reading request body.
2024-10-03 19:47:48.109 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 19:47:48.110 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:47:48.111 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:47:48.112 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:47:48.120 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:48:00.318 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:48:00.324 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 19:48:00.332 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:48:00.339 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:48:00.342 +06:00 [DBG] Created DbConnection. (2ms).
2024-10-03 19:48:00.345 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:48:00.352 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:48:00.355 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:48:00.360 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-03 19:48:00.364 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 19:48:00.371 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:48:00.427 +06:00 [INF] Executed DbCommand (55ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:48:00.439 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:48:00.443 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 19:48:00.448 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:48:00.455 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-10-03 19:48:09.311 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:51:14.572 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 19:51:14.788 +06:00 [DBG] Hosting starting
2024-10-03 19:51:14.879 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 19:51:14.898 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 19:51:14.930 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 19:51:14.932 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 19:51:14.943 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 19:51:14.955 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 19:51:14.961 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 19:51:14.974 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 19:51:14.983 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:51:14.988 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 19:51:14.991 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:51:14.996 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 19:51:15.005 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 19:51:15.013 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 19:51:15.017 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 19:51:15.479 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 19:51:15.480 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 19:51:15.481 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 19:51:15.482 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 19:51:15.483 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 19:51:15.486 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 19:51:15.487 +06:00 [INF] Hosting environment: Development
2024-10-03 19:51:15.491 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 19:51:15.495 +06:00 [DBG] Hosting started
2024-10-03 19:51:15.529 +06:00 [DBG] Connection id "0HN73M9PIB1A3" accepted.
2024-10-03 19:51:15.536 +06:00 [DBG] Connection id "0HN73M9PIB1A3" started.
2024-10-03 19:51:15.545 +06:00 [DBG] Connection id "0HN73M9PIB1A4" accepted.
2024-10-03 19:51:15.546 +06:00 [DBG] Connection id "0HN73M9PIB1A4" started.
2024-10-03 19:51:15.575 +06:00 [DBG] Connection id "0HN73M9PIB1A4" received FIN.
2024-10-03 19:51:15.575 +06:00 [DBG] Connection id "0HN73M9PIB1A3" received FIN.
2024-10-03 19:51:15.586 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 19:51:15.586 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 19:51:15.617 +06:00 [DBG] Connection id "0HN73M9PIB1A4" stopped.
2024-10-03 19:51:15.617 +06:00 [DBG] Connection id "0HN73M9PIB1A3" stopped.
2024-10-03 19:51:15.622 +06:00 [DBG] Connection id "0HN73M9PIB1A3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:51:15.622 +06:00 [DBG] Connection id "0HN73M9PIB1A4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:51:16.774 +06:00 [DBG] Connection id "0HN73M9PIB1A5" accepted.
2024-10-03 19:51:16.781 +06:00 [DBG] Connection id "0HN73M9PIB1A5" started.
2024-10-03 19:51:16.976 +06:00 [DBG] Connection 0HN73M9PIB1A5 established using the following protocol: "Tls12"
2024-10-03 19:51:17.083 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 19:51:17.302 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 19:51:17.334 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 19:51:17.336 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:51:17.525 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 19:51:17.566 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 19:51:17.573 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 501.3065ms
2024-10-03 19:51:19.588 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 19:51:19.598 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 19:51:19.675 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 86.9821ms
2024-10-03 19:51:19.865 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 267.1718ms
2024-10-03 19:51:19.937 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 19:51:19.949 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 19:51:19.950 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:51:20.356 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 419.2276ms
2024-10-03 19:51:21.441 +06:00 [DBG] Connection id "0HN73M9PIB1A5" received FIN.
2024-10-03 19:51:21.446 +06:00 [DBG] The connection queue processing loop for 0HN73M9PIB1A5 completed.
2024-10-03 19:51:21.454 +06:00 [DBG] Connection id "0HN73M9PIB1A5" is closed. The last processed stream ID was 7.
2024-10-03 19:51:21.461 +06:00 [DBG] Connection id "0HN73M9PIB1A5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:51:21.472 +06:00 [DBG] Connection id "0HN73M9PIB1A5" stopped.
2024-10-03 19:52:05.455 +06:00 [DBG] Connection id "0HN73M9PIB1A6" accepted.
2024-10-03 19:52:05.470 +06:00 [DBG] Connection id "0HN73M9PIB1A6" started.
2024-10-03 19:52:05.480 +06:00 [DBG] Connection 0HN73M9PIB1A6 established using the following protocol: "Tls12"
2024-10-03 19:52:05.505 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 19:52:05.530 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 19:52:05.542 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 19:52:05.549 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:52:05.558 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:52:05.563 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:52:05.569 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:52:05.728 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 19:52:05.738 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:52:05.784 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 19:52:05.792 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:52:05.793 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:52:05.794 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:52:05.796 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:52:05.797 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:52:05.802 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:52:06.045 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 19:52:06.331 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:52:06.360 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:52:06.372 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 19:52:06.383 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:52:06.398 +06:00 [DBG] Connection id "0HN73M9PIB1A6", Request id "0HN73M9PIB1A6:00000001": started reading request body.
2024-10-03 19:52:06.405 +06:00 [DBG] Connection id "0HN73M9PIB1A6", Request id "0HN73M9PIB1A6:00000001": done reading request body.
2024-10-03 19:52:06.426 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 19:52:06.432 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:52:06.439 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:52:06.446 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:52:06.465 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:52:07.531 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 19:52:07.538 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 19:52:07.913 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 19:52:08.279 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:52:08.459 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 19:52:08.858 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:52:08.958 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:52:09.025 +06:00 [DBG] Created DbConnection. (59ms).
2024-10-03 19:52:09.040 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:09.786 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:09.802 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:52:09.817 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2024-10-03 19:52:09.840 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (40ms).
2024-10-03 19:52:09.868 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:52:10.068 +06:00 [INF] Executed DbCommand (204ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:52:10.133 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:10.155 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 68ms reading results.
2024-10-03 19:52:10.164 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:10.181 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (16ms).
2024-10-03 19:52:10.509 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 19:52:10.616 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 19:52:10.629 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:10.634 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:10.636 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:52:10.638 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 19:52:10.640 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 19:52:10.642 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:52:10.658 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:52:10.668 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:10.675 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-10-03 19:52:10.681 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:10.682 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 19:52:10.750 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:52:10.762 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:52:10.767 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:52:10.772 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:52:10.775 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:52:10.777 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 19:52:10.796 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4991.2138ms
2024-10-03 19:52:10.805 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:52:10.818 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5236.8545 ms
2024-10-03 19:52:10.832 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:52:10.842 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:52:10.852 +06:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-10-03 19:52:10.858 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5353.8307ms
2024-10-03 19:52:11.536 +06:00 [DBG] Connection id "0HN73M9PIB1A6" received FIN.
2024-10-03 19:52:11.543 +06:00 [DBG] Connection id "0HN73M9PIB1A6" is closed. The last processed stream ID was 1.
2024-10-03 19:52:11.543 +06:00 [DBG] The connection queue processing loop for 0HN73M9PIB1A6 completed.
2024-10-03 19:52:11.548 +06:00 [DBG] Connection id "0HN73M9PIB1A6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:52:11.570 +06:00 [DBG] Connection id "0HN73M9PIB1A6" stopped.
2024-10-03 19:53:07.209 +06:00 [DBG] Connection id "0HN73M9PIB1A7" accepted.
2024-10-03 19:53:07.222 +06:00 [DBG] Connection id "0HN73M9PIB1A7" started.
2024-10-03 19:53:07.232 +06:00 [DBG] Connection 0HN73M9PIB1A7 established using the following protocol: "Tls12"
2024-10-03 19:53:07.248 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 86
2024-10-03 19:53:07.275 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 19:53:07.281 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 19:53:07.288 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:53:07.294 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:53:07.299 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:53:07.304 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:53:07.407 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:53:07.414 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:53:07.429 +06:00 [DBG] Authorization was successful.
2024-10-03 19:53:07.434 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:53:07.450 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 19:53:07.461 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:53:07.466 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:53:07.472 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:53:07.482 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:53:07.488 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:53:07.489 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:53:07.492 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:53:07.495 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:53:07.497 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 19:53:07.498 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:53:07.506 +06:00 [DBG] Connection id "0HN73M9PIB1A7", Request id "0HN73M9PIB1A7:00000001": started reading request body.
2024-10-03 19:53:07.507 +06:00 [DBG] Connection id "0HN73M9PIB1A7", Request id "0HN73M9PIB1A7:00000001": done reading request body.
2024-10-03 19:53:07.516 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 19:53:07.517 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:53:07.519 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:53:07.520 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:53:07.528 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:53:26.465 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:53:26.472 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 19:53:26.492 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:53:26.505 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:53:26.509 +06:00 [DBG] Created DbConnection. (4ms).
2024-10-03 19:53:26.512 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:53:26.515 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:53:26.516 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:53:26.518 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 19:53:26.519 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 19:53:26.521 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:53:26.558 +06:00 [INF] Executed DbCommand (35ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:53:26.569 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:53:26.571 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 19:53:26.576 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:53:26.577 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 19:53:32.533 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:57:46.294 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 19:57:46.437 +06:00 [DBG] Hosting starting
2024-10-03 19:57:46.548 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 19:57:46.574 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 19:57:46.605 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 19:57:46.610 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 19:57:46.619 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 19:57:46.634 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 19:57:46.636 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 19:57:46.643 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 19:57:46.650 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:57:46.655 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 19:57:46.660 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 19:57:46.668 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 19:57:46.675 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 19:57:46.678 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 19:57:46.679 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 19:57:46.905 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 19:57:46.906 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 19:57:46.907 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 19:57:46.908 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 19:57:46.908 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 19:57:46.910 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 19:57:46.913 +06:00 [INF] Hosting environment: Development
2024-10-03 19:57:46.915 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 19:57:46.916 +06:00 [DBG] Hosting started
2024-10-03 19:57:47.033 +06:00 [DBG] Connection id "0HN73MDE80INR" accepted.
2024-10-03 19:57:47.039 +06:00 [DBG] Connection id "0HN73MDE80INR" started.
2024-10-03 19:57:47.057 +06:00 [DBG] Connection id "0HN73MDE80INR" received FIN.
2024-10-03 19:57:47.100 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 19:57:47.187 +06:00 [DBG] Connection id "0HN73MDE80INR" stopped.
2024-10-03 19:57:47.196 +06:00 [DBG] Connection id "0HN73MDE80INR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:57:48.651 +06:00 [DBG] Connection id "0HN73MDE80INS" accepted.
2024-10-03 19:57:48.655 +06:00 [DBG] Connection id "0HN73MDE80INS" started.
2024-10-03 19:57:48.802 +06:00 [DBG] Connection 0HN73MDE80INS established using the following protocol: "Tls12"
2024-10-03 19:57:48.913 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 19:57:49.089 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 19:57:49.132 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 19:57:49.140 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:57:49.445 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 19:57:49.501 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 19:57:49.511 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 608.9508ms
2024-10-03 19:57:50.616 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 19:57:50.617 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 19:57:50.650 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 33.4594ms
2024-10-03 19:57:50.748 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 132.6003ms
2024-10-03 19:57:50.827 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 19:57:50.833 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 19:57:50.836 +06:00 [DBG] Request did not match any endpoints
2024-10-03 19:57:51.183 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 357.4362ms
2024-10-03 19:57:53.319 +06:00 [DBG] Connection id "0HN73MDE80INS" received FIN.
2024-10-03 19:57:53.341 +06:00 [DBG] The connection queue processing loop for 0HN73MDE80INS completed.
2024-10-03 19:57:53.347 +06:00 [DBG] Connection id "0HN73MDE80INS" is closed. The last processed stream ID was 7.
2024-10-03 19:57:53.351 +06:00 [DBG] Connection id "0HN73MDE80INS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:57:53.369 +06:00 [DBG] Connection id "0HN73MDE80INS" stopped.
2024-10-03 19:58:09.404 +06:00 [DBG] Connection id "0HN73MDE80INT" accepted.
2024-10-03 19:58:09.407 +06:00 [DBG] Connection id "0HN73MDE80INT" started.
2024-10-03 19:58:09.418 +06:00 [DBG] Connection 0HN73MDE80INT established using the following protocol: "Tls12"
2024-10-03 19:58:09.426 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 19:58:09.447 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 19:58:09.458 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 19:58:09.464 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:58:09.474 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:58:09.478 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:58:09.480 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:58:09.665 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 19:58:09.676 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:58:09.781 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 19:58:09.795 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:58:09.802 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:58:09.808 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:58:09.813 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:58:09.814 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:58:09.818 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:58:10.210 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 19:58:10.568 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 19:58:10.606 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:58:10.617 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 19:58:10.628 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:58:10.650 +06:00 [DBG] Connection id "0HN73MDE80INT", Request id "0HN73MDE80INT:00000001": started reading request body.
2024-10-03 19:58:10.656 +06:00 [DBG] Connection id "0HN73MDE80INT", Request id "0HN73MDE80INT:00000001": done reading request body.
2024-10-03 19:58:10.682 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 19:58:10.689 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:58:10.695 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:58:10.701 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 19:58:10.715 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 19:58:12.046 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 19:58:12.055 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 19:58:12.405 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 19:58:12.811 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:58:13.005 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 19:58:13.425 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:58:13.519 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:58:13.572 +06:00 [DBG] Created DbConnection. (48ms).
2024-10-03 19:58:13.583 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:14.419 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:14.431 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:58:14.447 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-10-03 19:58:14.472 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2024-10-03 19:58:14.495 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:58:14.676 +06:00 [INF] Executed DbCommand (183ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 19:58:14.728 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:14.751 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 55ms reading results.
2024-10-03 19:58:14.763 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:14.781 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (18ms).
2024-10-03 19:58:15.060 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 19:58:15.150 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 19:58:15.162 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:15.171 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:15.178 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:58:15.183 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-03 19:58:15.189 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-10-03 19:58:15.195 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:58:15.227 +06:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 19:58:15.240 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:15.248 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-10-03 19:58:15.256 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:15.262 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-10-03 19:58:15.342 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 19:58:15.357 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 19:58:15.361 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 19:58:15.366 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 19:58:15.369 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 19:58:15.372 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 19:58:15.399 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 5575.468ms
2024-10-03 19:58:15.408 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 19:58:15.425 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5933.1844 ms
2024-10-03 19:58:15.440 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:58:15.449 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:58:15.459 +06:00 [DBG] Disposed connection to database '' on server '' (9ms).
2024-10-03 19:58:15.468 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 6043.1583ms
2024-10-03 19:58:23.352 +06:00 [DBG] Connection id "0HN73MDE80INT" received FIN.
2024-10-03 19:58:23.355 +06:00 [DBG] Connection id "0HN73MDE80INT" is closed. The last processed stream ID was 1.
2024-10-03 19:58:23.356 +06:00 [DBG] The connection queue processing loop for 0HN73MDE80INT completed.
2024-10-03 19:58:23.359 +06:00 [DBG] Connection id "0HN73MDE80INT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 19:58:23.370 +06:00 [DBG] Connection id "0HN73MDE80INT" stopped.
2024-10-03 19:58:56.310 +06:00 [DBG] Connection id "0HN73MDE80INU" accepted.
2024-10-03 19:58:56.332 +06:00 [DBG] Connection id "0HN73MDE80INU" started.
2024-10-03 19:58:56.339 +06:00 [DBG] Connection 0HN73MDE80INU established using the following protocol: "Tls12"
2024-10-03 19:58:56.357 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 86
2024-10-03 19:58:56.368 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 19:58:56.371 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 19:58:56.372 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:58:56.373 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:58:56.375 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:58:56.376 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:58:56.489 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:58:56.494 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:58:56.507 +06:00 [DBG] Authorization was successful.
2024-10-03 19:58:56.509 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:58:56.526 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 19:58:56.534 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:58:56.540 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:58:56.546 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:58:56.557 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:58:56.564 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:58:56.573 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:58:56.581 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:58:56.585 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:58:56.588 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 19:58:56.592 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:58:56.606 +06:00 [DBG] Connection id "0HN73MDE80INU", Request id "0HN73MDE80INU:00000001": started reading request body.
2024-10-03 19:58:56.611 +06:00 [DBG] Connection id "0HN73MDE80INU", Request id "0HN73MDE80INU:00000001": done reading request body.
2024-10-03 19:58:56.635 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 19:58:56.640 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:58:56.646 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:58:56.652 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:58:56.670 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:59:09.592 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:59:09.604 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 19:59:09.624 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 19:59:09.633 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:59:09.637 +06:00 [DBG] Created DbConnection. (3ms).
2024-10-03 19:59:09.641 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:09.645 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:09.648 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:59:09.650 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 19:59:09.653 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-03 19:59:09.656 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:59:09.689 +06:00 [INF] Executed DbCommand (32ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:59:09.701 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:09.704 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 19:59:09.706 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:09.708 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-10-03 19:59:13.316 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:59:17.538 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:59:17.583 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 19:59:18.867 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 19:59:18.892 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 19:59:18.938 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 19:59:18.948 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 19:59:18.954 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 19:59:18.958 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 19:59:19.119 +06:00 [DBG] Executing 2 update commands as a batch.
2024-10-03 19:59:19.135 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:19.139 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:19.146 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 19:59:19.160 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 19:59:19.170 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:59:19.171 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 19:59:19.179 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 19:59:19.183 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 19:59:19.260 +06:00 [INF] Executed DbCommand (78ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 19:59:19.294 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:19.299 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 31ms reading results.
2024-10-03 19:59:19.317 +06:00 [DBG] Disposing transaction.
2024-10-03 19:59:19.325 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:19.330 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-10-03 19:59:19.362 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:63ef2859-4565-42a3-abf8-c9934fdae8fe
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_BussinessEntities_BussinessEntitiesId". The conflict occurred in database "Stocks", table "dbo.BussinessEntities", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:63ef2859-4565-42a3-abf8-c9934fdae8fe
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-03 19:59:35.162 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-10-03 19:59:35.351 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 38777.8422ms
2024-10-03 19:59:35.360 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:59:35.518 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-10-03 19:59:35.531 +06:00 [ERR] HTTP POST /api/Product/SellProduct responded 500 in 39154.1250 ms
2024-10-03 19:59:35.539 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 19:59:35.543 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:35.549 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-10-03 19:59:35.553 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 500 null application/json; charset=utf-8 39197.153ms
2024-10-03 19:59:40.299 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 86
2024-10-03 19:59:40.309 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 19:59:40.315 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 19:59:40.323 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:59:40.329 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 19:59:40.333 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 19:59:40.337 +06:00 [INF] CORS policy execution successful.
2024-10-03 19:59:40.349 +06:00 [DBG] Successfully validated the token.
2024-10-03 19:59:40.352 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 19:59:40.363 +06:00 [DBG] Authorization was successful.
2024-10-03 19:59:40.367 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 19:59:40.372 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 19:59:40.380 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 19:59:40.383 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 19:59:40.384 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 19:59:40.386 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 19:59:40.387 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 19:59:40.388 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:59:40.392 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 19:59:40.394 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:59:40.396 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 19:59:40.397 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 19:59:40.398 +06:00 [DBG] Connection id "0HN73MDE80INU", Request id "0HN73MDE80INU:00000003": started reading request body.
2024-10-03 19:59:40.401 +06:00 [DBG] Connection id "0HN73MDE80INU", Request id "0HN73MDE80INU:00000003": done reading request body.
2024-10-03 19:59:40.402 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 19:59:40.403 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:59:40.404 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:59:40.405 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 19:59:40.406 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 19:59:51.160 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 19:59:51.176 +06:00 [DBG] Creating DbConnection.
2024-10-03 19:59:51.179 +06:00 [DBG] Created DbConnection. (2ms).
2024-10-03 19:59:51.182 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:51.187 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:51.193 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 19:59:51.197 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-03 19:59:51.203 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 19:59:51.207 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:59:51.267 +06:00 [INF] Executed DbCommand (59ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 19:59:51.311 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:51.318 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 37ms reading results.
2024-10-03 19:59:51.321 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 19:59:51.324 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-10-03 20:00:06.786 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:06:12.131 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 20:06:12.420 +06:00 [DBG] Hosting starting
2024-10-03 20:06:12.527 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 20:06:12.556 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 20:06:12.575 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 20:06:12.582 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 20:06:12.598 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 20:06:12.635 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 20:06:12.666 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 20:06:12.684 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 20:06:12.700 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:06:12.709 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 20:06:12.717 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:06:12.728 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 20:06:12.736 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 20:06:12.746 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 20:06:12.750 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 20:06:13.292 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 20:06:13.295 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 20:06:13.300 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 20:06:13.304 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 20:06:13.306 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 20:06:13.308 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:06:13.311 +06:00 [INF] Hosting environment: Development
2024-10-03 20:06:13.312 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 20:06:13.313 +06:00 [DBG] Hosting started
2024-10-03 20:06:13.558 +06:00 [DBG] Connection id "0HN73MI56JAVC" accepted.
2024-10-03 20:06:13.565 +06:00 [DBG] Connection id "0HN73MI56JAVC" started.
2024-10-03 20:06:13.578 +06:00 [DBG] Connection id "0HN73MI56JAVC" received FIN.
2024-10-03 20:06:13.607 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:06:14.581 +06:00 [DBG] Connection id "0HN73MI56JAVC" stopped.
2024-10-03 20:06:14.587 +06:00 [DBG] Connection id "0HN73MI56JAVC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:06:18.060 +06:00 [DBG] Connection id "0HN73MI56JAVD" accepted.
2024-10-03 20:06:18.134 +06:00 [DBG] Connection id "0HN73MI56JAVD" started.
2024-10-03 20:06:18.332 +06:00 [DBG] Connection 0HN73MI56JAVD established using the following protocol: "Tls12"
2024-10-03 20:06:18.457 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 20:06:18.608 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 20:06:18.633 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 20:06:18.635 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:06:18.799 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 20:06:18.834 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 20:06:18.845 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 394.5574ms
2024-10-03 20:06:18.947 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 20:06:18.968 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 20:06:18.998 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 52.325ms
2024-10-03 20:06:19.091 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 131.3796ms
2024-10-03 20:06:19.167 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 20:06:19.174 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 20:06:19.176 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:06:19.495 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 329.4116ms
2024-10-03 20:06:22.705 +06:00 [DBG] Connection id "0HN73MI56JAVD" received FIN.
2024-10-03 20:06:22.715 +06:00 [DBG] The connection queue processing loop for 0HN73MI56JAVD completed.
2024-10-03 20:06:22.722 +06:00 [DBG] Connection id "0HN73MI56JAVD" is closed. The last processed stream ID was 7.
2024-10-03 20:06:22.726 +06:00 [DBG] Connection id "0HN73MI56JAVD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:06:22.747 +06:00 [DBG] Connection id "0HN73MI56JAVD" stopped.
2024-10-03 20:06:42.708 +06:00 [DBG] Connection id "0HN73MI56JAVE" accepted.
2024-10-03 20:06:42.712 +06:00 [DBG] Connection id "0HN73MI56JAVE" started.
2024-10-03 20:06:42.720 +06:00 [DBG] Connection 0HN73MI56JAVE established using the following protocol: "Tls12"
2024-10-03 20:06:42.727 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:06:42.740 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:06:42.746 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:06:42.748 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:06:42.751 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:06:42.757 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:06:42.759 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:06:42.894 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:06:42.897 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:06:42.932 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:06:42.936 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:06:42.943 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:06:42.947 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:06:42.952 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:06:42.957 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:06:42.964 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:06:43.241 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 20:06:43.478 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:06:43.516 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:06:43.526 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:06:43.534 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:06:43.550 +06:00 [DBG] Connection id "0HN73MI56JAVE", Request id "0HN73MI56JAVE:00000001": started reading request body.
2024-10-03 20:06:43.555 +06:00 [DBG] Connection id "0HN73MI56JAVE", Request id "0HN73MI56JAVE:00000001": done reading request body.
2024-10-03 20:06:43.583 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:06:43.589 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:06:43.597 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:06:43.605 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:06:43.623 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:06:44.320 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 20:06:44.326 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 20:06:44.588 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 20:06:44.786 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:06:44.933 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 20:06:45.281 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:06:45.366 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:06:45.421 +06:00 [DBG] Created DbConnection. (53ms).
2024-10-03 20:06:45.433 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.234 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.248 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:06:46.263 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (14ms).
2024-10-03 20:06:46.291 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (43ms).
2024-10-03 20:06:46.315 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:06:46.473 +06:00 [INF] Executed DbCommand (168ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:06:46.524 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.545 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 52ms reading results.
2024-10-03 20:06:46.559 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.571 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (12ms).
2024-10-03 20:06:46.742 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 20:06:46.813 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:06:46.823 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.830 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.833 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:06:46.833 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:06:46.836 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 20:06:46.843 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:06:46.871 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:06:46.885 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.892 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-10-03 20:06:46.903 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:46.910 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-10-03 20:06:47.027 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:06:47.040 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:06:47.043 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:06:47.044 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:06:47.045 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:06:47.047 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 20:06:47.062 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4098.6585ms
2024-10-03 20:06:47.063 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:06:47.067 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4304.4749 ms
2024-10-03 20:06:47.076 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:06:47.079 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:06:47.081 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 20:06:47.084 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 4357.2785ms
2024-10-03 20:06:52.720 +06:00 [DBG] Connection id "0HN73MI56JAVE" received FIN.
2024-10-03 20:06:52.724 +06:00 [DBG] Connection id "0HN73MI56JAVE" is closed. The last processed stream ID was 1.
2024-10-03 20:06:52.724 +06:00 [DBG] The connection queue processing loop for 0HN73MI56JAVE completed.
2024-10-03 20:06:52.729 +06:00 [DBG] Connection id "0HN73MI56JAVE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:06:52.752 +06:00 [DBG] Connection id "0HN73MI56JAVE" stopped.
2024-10-03 20:08:00.750 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 20:08:00.979 +06:00 [DBG] Hosting starting
2024-10-03 20:08:01.152 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 20:08:01.170 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 20:08:01.184 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 20:08:01.188 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 20:08:01.199 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 20:08:01.208 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 20:08:01.214 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 20:08:01.233 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 20:08:01.247 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:08:01.258 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 20:08:01.267 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:08:01.282 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 20:08:01.297 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 20:08:01.310 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 20:08:01.317 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 20:08:01.802 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 20:08:01.803 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 20:08:01.804 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 20:08:01.805 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 20:08:01.806 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 20:08:01.808 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:08:01.810 +06:00 [INF] Hosting environment: Development
2024-10-03 20:08:01.812 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 20:08:01.813 +06:00 [DBG] Hosting started
2024-10-03 20:08:02.294 +06:00 [DBG] Connection id "0HN73MJ5JBD9O" accepted.
2024-10-03 20:08:02.310 +06:00 [DBG] Connection id "0HN73MJ5JBD9P" accepted.
2024-10-03 20:08:02.314 +06:00 [DBG] Connection id "0HN73MJ5JBD9P" received FIN.
2024-10-03 20:08:02.314 +06:00 [DBG] Connection id "0HN73MJ5JBD9O" received FIN.
2024-10-03 20:08:02.374 +06:00 [DBG] Connection id "0HN73MJ5JBD9O" started.
2024-10-03 20:08:02.375 +06:00 [DBG] Connection id "0HN73MJ5JBD9P" started.
2024-10-03 20:08:02.435 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:08:02.435 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:08:02.464 +06:00 [DBG] Connection id "0HN73MJ5JBD9O" stopped.
2024-10-03 20:08:02.464 +06:00 [DBG] Connection id "0HN73MJ5JBD9P" stopped.
2024-10-03 20:08:02.468 +06:00 [DBG] Connection id "0HN73MJ5JBD9O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:08:02.468 +06:00 [DBG] Connection id "0HN73MJ5JBD9P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:08:05.116 +06:00 [DBG] Connection id "0HN73MJ5JBD9Q" accepted.
2024-10-03 20:08:05.122 +06:00 [DBG] Connection id "0HN73MJ5JBD9Q" started.
2024-10-03 20:08:05.314 +06:00 [DBG] Connection 0HN73MJ5JBD9Q established using the following protocol: "Tls12"
2024-10-03 20:08:05.530 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 20:08:05.775 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 20:08:05.826 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 20:08:05.830 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:08:06.093 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 20:08:06.142 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 20:08:06.150 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 635.9805ms
2024-10-03 20:08:06.277 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 20:08:06.278 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 20:08:06.301 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 23.6465ms
2024-10-03 20:08:06.396 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 118.3826ms
2024-10-03 20:08:06.459 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 20:08:06.465 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 20:08:06.467 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:08:06.817 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 358.2037ms
2024-10-03 20:08:09.792 +06:00 [DBG] Connection id "0HN73MJ5JBD9Q" received FIN.
2024-10-03 20:08:09.798 +06:00 [DBG] The connection queue processing loop for 0HN73MJ5JBD9Q completed.
2024-10-03 20:08:09.805 +06:00 [DBG] Connection id "0HN73MJ5JBD9Q" is closed. The last processed stream ID was 7.
2024-10-03 20:08:09.809 +06:00 [DBG] Connection id "0HN73MJ5JBD9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:08:09.835 +06:00 [DBG] Connection id "0HN73MJ5JBD9Q" stopped.
2024-10-03 20:08:19.651 +06:00 [DBG] Connection id "0HN73MJ5JBD9R" accepted.
2024-10-03 20:08:19.653 +06:00 [DBG] Connection id "0HN73MJ5JBD9R" started.
2024-10-03 20:08:19.662 +06:00 [DBG] Connection 0HN73MJ5JBD9R established using the following protocol: "Tls12"
2024-10-03 20:08:19.669 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:08:19.695 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:08:19.706 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:08:19.716 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:08:19.726 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:08:19.734 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:08:19.739 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:08:19.930 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:08:19.941 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:08:20.009 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:08:20.022 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:08:20.030 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:08:20.037 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:08:20.048 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:08:20.054 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:08:20.065 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:08:20.446 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 20:08:20.765 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:08:20.810 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:08:20.821 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:08:20.834 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:08:20.861 +06:00 [DBG] Connection id "0HN73MJ5JBD9R", Request id "0HN73MJ5JBD9R:00000001": started reading request body.
2024-10-03 20:08:20.870 +06:00 [DBG] Connection id "0HN73MJ5JBD9R", Request id "0HN73MJ5JBD9R:00000001": done reading request body.
2024-10-03 20:08:20.904 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:08:20.912 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:08:20.918 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:08:20.923 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:08:20.952 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:08:22.180 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 20:08:22.185 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 20:08:22.551 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 20:08:22.914 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:08:23.109 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 20:08:23.484 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:08:23.569 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:08:23.640 +06:00 [DBG] Created DbConnection. (67ms).
2024-10-03 20:08:23.650 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:24.411 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:24.424 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:08:24.437 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-10-03 20:08:24.463 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (40ms).
2024-10-03 20:08:24.481 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:08:24.661 +06:00 [INF] Executed DbCommand (179ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:08:24.713 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:24.735 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 56ms reading results.
2024-10-03 20:08:24.750 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:24.770 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (20ms).
2024-10-03 20:08:25.105 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 20:08:25.198 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:08:25.209 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:25.216 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:25.221 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:08:25.226 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-10-03 20:08:25.231 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 20:08:25.237 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:08:25.262 +06:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:08:25.276 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:25.281 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 8ms reading results.
2024-10-03 20:08:25.289 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:25.294 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-10-03 20:08:25.377 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:08:25.394 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:08:25.397 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:08:25.401 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:08:25.407 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:08:25.416 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 20:08:25.445 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 5374.38ms
2024-10-03 20:08:25.452 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:08:25.466 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5712.1756 ms
2024-10-03 20:08:25.481 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:08:25.491 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:08:25.502 +06:00 [DBG] Disposed connection to database '' on server '' (10ms).
2024-10-03 20:08:25.513 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5844.2843ms
2024-10-03 20:08:29.832 +06:00 [DBG] Connection id "0HN73MJ5JBD9R" received FIN.
2024-10-03 20:08:29.837 +06:00 [DBG] Connection id "0HN73MJ5JBD9R" is closed. The last processed stream ID was 1.
2024-10-03 20:08:29.838 +06:00 [DBG] The connection queue processing loop for 0HN73MJ5JBD9R completed.
2024-10-03 20:08:29.842 +06:00 [DBG] Connection id "0HN73MJ5JBD9R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:08:29.864 +06:00 [DBG] Connection id "0HN73MJ5JBD9R" stopped.
2024-10-03 20:09:07.888 +06:00 [DBG] Connection id "0HN73MJ5JBD9S" accepted.
2024-10-03 20:09:07.901 +06:00 [DBG] Connection id "0HN73MJ5JBD9S" started.
2024-10-03 20:09:07.907 +06:00 [DBG] Connection 0HN73MJ5JBD9S established using the following protocol: "Tls12"
2024-10-03 20:09:07.927 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 80
2024-10-03 20:09:07.936 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:09:07.937 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:09:07.939 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:09:07.940 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:09:07.941 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:09:07.942 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:09:08.044 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:09:08.053 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:09:08.071 +06:00 [DBG] Authorization was successful.
2024-10-03 20:09:08.077 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:09:08.093 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:09:08.104 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:09:08.106 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:09:08.108 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:09:08.109 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:09:08.110 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:09:08.111 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:09:08.114 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:09:08.116 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:09:08.119 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 20:09:08.121 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:09:08.128 +06:00 [DBG] Connection id "0HN73MJ5JBD9S", Request id "0HN73MJ5JBD9S:00000001": started reading request body.
2024-10-03 20:09:08.129 +06:00 [DBG] Connection id "0HN73MJ5JBD9S", Request id "0HN73MJ5JBD9S:00000001": done reading request body.
2024-10-03 20:09:08.137 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 20:09:08.139 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:09:08.140 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:09:08.142 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:09:08.150 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:09:21.702 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:09:21.714 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 20:09:21.732 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:09:21.742 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:09:21.747 +06:00 [DBG] Created DbConnection. (4ms).
2024-10-03 20:09:21.751 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:21.753 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:21.755 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:09:21.756 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:09:21.758 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 20:09:21.762 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:09:21.808 +06:00 [INF] Executed DbCommand (45ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:09:21.817 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:21.825 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-10-03 20:09:21.828 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:21.829 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:09:29.992 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:09:50.256 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:09:50.328 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:09:51.649 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 20:09:51.659 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 20:09:51.703 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 20:09:51.712 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 20:09:51.726 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 20:09:51.733 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 20:09:51.936 +06:00 [DBG] Executing 2 update commands as a batch.
2024-10-03 20:09:51.958 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:51.964 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:51.972 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 20:09:51.990 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 20:09:52.004 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:09:52.011 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-03 20:09:52.021 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-03 20:09:52.029 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 20:09:52.617 +06:00 [INF] Executed DbCommand (589ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 20:09:52.687 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:52.693 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 40ms reading results.
2024-10-03 20:09:52.719 +06:00 [DBG] Disposing transaction.
2024-10-03 20:09:52.727 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:09:52.734 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-10-03 20:09:52.770 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_Products_ProductsId". The conflict occurred in database "Stocks", table "dbo.Products", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:989862a4-282a-4a86-8c83-b6bdcff03416
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_Products_ProductsId". The conflict occurred in database "Stocks", table "dbo.Products", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:989862a4-282a-4a86-8c83-b6bdcff03416
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-03 20:24:14.377 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-10-03 20:24:15.076 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 906964.0237ms
2024-10-03 20:24:15.084 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:24:15.236 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-10-03 20:24:15.248 +06:00 [ERR] HTTP POST /api/Product/SellProduct responded 500 in 907305.9544 ms
2024-10-03 20:24:15.256 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:24:15.259 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:24:15.262 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-03 20:24:15.266 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 500 null application/json; charset=utf-8 907339.8909ms
2024-10-03 20:24:18.996 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 80
2024-10-03 20:24:19.013 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:24:19.017 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:24:19.021 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:24:19.024 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:24:19.028 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:24:19.030 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:24:19.053 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/3/2024 2:18:25 PM', Current time (UTC): '10/3/2024 2:24:19 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-03 20:24:19.067 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10/3/2024 2:18:25 PM', Current time (UTC): '10/3/2024 2:24:19 PM'.
2024-10-03 20:24:19.076 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-10-03 20:24:19.084 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-03 20:24:19.098 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-03 20:24:19.103 +06:00 [INF] HTTP POST /api/Product/SellProduct responded 401 in 71.0511 ms
2024-10-03 20:24:19.109 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 401 0 null 112.9279ms
2024-10-03 20:24:19.112 +06:00 [DBG] Connection id "0HN73MJ5JBD9S", Request id "0HN73MJ5JBD9S:00000003": started reading request body.
2024-10-03 20:24:19.113 +06:00 [DBG] Connection id "0HN73MJ5JBD9S", Request id "0HN73MJ5JBD9S:00000003": done reading request body.
2024-10-03 20:25:41.820 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 20:25:41.974 +06:00 [DBG] Hosting starting
2024-10-03 20:25:42.021 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 20:25:42.032 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 20:25:42.042 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 20:25:42.044 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 20:25:42.048 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 20:25:42.051 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 20:25:42.052 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 20:25:42.058 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 20:25:42.062 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:25:42.065 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 20:25:42.067 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:25:42.073 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 20:25:42.076 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 20:25:42.081 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 20:25:42.083 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 20:25:42.455 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 20:25:42.456 +06:00 [DBG] Connection id "0HN73MT1I3078" accepted.
2024-10-03 20:25:42.457 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 20:25:42.459 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 20:25:42.459 +06:00 [DBG] Connection id "0HN73MT1I3078" started.
2024-10-03 20:25:42.459 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 20:25:42.461 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 20:25:42.463 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:25:42.464 +06:00 [INF] Hosting environment: Development
2024-10-03 20:25:42.465 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 20:25:42.466 +06:00 [DBG] Hosting started
2024-10-03 20:25:42.495 +06:00 [DBG] Connection id "0HN73MT1I3078" received FIN.
2024-10-03 20:25:42.518 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:25:42.566 +06:00 [DBG] Connection id "0HN73MT1I3078" stopped.
2024-10-03 20:25:42.571 +06:00 [DBG] Connection id "0HN73MT1I3078" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:25:43.666 +06:00 [DBG] Connection id "0HN73MT1I3079" accepted.
2024-10-03 20:25:43.685 +06:00 [DBG] Connection id "0HN73MT1I3079" started.
2024-10-03 20:25:43.807 +06:00 [DBG] Connection 0HN73MT1I3079 established using the following protocol: "Tls12"
2024-10-03 20:25:43.883 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 20:25:44.035 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 20:25:44.071 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 20:25:44.076 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:25:44.270 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 20:25:44.306 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 20:25:44.313 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 434.9751ms
2024-10-03 20:25:45.623 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 20:25:45.623 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 20:25:45.664 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 40.9092ms
2024-10-03 20:25:45.721 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.404ms
2024-10-03 20:25:45.755 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 20:25:45.758 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 20:25:45.758 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:25:46.011 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 256.7577ms
2024-10-03 20:25:47.925 +06:00 [DBG] Connection id "0HN73MT1I3079" received FIN.
2024-10-03 20:25:47.931 +06:00 [DBG] The connection queue processing loop for 0HN73MT1I3079 completed.
2024-10-03 20:25:47.934 +06:00 [DBG] Connection id "0HN73MT1I3079" is closed. The last processed stream ID was 7.
2024-10-03 20:25:47.941 +06:00 [DBG] Connection id "0HN73MT1I3079" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:25:47.948 +06:00 [DBG] Connection id "0HN73MT1I3079" stopped.
2024-10-03 20:26:06.831 +06:00 [DBG] Connection id "0HN73MT1I307A" accepted.
2024-10-03 20:26:06.837 +06:00 [DBG] Connection id "0HN73MT1I307A" started.
2024-10-03 20:26:06.844 +06:00 [DBG] Connection 0HN73MT1I307A established using the following protocol: "Tls12"
2024-10-03 20:26:06.848 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:26:06.857 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:26:06.861 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:26:06.863 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:26:06.865 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:26:06.867 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:26:06.871 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:26:07.002 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:26:07.007 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:26:07.042 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:26:07.048 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:26:07.049 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:26:07.050 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:26:07.053 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:26:07.054 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:26:07.056 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:26:07.263 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 20:26:07.441 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:26:07.469 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:26:07.474 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:26:07.476 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:26:07.481 +06:00 [DBG] Connection id "0HN73MT1I307A", Request id "0HN73MT1I307A:00000001": started reading request body.
2024-10-03 20:26:07.482 +06:00 [DBG] Connection id "0HN73MT1I307A", Request id "0HN73MT1I307A:00000001": done reading request body.
2024-10-03 20:26:07.491 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:26:07.492 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:26:07.493 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:26:07.494 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:26:07.499 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:26:08.126 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 20:26:08.130 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 20:26:08.355 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 20:26:08.574 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:26:08.680 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 20:26:08.992 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:26:09.030 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:26:09.069 +06:00 [DBG] Created DbConnection. (33ms).
2024-10-03 20:26:09.075 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.563 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.575 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:26:09.581 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-03 20:26:09.591 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-03 20:26:09.607 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:26:09.707 +06:00 [INF] Executed DbCommand (101ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:26:09.741 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.765 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 40ms reading results.
2024-10-03 20:26:09.776 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.784 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-10-03 20:26:09.908 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 20:26:09.965 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:26:09.971 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.973 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.974 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:26:09.975 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:26:09.976 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:26:09.977 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:26:09.986 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:26:09.990 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.991 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 20:26:09.993 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:09.994 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 20:26:10.046 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:26:10.052 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:26:10.054 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:26:10.055 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:26:10.057 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:26:10.059 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 20:26:10.076 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3017.5058ms
2024-10-03 20:26:10.079 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:26:10.087 +06:00 [INF] HTTP POST /api/User/login responded 200 in 3207.9651 ms
2024-10-03 20:26:10.093 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:26:10.100 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:26:10.105 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 20:26:10.112 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3264.1515ms
2024-10-03 20:26:23.300 +06:00 [DBG] Connection id "0HN73MT1I307A" received FIN.
2024-10-03 20:26:23.302 +06:00 [DBG] Connection id "0HN73MT1I307A" is closed. The last processed stream ID was 1.
2024-10-03 20:26:23.302 +06:00 [DBG] The connection queue processing loop for 0HN73MT1I307A completed.
2024-10-03 20:26:23.304 +06:00 [DBG] Connection id "0HN73MT1I307A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:26:23.315 +06:00 [DBG] Connection id "0HN73MT1I307A" stopped.
2024-10-03 20:26:56.757 +06:00 [DBG] Connection id "0HN73MT1I307B" accepted.
2024-10-03 20:26:56.777 +06:00 [DBG] Connection id "0HN73MT1I307B" started.
2024-10-03 20:26:56.783 +06:00 [DBG] Connection 0HN73MT1I307B established using the following protocol: "Tls12"
2024-10-03 20:26:56.791 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 80
2024-10-03 20:26:56.801 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:26:56.801 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:26:56.803 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:26:56.803 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:26:56.804 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:26:56.805 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:26:56.869 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:26:56.874 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:26:56.887 +06:00 [DBG] Authorization was successful.
2024-10-03 20:26:56.889 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:26:56.894 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:26:56.897 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:26:56.898 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:26:56.899 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:26:56.900 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:26:56.901 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:26:56.902 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:26:56.904 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:26:56.905 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:26:56.906 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 20:26:56.907 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:26:56.916 +06:00 [DBG] Connection id "0HN73MT1I307B", Request id "0HN73MT1I307B:00000001": started reading request body.
2024-10-03 20:26:56.918 +06:00 [DBG] Connection id "0HN73MT1I307B", Request id "0HN73MT1I307B:00000001": done reading request body.
2024-10-03 20:26:56.921 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 20:26:56.922 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:26:56.923 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:26:56.924 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:26:56.927 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:27:11.206 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:27:11.212 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 20:27:11.220 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:27:11.223 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:27:11.223 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 20:27:11.224 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:27:11.225 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:27:11.226 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:27:11.227 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:27:11.227 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:27:11.228 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:27:11.245 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:27:11.248 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:27:11.249 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 20:27:11.250 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:27:11.251 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:27:26.004 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:33:03.836 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 20:33:03.938 +06:00 [DBG] Hosting starting
2024-10-03 20:33:03.972 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 20:33:03.980 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 20:33:03.987 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 20:33:03.989 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 20:33:03.993 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 20:33:03.997 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 20:33:03.998 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 20:33:04.005 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 20:33:04.012 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:33:04.015 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 20:33:04.017 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:33:04.020 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 20:33:04.024 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 20:33:04.030 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 20:33:04.033 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 20:33:04.320 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 20:33:04.323 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 20:33:04.324 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 20:33:04.324 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 20:33:04.325 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 20:33:04.326 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:33:04.326 +06:00 [INF] Hosting environment: Development
2024-10-03 20:33:04.327 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 20:33:04.328 +06:00 [DBG] Hosting started
2024-10-03 20:33:04.533 +06:00 [DBG] Connection id "0HN73N15A2B11" received FIN.
2024-10-03 20:33:04.539 +06:00 [DBG] Connection id "0HN73N15A2B11" accepted.
2024-10-03 20:33:04.541 +06:00 [DBG] Connection id "0HN73N15A2B11" started.
2024-10-03 20:33:04.556 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:33:04.575 +06:00 [DBG] Connection id "0HN73N15A2B11" stopped.
2024-10-03 20:33:04.577 +06:00 [DBG] Connection id "0HN73N15A2B11" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:33:13.244 +06:00 [DBG] Connection id "0HN73N15A2B12" accepted.
2024-10-03 20:33:13.637 +06:00 [DBG] Connection id "0HN73N15A2B12" started.
2024-10-03 20:33:13.781 +06:00 [DBG] Connection 0HN73N15A2B12 established using the following protocol: "Tls12"
2024-10-03 20:33:13.915 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 20:33:14.169 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 20:33:14.228 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 20:33:14.232 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:33:14.569 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 20:33:14.611 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 20:33:14.620 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 716.1429ms
2024-10-03 20:33:14.661 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 20:33:14.666 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 20:33:14.681 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.8631ms
2024-10-03 20:33:14.749 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 82.7366ms
2024-10-03 20:33:14.814 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 20:33:14.817 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 20:33:14.818 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:33:15.083 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 269.1764ms
2024-10-03 20:33:18.007 +06:00 [DBG] Connection id "0HN73N15A2B12" received FIN.
2024-10-03 20:33:18.012 +06:00 [DBG] The connection queue processing loop for 0HN73N15A2B12 completed.
2024-10-03 20:33:18.019 +06:00 [DBG] Connection id "0HN73N15A2B12" is closed. The last processed stream ID was 7.
2024-10-03 20:33:18.022 +06:00 [DBG] Connection id "0HN73N15A2B12" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:33:18.037 +06:00 [DBG] Connection id "0HN73N15A2B12" stopped.
2024-10-03 20:34:15.656 +06:00 [DBG] Connection id "0HN73N15A2B13" accepted.
2024-10-03 20:34:15.666 +06:00 [DBG] Connection id "0HN73N15A2B13" started.
2024-10-03 20:34:15.684 +06:00 [DBG] Connection 0HN73N15A2B13 established using the following protocol: "Tls12"
2024-10-03 20:34:15.691 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 80
2024-10-03 20:34:15.702 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:34:15.709 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:34:15.713 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:34:15.716 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:34:15.718 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:34:15.719 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:34:15.807 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:34:15.815 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-10-03 20:34:15.818 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-10-03 20:34:15.825 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-10-03 20:34:15.829 +06:00 [INF] HTTP POST /api/Product/SellProduct responded 401 in 102.2649 ms
2024-10-03 20:34:15.831 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 401 0 null 140.5267ms
2024-10-03 20:34:15.835 +06:00 [DBG] Connection id "0HN73N15A2B13", Request id "0HN73N15A2B13:00000001": started reading request body.
2024-10-03 20:34:15.837 +06:00 [DBG] Connection id "0HN73N15A2B13", Request id "0HN73N15A2B13:00000001": done reading request body.
2024-10-03 20:34:23.874 +06:00 [DBG] Connection id "0HN73N15A2B13" received FIN.
2024-10-03 20:34:23.898 +06:00 [DBG] Connection id "0HN73N15A2B13" is closed. The last processed stream ID was 1.
2024-10-03 20:34:23.899 +06:00 [DBG] The connection queue processing loop for 0HN73N15A2B13 completed.
2024-10-03 20:34:23.925 +06:00 [DBG] Connection id "0HN73N15A2B13" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:34:23.984 +06:00 [DBG] Connection id "0HN73N15A2B13" stopped.
2024-10-03 20:34:43.172 +06:00 [DBG] Connection id "0HN73N15A2B14" accepted.
2024-10-03 20:34:43.175 +06:00 [DBG] Connection id "0HN73N15A2B14" started.
2024-10-03 20:34:43.179 +06:00 [DBG] Connection 0HN73N15A2B14 established using the following protocol: "Tls12"
2024-10-03 20:34:43.186 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:34:43.197 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:34:43.200 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:34:43.205 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:34:43.208 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:34:43.210 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:34:43.211 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:34:43.218 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:34:43.222 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:34:43.327 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:34:43.334 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:34:43.337 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:34:43.339 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:34:43.342 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:34:43.344 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:34:43.350 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:34:43.592 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 20:34:43.813 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:34:43.834 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:34:43.841 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:34:43.845 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:34:43.857 +06:00 [DBG] Connection id "0HN73N15A2B14", Request id "0HN73N15A2B14:00000001": started reading request body.
2024-10-03 20:34:43.858 +06:00 [DBG] Connection id "0HN73N15A2B14", Request id "0HN73N15A2B14:00000001": done reading request body.
2024-10-03 20:34:43.871 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:34:43.873 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:34:43.874 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:34:43.875 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:34:43.885 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:34:44.701 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 20:34:44.705 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 20:34:44.911 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 20:34:45.121 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:34:45.224 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 20:34:45.498 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:34:45.574 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:34:45.605 +06:00 [DBG] Created DbConnection. (28ms).
2024-10-03 20:34:45.609 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:34:59.995 +06:00 [ERR] An error occurred using the connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:00.029 +06:00 [ERR] An exception occurred while iterating over the results of a query for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=72; handshake=31; [Login] initialization=2; authentication=5; [Post-Login] complete=14008; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5e4c5e85-2e2f-4fc8-80f4-abbe7d7db47a
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=72; handshake=31; [Login] initialization=2; authentication=5; [Post-Login] complete=14008; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:5e4c5e85-2e2f-4fc8-80f4-abbe7d7db47a
Error Number:-2,State:0,Class:11
2024-10-03 20:35:00.232 +06:00 [ERR] Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=72; handshake=31; [Login] initialization=2; authentication=5; [Post-Login] complete=14008; 
2024-10-03 20:35:00.354 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 17001.4204ms
2024-10-03 20:35:00.365 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:35:00.502 +06:00 [ERR] Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=72; handshake=31; [Login] initialization=2; authentication=5; [Post-Login] complete=14008; 
2024-10-03 20:35:00.520 +06:00 [ERR] HTTP POST /api/User/login responded 500 in 17307.9609 ms
2024-10-03 20:35:00.533 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:35:00.545 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:00.559 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-10-03 20:35:00.569 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 500 null application/json; charset=utf-8 17383.4209ms
2024-10-03 20:35:03.935 +06:00 [DBG] Connection id "0HN73N15A2B14" received FIN.
2024-10-03 20:35:03.950 +06:00 [DBG] Connection id "0HN73N15A2B14" is closed. The last processed stream ID was 1.
2024-10-03 20:35:03.952 +06:00 [DBG] The connection queue processing loop for 0HN73N15A2B14 completed.
2024-10-03 20:35:03.974 +06:00 [DBG] Connection id "0HN73N15A2B14" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:35:04.024 +06:00 [DBG] Connection id "0HN73N15A2B14" stopped.
2024-10-03 20:35:08.115 +06:00 [DBG] Connection id "0HN73N15A2B15" accepted.
2024-10-03 20:35:08.118 +06:00 [DBG] Connection id "0HN73N15A2B15" started.
2024-10-03 20:35:08.122 +06:00 [DBG] Connection 0HN73N15A2B15 established using the following protocol: "Tls12"
2024-10-03 20:35:08.129 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:35:08.171 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:35:08.171 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:35:08.173 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:35:08.174 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:35:08.174 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:35:08.175 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:35:08.179 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:35:08.182 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:35:08.183 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:35:08.184 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:35:08.185 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:35:08.186 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:35:08.187 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:35:08.188 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:35:08.189 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:35:08.193 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:35:08.195 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:35:08.197 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:35:08.199 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:35:08.200 +06:00 [DBG] Connection id "0HN73N15A2B15", Request id "0HN73N15A2B15:00000001": started reading request body.
2024-10-03 20:35:08.201 +06:00 [DBG] Connection id "0HN73N15A2B15", Request id "0HN73N15A2B15:00000001": done reading request body.
2024-10-03 20:35:08.202 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:35:08.203 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:35:08.203 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:35:08.204 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:35:08.205 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:35:08.255 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:35:08.260 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:35:08.261 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 20:35:08.262 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.366 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.371 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:35:09.380 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-03 20:35:09.395 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (23ms).
2024-10-03 20:35:09.405 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:35:09.522 +06:00 [INF] Executed DbCommand (112ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:35:09.566 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.581 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 46ms reading results.
2024-10-03 20:35:09.589 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.606 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (16ms).
2024-10-03 20:35:09.792 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 20:35:09.869 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:35:09.876 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.877 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.878 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:35:09.879 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:35:09.881 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-10-03 20:35:09.883 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:35:09.895 +06:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:35:09.900 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.901 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 20:35:09.903 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:09.904 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:35:09.982 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:35:09.990 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:35:09.992 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:35:09.993 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:35:09.997 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:35:10.001 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 20:35:10.010 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 1820.924ms
2024-10-03 20:35:10.013 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:35:10.015 +06:00 [INF] HTTP POST /api/User/login responded 200 in 1838.5547 ms
2024-10-03 20:35:10.018 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:35:10.019 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:35:10.021 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 20:35:10.024 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 1895.5832ms
2024-10-03 20:35:13.950 +06:00 [DBG] Connection id "0HN73N15A2B15" received FIN.
2024-10-03 20:35:13.968 +06:00 [DBG] Connection id "0HN73N15A2B15" is closed. The last processed stream ID was 1.
2024-10-03 20:35:13.969 +06:00 [DBG] The connection queue processing loop for 0HN73N15A2B15 completed.
2024-10-03 20:35:13.992 +06:00 [DBG] Connection id "0HN73N15A2B15" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:35:14.047 +06:00 [DBG] Connection id "0HN73N15A2B15" stopped.
2024-10-03 20:36:14.946 +06:00 [DBG] Connection id "0HN73N15A2B16" accepted.
2024-10-03 20:36:14.956 +06:00 [DBG] Connection id "0HN73N15A2B16" started.
2024-10-03 20:36:14.963 +06:00 [DBG] Connection 0HN73N15A2B16 established using the following protocol: "Tls12"
2024-10-03 20:36:14.970 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 80
2024-10-03 20:36:14.984 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:36:14.985 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:36:14.986 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:36:14.987 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:36:14.988 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:36:14.989 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:36:15.057 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:36:15.061 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:36:15.066 +06:00 [DBG] Authorization was successful.
2024-10-03 20:36:15.067 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:36:15.080 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:36:15.082 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:36:15.083 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:36:15.084 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:36:15.086 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:36:15.087 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:36:15.090 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:36:15.092 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:36:15.094 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:36:15.095 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 20:36:15.096 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:36:15.102 +06:00 [DBG] Connection id "0HN73N15A2B16", Request id "0HN73N15A2B16:00000001": started reading request body.
2024-10-03 20:36:15.104 +06:00 [DBG] Connection id "0HN73N15A2B16", Request id "0HN73N15A2B16:00000001": done reading request body.
2024-10-03 20:36:15.110 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 20:36:15.111 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:36:15.112 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:36:15.113 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:36:15.120 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:36:29.088 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:36:29.094 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 20:36:29.104 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:36:29.107 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:36:29.108 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 20:36:29.110 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:36:29.111 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:36:29.111 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:36:29.112 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:36:29.113 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:36:29.114 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:36:29.414 +06:00 [INF] Executed DbCommand (301ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:36:29.421 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:36:29.423 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 20:36:29.424 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:36:29.425 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:36:34.196 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:39:06.521 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 20:39:06.639 +06:00 [DBG] Hosting starting
2024-10-03 20:39:06.683 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 20:39:06.695 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 20:39:06.704 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 20:39:06.705 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 20:39:06.710 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 20:39:06.714 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 20:39:06.715 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 20:39:06.719 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 20:39:06.722 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:39:06.725 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 20:39:06.727 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:39:06.730 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 20:39:06.733 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 20:39:06.735 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 20:39:06.736 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 20:39:06.965 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 20:39:06.970 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 20:39:06.971 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 20:39:06.972 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 20:39:06.973 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 20:39:06.975 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:39:06.975 +06:00 [INF] Hosting environment: Development
2024-10-03 20:39:06.976 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 20:39:06.976 +06:00 [DBG] Hosting started
2024-10-03 20:39:07.012 +06:00 [DBG] Connection id "0HN73N4HATUJT" accepted.
2024-10-03 20:39:07.016 +06:00 [DBG] Connection id "0HN73N4HATUJT" started.
2024-10-03 20:39:07.018 +06:00 [DBG] Connection id "0HN73N4HATUJT" received FIN.
2024-10-03 20:39:07.033 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:39:07.055 +06:00 [DBG] Connection id "0HN73N4HATUJT" stopped.
2024-10-03 20:39:07.059 +06:00 [DBG] Connection id "0HN73N4HATUJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:39:08.066 +06:00 [DBG] Connection id "0HN73N4HATUJU" accepted.
2024-10-03 20:39:08.087 +06:00 [DBG] Connection id "0HN73N4HATUJU" started.
2024-10-03 20:39:08.190 +06:00 [DBG] Connection 0HN73N4HATUJU established using the following protocol: "Tls12"
2024-10-03 20:39:08.290 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 20:39:08.465 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 20:39:09.113 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 20:39:09.117 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:39:09.286 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 20:39:09.313 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 20:39:09.320 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 1039.9409ms
2024-10-03 20:39:10.241 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 20:39:10.241 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 20:39:10.263 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 22.7028ms
2024-10-03 20:39:10.353 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 112.4841ms
2024-10-03 20:39:10.404 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 20:39:10.406 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 20:39:10.407 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:39:10.654 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 249.9855ms
2024-10-03 20:39:12.647 +06:00 [DBG] Connection id "0HN73N4HATUJU" received FIN.
2024-10-03 20:39:12.652 +06:00 [DBG] The connection queue processing loop for 0HN73N4HATUJU completed.
2024-10-03 20:39:12.654 +06:00 [DBG] Connection id "0HN73N4HATUJU" is closed. The last processed stream ID was 7.
2024-10-03 20:39:12.656 +06:00 [DBG] Connection id "0HN73N4HATUJU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:39:12.664 +06:00 [DBG] Connection id "0HN73N4HATUJU" stopped.
2024-10-03 20:39:44.638 +06:00 [DBG] Connection id "0HN73N4HATUJV" accepted.
2024-10-03 20:39:44.645 +06:00 [DBG] Connection id "0HN73N4HATUJV" started.
2024-10-03 20:39:44.655 +06:00 [DBG] Connection 0HN73N4HATUJV established using the following protocol: "Tls12"
2024-10-03 20:39:44.660 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:39:44.673 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:39:44.682 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:39:44.685 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:39:44.690 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:39:44.693 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:39:44.696 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:39:44.807 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:39:44.810 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:39:44.852 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:39:44.855 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:39:44.856 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:39:44.858 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:39:44.860 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:39:44.862 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:39:44.866 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:39:45.164 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 20:39:45.433 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:39:45.457 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:39:45.465 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:39:45.470 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:39:45.482 +06:00 [DBG] Connection id "0HN73N4HATUJV", Request id "0HN73N4HATUJV:00000001": started reading request body.
2024-10-03 20:39:45.484 +06:00 [DBG] Connection id "0HN73N4HATUJV", Request id "0HN73N4HATUJV:00000001": done reading request body.
2024-10-03 20:39:45.501 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:39:45.502 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:39:45.503 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:39:45.504 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:39:45.516 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:39:51.475 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 20:39:51.478 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 20:39:51.737 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 20:39:52.018 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:39:52.146 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 20:39:52.529 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:39:52.618 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:39:52.670 +06:00 [DBG] Created DbConnection. (49ms).
2024-10-03 20:39:52.677 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.322 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.330 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:39:54.337 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-03 20:39:54.352 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-10-03 20:39:54.363 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:39:54.478 +06:00 [INF] Executed DbCommand (118ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:39:54.513 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.523 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 36ms reading results.
2024-10-03 20:39:54.529 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.536 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-10-03 20:39:54.774 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 20:39:54.843 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:39:54.847 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.849 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.850 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:39:54.851 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:39:54.852 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:39:54.853 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:39:54.895 +06:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:39:54.899 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.900 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 20:39:54.901 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:54.902 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:39:55.044 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:39:55.051 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:39:55.053 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:39:55.055 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:39:55.058 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:39:55.061 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 20:39:55.080 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 10210.6776ms
2024-10-03 20:39:55.084 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:39:55.091 +06:00 [INF] HTTP POST /api/User/login responded 200 in 10387.8353 ms
2024-10-03 20:39:55.096 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:39:55.100 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:39:55.102 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 20:39:55.105 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 10444.8729ms
2024-10-03 20:40:02.749 +06:00 [DBG] Connection id "0HN73N4HATUJV" received FIN.
2024-10-03 20:40:02.751 +06:00 [DBG] Connection id "0HN73N4HATUJV" is closed. The last processed stream ID was 1.
2024-10-03 20:40:02.751 +06:00 [DBG] The connection queue processing loop for 0HN73N4HATUJV completed.
2024-10-03 20:40:02.753 +06:00 [DBG] Connection id "0HN73N4HATUJV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:40:02.767 +06:00 [DBG] Connection id "0HN73N4HATUJV" stopped.
2024-10-03 20:41:00.898 +06:00 [DBG] Connection id "0HN73N4HATUK0" accepted.
2024-10-03 20:41:00.910 +06:00 [DBG] Connection id "0HN73N4HATUK0" started.
2024-10-03 20:41:00.922 +06:00 [DBG] Connection 0HN73N4HATUK0 established using the following protocol: "Tls12"
2024-10-03 20:41:00.928 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 80
2024-10-03 20:41:00.931 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:41:00.932 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:41:00.934 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:41:00.936 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:41:00.937 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:41:00.938 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:41:01.009 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:41:01.013 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:41:01.027 +06:00 [DBG] Authorization was successful.
2024-10-03 20:41:01.029 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:41:01.041 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:41:01.044 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:41:01.045 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:41:01.046 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:41:01.048 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:41:01.049 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:41:01.051 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:41:01.059 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:41:01.061 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:41:01.061 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 20:41:01.062 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:41:01.067 +06:00 [DBG] Connection id "0HN73N4HATUK0", Request id "0HN73N4HATUK0:00000001": started reading request body.
2024-10-03 20:41:01.069 +06:00 [DBG] Connection id "0HN73N4HATUK0", Request id "0HN73N4HATUK0:00000001": done reading request body.
2024-10-03 20:41:01.074 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 20:41:01.075 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:41:01.075 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:41:01.076 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:41:01.081 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:41:20.968 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:41:21.051 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.SKU == __sellProductDto_SKU_0)'
2024-10-03 20:41:21.099 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.SKU == @__sellProductDto_SKU_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:41:21.105 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:41:21.107 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 20:41:21.109 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:21.110 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:21.111 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:41:21.112 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:41:21.113 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 20:41:21.116 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:41:21.147 +06:00 [INF] Executed DbCommand (30ms) [Parameters=[@__sellProductDto_SKU_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[SKU] = @__sellProductDto_SKU_0
2024-10-03 20:41:21.154 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:21.156 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 20:41:21.158 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:21.159 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 20:41:39.666 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:41:52.874 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:41:52.913 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:41:53.923 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 20:41:53.932 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 20:41:53.964 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 20:41:53.973 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 20:41:53.979 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 20:41:53.982 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 20:41:54.105 +06:00 [DBG] Executing 2 update commands as a batch.
2024-10-03 20:41:54.122 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:54.124 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:54.129 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 20:41:54.142 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 20:41:54.148 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:41:54.153 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-03 20:41:54.158 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-10-03 20:41:54.161 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 20:41:54.245 +06:00 [INF] Executed DbCommand (86ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 20:41:54.265 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:54.268 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 18ms reading results.
2024-10-03 20:41:54.275 +06:00 [DBG] Disposing transaction.
2024-10-03 20:41:54.280 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:41:54.282 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-10-03 20:41:54.297 +06:00 [ERR] An exception occurred in the database while saving changes for context type 'DataAccess.DataBaseContext.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_Products_ProductsId". The conflict occurred in database "Stocks", table "dbo.Products", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fd2cfe14-a474-4670-908f-082e26807522
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Transactions_Products_ProductsId". The conflict occurred in database "Stocks", table "dbo.Products", column 'Id'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:fd2cfe14-a474-4670-908f-082e26807522
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-10-03 20:42:03.546 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-10-03 20:42:04.647 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 63596.1245ms
2024-10-03 20:42:04.659 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:42:04.740 +06:00 [ERR] An error occurred while saving the entity changes. See the inner exception for details.
2024-10-03 20:42:04.746 +06:00 [ERR] HTTP POST /api/Product/SellProduct responded 500 in 63807.4145 ms
2024-10-03 20:42:04.754 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:42:04.755 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:42:04.756 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 20:42:04.758 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 500 null application/json; charset=utf-8 63830.4909ms
2024-10-03 20:45:21.611 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 20:45:21.737 +06:00 [DBG] Hosting starting
2024-10-03 20:45:21.787 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 20:45:21.796 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 20:45:21.803 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 20:45:21.805 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 20:45:21.809 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 20:45:21.814 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 20:45:21.815 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 20:45:21.822 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 20:45:21.825 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:45:21.828 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 20:45:21.832 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:45:21.837 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 20:45:21.841 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 20:45:21.844 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 20:45:21.846 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 20:45:22.024 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 20:45:22.029 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 20:45:22.030 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 20:45:22.030 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 20:45:22.031 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 20:45:22.031 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:45:22.032 +06:00 [INF] Hosting environment: Development
2024-10-03 20:45:22.033 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 20:45:22.034 +06:00 [DBG] Hosting started
2024-10-03 20:45:22.428 +06:00 [DBG] Connection id "0HN73N817536S" received FIN.
2024-10-03 20:45:22.511 +06:00 [DBG] Connection id "0HN73N817536S" accepted.
2024-10-03 20:45:22.536 +06:00 [DBG] Connection id "0HN73N817536S" started.
2024-10-03 20:45:22.771 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:45:23.971 +06:00 [DBG] Connection id "0HN73N817536S" stopped.
2024-10-03 20:45:24.868 +06:00 [DBG] Connection id "0HN73N817536S" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:45:28.781 +06:00 [DBG] Connection id "0HN73N817536T" accepted.
2024-10-03 20:45:28.831 +06:00 [DBG] Connection id "0HN73N817536T" started.
2024-10-03 20:45:29.044 +06:00 [DBG] Connection 0HN73N817536T established using the following protocol: "Tls12"
2024-10-03 20:45:29.141 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 20:45:29.430 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 20:45:29.459 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 20:45:29.461 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:45:29.672 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 20:45:29.823 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 20:45:29.893 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 759.5194ms
2024-10-03 20:45:29.961 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 20:45:29.965 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 20:45:29.989 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 28.4922ms
2024-10-03 20:45:30.089 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 124.1472ms
2024-10-03 20:45:30.147 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 20:45:30.151 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 20:45:30.153 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:45:30.440 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 293.235ms
2024-10-03 20:45:33.458 +06:00 [DBG] Connection id "0HN73N817536T" received FIN.
2024-10-03 20:45:33.505 +06:00 [DBG] The connection queue processing loop for 0HN73N817536T completed.
2024-10-03 20:45:33.562 +06:00 [DBG] Connection id "0HN73N817536T" is closed. The last processed stream ID was 7.
2024-10-03 20:45:33.582 +06:00 [DBG] Connection id "0HN73N817536T" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:45:33.623 +06:00 [DBG] Connection id "0HN73N817536T" stopped.
2024-10-03 20:46:04.707 +06:00 [DBG] Connection id "0HN73N817536U" accepted.
2024-10-03 20:46:04.753 +06:00 [DBG] Connection id "0HN73N817536U" started.
2024-10-03 20:46:04.793 +06:00 [DBG] Connection 0HN73N817536U established using the following protocol: "Tls12"
2024-10-03 20:46:04.867 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:46:04.988 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:46:05.043 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:46:05.101 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:46:05.150 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:46:05.175 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:46:05.193 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:46:06.075 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:46:06.082 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:46:06.128 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:46:06.133 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:46:06.134 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:46:06.135 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:46:06.137 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:46:06.139 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:46:06.142 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:46:06.365 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 20:46:06.584 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:46:06.603 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:46:06.608 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:46:06.614 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:46:06.624 +06:00 [DBG] Connection id "0HN73N817536U", Request id "0HN73N817536U:00000001": started reading request body.
2024-10-03 20:46:06.625 +06:00 [DBG] Connection id "0HN73N817536U", Request id "0HN73N817536U:00000001": done reading request body.
2024-10-03 20:46:06.640 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:46:06.641 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:46:06.643 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:46:06.645 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:46:06.658 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:46:07.386 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 20:46:07.388 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 20:46:07.591 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 20:46:07.835 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:46:07.994 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 20:46:08.276 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:46:08.321 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:46:08.361 +06:00 [DBG] Created DbConnection. (35ms).
2024-10-03 20:46:08.369 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.181 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.190 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:46:10.198 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-10-03 20:46:10.207 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-10-03 20:46:10.220 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:46:10.317 +06:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:46:10.347 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.354 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 28ms reading results.
2024-10-03 20:46:10.359 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.367 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-10-03 20:46:10.513 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 20:46:10.585 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:46:10.596 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.598 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.599 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:46:10.600 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:46:10.600 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:46:10.601 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:46:10.608 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:46:10.612 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.613 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 20:46:10.613 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.614 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:46:10.647 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:46:10.655 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:46:10.656 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:46:10.657 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:46:10.660 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:46:10.662 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 20:46:10.673 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4529.8888ms
2024-10-03 20:46:10.674 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:46:10.680 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5433.7522 ms
2024-10-03 20:46:10.683 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:46:10.687 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:46:10.689 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 20:46:10.692 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5825.61ms
2024-10-03 20:46:13.502 +06:00 [DBG] Connection id "0HN73N817536U" received FIN.
2024-10-03 20:46:13.503 +06:00 [DBG] Connection id "0HN73N817536U" is closed. The last processed stream ID was 1.
2024-10-03 20:46:13.503 +06:00 [DBG] The connection queue processing loop for 0HN73N817536U completed.
2024-10-03 20:46:13.505 +06:00 [DBG] Connection id "0HN73N817536U" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:46:13.519 +06:00 [DBG] Connection id "0HN73N817536U" stopped.
2024-10-03 20:47:22.452 +06:00 [DBG] Connection id "0HN73N817536V" accepted.
2024-10-03 20:47:22.462 +06:00 [DBG] Connection id "0HN73N817536V" started.
2024-10-03 20:47:22.473 +06:00 [DBG] Connection 0HN73N817536V established using the following protocol: "Tls12"
2024-10-03 20:47:22.480 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 20:47:22.500 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 20:47:22.502 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 20:47:22.503 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 20:47:22.504 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:47:22.576 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:47:22.579 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:47:22.581 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 20:47:22.596 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:47:22.598 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:47:22.599 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:47:22.602 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:47:22.603 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:47:22.604 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:47:22.605 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:47:22.607 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:47:22.608 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 20:47:22.609 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 20:47:22.613 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 20:47:22.614 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 20:47:22.615 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 20:47:22.616 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 20:47:22.618 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 20:47:22.620 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 20:47:22.620 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 20:47:22.621 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 20:47:22.622 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 20:47:22.623 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 20:47:22.624 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 20:47:22.625 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 20:47:22.626 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 20:47:22.627 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 20:47:22.627 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 20:47:22.629 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 20:47:34.859 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:47:34.862 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 20:47:34.925 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:47:34.941 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:47:34.942 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 20:47:34.943 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:34.944 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:34.945 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:47:34.945 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:47:34.946 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:47:34.947 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 20:47:34.958 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 20:47:34.979 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:34.979 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-10-03 20:47:34.981 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:34.981 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:47:34.985 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 20:47:34.988 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:47:34.989 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:47:34.990 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:47:34.997 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:47:35.005 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:47:35.009 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:35.010 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:35.010 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:47:35.011 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:47:35.012 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:47:35.013 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 20:47:35.024 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 20:47:35.061 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:47:35.127 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:47:35.129 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:47:35.131 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:35.136 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 109ms reading results.
2024-10-03 20:47:35.138 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:35.138 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:47:36.776 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:47:36.778 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:47:36.779 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:47:36.779 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:47:36.780 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:47:36.781 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 20:47:51.388 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 28782.7461ms
2024-10-03 20:47:51.390 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 20:47:52.196 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 29690.5466 ms
2024-10-03 20:47:53.124 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:47:53.141 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:47:53.157 +06:00 [DBG] Disposed connection to database '' on server '' (15ms).
2024-10-03 20:47:58.454 +06:00 [DBG] Connection id "0HN73N817536V" received FIN.
2024-10-03 20:47:58.455 +06:00 [DBG] Connection id "0HN73N817536V" is closed. The last processed stream ID was 1.
2024-10-03 20:47:58.457 +06:00 [DBG] Connection id "0HN73N817536V" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:47:58.462 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 35984.7611ms
2024-10-03 20:47:58.467 +06:00 [DBG] The connection queue processing loop for 0HN73N817536V completed.
2024-10-03 20:47:58.493 +06:00 [DBG] Connection id "0HN73N817536V" stopped.
2024-10-03 20:49:10.211 +06:00 [DBG] Connection id "0HN73N8175370" accepted.
2024-10-03 20:49:10.226 +06:00 [DBG] Connection id "0HN73N8175370" started.
2024-10-03 20:49:10.231 +06:00 [DBG] Connection 0HN73N8175370 established using the following protocol: "Tls12"
2024-10-03 20:49:10.238 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 75
2024-10-03 20:49:10.243 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:49:10.244 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:49:10.245 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:49:10.247 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:49:10.248 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:49:10.249 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:49:10.257 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:49:10.258 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:49:10.265 +06:00 [DBG] Authorization was successful.
2024-10-03 20:49:10.266 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:49:10.273 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:49:10.276 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:49:10.278 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:49:10.280 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:49:10.282 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:49:10.283 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:49:10.285 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:49:10.289 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:49:10.291 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:49:10.292 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 20:49:10.294 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:49:10.296 +06:00 [DBG] Connection id "0HN73N8175370", Request id "0HN73N8175370:00000001": started reading request body.
2024-10-03 20:49:10.298 +06:00 [DBG] Connection id "0HN73N8175370", Request id "0HN73N8175370:00000001": done reading request body.
2024-10-03 20:49:10.306 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 20:49:10.307 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:49:10.309 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:49:10.310 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:49:10.313 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:49:29.192 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:49:29.196 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Id == __sellProductDto_Id_0)'
2024-10-03 20:49:29.202 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.Id == @__sellProductDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:49:29.205 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:49:29.205 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 20:49:29.206 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:49:29.207 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:49:29.208 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:49:29.209 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:49:29.209 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:49:29.210 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[Id] = @__sellProductDto_Id_0
2024-10-03 20:49:29.228 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__sellProductDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[Id] = @__sellProductDto_Id_0
2024-10-03 20:49:29.231 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:49:29.231 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-10-03 20:49:29.232 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:49:29.233 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:49:33.121 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:56:22.506 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 20:56:22.702 +06:00 [DBG] Hosting starting
2024-10-03 20:56:22.858 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 20:56:22.887 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 20:56:22.907 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 20:56:22.910 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 20:56:22.918 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 20:56:22.926 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 20:56:22.927 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 20:56:22.936 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 20:56:22.941 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:56:22.945 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 20:56:22.947 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 20:56:22.952 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 20:56:22.957 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 20:56:22.961 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 20:56:22.964 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 20:56:23.319 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 20:56:23.325 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 20:56:23.331 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 20:56:23.335 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 20:56:23.335 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 20:56:23.336 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 20:56:23.337 +06:00 [INF] Hosting environment: Development
2024-10-03 20:56:23.337 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 20:56:23.338 +06:00 [DBG] Hosting started
2024-10-03 20:56:23.404 +06:00 [DBG] Connection id "0HN73NE66NKMN" accepted.
2024-10-03 20:56:23.410 +06:00 [DBG] Connection id "0HN73NE66NKMN" started.
2024-10-03 20:56:23.444 +06:00 [DBG] Connection id "0HN73NE66NKMN" received FIN.
2024-10-03 20:56:23.466 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ProcessAuthenticationWithTelemetryAsync(Boolean isAsync, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 20:56:23.506 +06:00 [DBG] Connection id "0HN73NE66NKMN" stopped.
2024-10-03 20:56:23.511 +06:00 [DBG] Connection id "0HN73NE66NKMN" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:56:25.190 +06:00 [DBG] Connection id "0HN73NE66NKMO" accepted.
2024-10-03 20:56:25.223 +06:00 [DBG] Connection id "0HN73NE66NKMO" started.
2024-10-03 20:56:25.328 +06:00 [DBG] Connection 0HN73NE66NKMO established using the following protocol: "Tls12"
2024-10-03 20:56:25.454 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 20:56:25.620 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 20:56:25.668 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 20:56:25.670 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:56:25.909 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 20:56:25.950 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 20:56:25.956 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 517.7613ms
2024-10-03 20:56:26.765 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 20:56:26.772 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 20:56:26.795 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 29.563ms
2024-10-03 20:56:26.990 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 218.5422ms
2024-10-03 20:56:27.039 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 20:56:27.041 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 20:56:27.042 +06:00 [DBG] Request did not match any endpoints
2024-10-03 20:56:27.381 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 342.246ms
2024-10-03 20:56:29.769 +06:00 [DBG] Connection id "0HN73NE66NKMO" received FIN.
2024-10-03 20:56:29.813 +06:00 [DBG] The connection queue processing loop for 0HN73NE66NKMO completed.
2024-10-03 20:56:29.881 +06:00 [DBG] Connection id "0HN73NE66NKMO" is closed. The last processed stream ID was 7.
2024-10-03 20:56:29.937 +06:00 [DBG] Connection id "0HN73NE66NKMO" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 20:56:30.005 +06:00 [DBG] Connection id "0HN73NE66NKMO" stopped.
2024-10-03 20:57:00.008 +06:00 [DBG] Connection id "0HN73NE66NKMP" accepted.
2024-10-03 20:57:00.130 +06:00 [DBG] Connection id "0HN73NE66NKMP" started.
2024-10-03 20:57:00.187 +06:00 [DBG] Connection 0HN73NE66NKMP established using the following protocol: "Tls12"
2024-10-03 20:57:00.311 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-10-03 20:57:00.467 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 20:57:00.555 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 20:57:00.609 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:57:00.650 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:57:00.673 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:57:00.689 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:57:01.620 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 20:57:01.661 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:57:02.085 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 20:57:02.125 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:57:02.143 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:57:02.163 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:57:02.189 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:57:02.209 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:57:02.259 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:57:03.018 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 20:57:03.304 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 20:57:03.332 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:57:03.337 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 20:57:03.339 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:57:03.350 +06:00 [DBG] Connection id "0HN73NE66NKMP", Request id "0HN73NE66NKMP:00000001": started reading request body.
2024-10-03 20:57:03.350 +06:00 [DBG] Connection id "0HN73NE66NKMP", Request id "0HN73NE66NKMP:00000001": done reading request body.
2024-10-03 20:57:03.361 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 20:57:03.363 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:57:03.364 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:57:03.365 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 20:57:03.373 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 20:57:04.218 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 20:57:04.222 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 20:57:04.446 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 20:57:04.669 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:57:04.803 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 20:57:05.090 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:57:05.177 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:57:05.218 +06:00 [DBG] Created DbConnection. (40ms).
2024-10-03 20:57:05.228 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:05.870 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:05.880 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:57:05.890 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2024-10-03 20:57:05.905 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (25ms).
2024-10-03 20:57:05.926 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:57:06.074 +06:00 [INF] Executed DbCommand (150ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 20:57:06.109 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:06.122 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 35ms reading results.
2024-10-03 20:57:06.128 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:06.134 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-10-03 20:57:06.298 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 20:57:06.364 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:57:06.369 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:06.371 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:06.372 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:57:06.372 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:57:06.373 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:57:06.374 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:57:06.385 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 20:57:06.390 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:06.393 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 20:57:06.393 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:06.394 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:57:06.450 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:57:06.464 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:57:06.466 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:57:06.466 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:57:06.468 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:57:06.469 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 20:57:06.487 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4249.9869ms
2024-10-03 20:57:06.489 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 20:57:06.495 +06:00 [INF] HTTP POST /api/User/login responded 200 in 5763.2860 ms
2024-10-03 20:57:06.502 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:57:06.506 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:57:06.511 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-10-03 20:57:06.517 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 6222.6656ms
2024-10-03 20:58:04.138 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/Product/SellProduct - application/json 74
2024-10-03 20:58:04.163 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/SellProduct'
2024-10-03 20:58:04.164 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)' with route pattern 'api/Product/SellProduct' is valid for the request path '/api/Product/SellProduct'
2024-10-03 20:58:04.165 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:58:04.166 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:58:04.167 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-10-03 20:58:04.169 +06:00 [INF] CORS policy execution successful.
2024-10-03 20:58:04.230 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:58:04.237 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:58:04.254 +06:00 [DBG] Authorization was successful.
2024-10-03 20:58:04.258 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:58:04.262 +06:00 [INF] Route matched with {action = "SellProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SellProduct(Service.dtos.SellProductDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:58:04.263 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:58:04.264 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:58:04.265 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:58:04.266 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:58:04.268 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:58:04.269 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:58:04.272 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:58:04.273 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:58:04.273 +06:00 [DBG] Attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' using the name '' in request data ...
2024-10-03 20:58:04.274 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 20:58:04.278 +06:00 [DBG] Connection id "0HN73NE66NKMP", Request id "0HN73NE66NKMP:00000003": started reading request body.
2024-10-03 20:58:04.279 +06:00 [DBG] Connection id "0HN73NE66NKMP", Request id "0HN73NE66NKMP:00000003": done reading request body.
2024-10-03 20:58:04.283 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.SellProductDto'
2024-10-03 20:58:04.286 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:58:04.287 +06:00 [DBG] Done attempting to bind parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:58:04.288 +06:00 [DBG] Attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto' ...
2024-10-03 20:58:04.293 +06:00 [DBG] Done attempting to validate the bound parameter 'sellProductDto' of type 'Service.dtos.SellProductDto'.
2024-10-03 20:58:20.535 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:58:20.539 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Id == __sellProductDto_Id_0)'
2024-10-03 20:58:20.546 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: new SingleQueryingEnumerable<Product>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
            SELECT TOP(1) p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            WHERE p.Id == @__sellProductDto_Id_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:58:20.550 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:58:20.551 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 20:58:20.552 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:20.553 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:20.554 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:58:20.554 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:58:20.555 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:58:20.556 +06:00 [DBG] Executing DbCommand [Parameters=[@__sellProductDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[Id] = @__sellProductDto_Id_0
2024-10-03 20:58:20.574 +06:00 [INF] Executed DbCommand (18ms) [Parameters=[@__sellProductDto_Id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
FROM [Products] AS [p]
WHERE [p].[Id] = @__sellProductDto_Id_0
2024-10-03 20:58:20.578 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:20.579 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 20:58:20.580 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:20.581 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:58:29.613 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:58:55.550 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'Transactions.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:58:55.590 +06:00 [DBG] The navigation 'Transactions.Products' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:58:55.616 +06:00 [DBG] Context 'AppDbContext' started tracking 'Transactions' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:58:56.556 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-10-03 20:58:56.564 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 20:58:56.589 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 20:58:56.594 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-10-03 20:58:56.603 +06:00 [DBG] The unchanged property 'Transactions.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 20:58:56.605 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-10-03 20:58:56.725 +06:00 [DBG] Executing 2 update commands as a batch.
2024-10-03 20:58:56.741 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:56.746 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:56.751 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-10-03 20:58:56.769 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-10-03 20:58:56.774 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:58:56.776 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:58:56.784 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 20:58:56.786 +06:00 [DBG] Executing DbCommand [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 20:58:56.840 +06:00 [INF] Executed DbCommand (55ms) [Parameters=[@p10='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Size = 200), @p3='?' (Size = 100), @p4='?' (Size = 450), @p5='?' (DbType = Double), @p6='?' (DbType = Double), @p7='?' (Size = 20), @p8='?' (DbType = DateTime2), @p9='?' (Size = 450), @p11='?' (DbType = Int32), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32), @p14='?' (DbType = Double), @p15='?' (DbType = Double), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime2), @p18='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Products] SET [CategoriesId] = @p0, [CreatedAtUtc] = @p1, [Description] = @p2, [Name] = @p3, [SKU] = @p4, [StockAmount] = @p5, [UnitPrice] = @p6, [UnitType] = @p7, [UpdatedAtUtc] = @p8, [UserId] = @p9
OUTPUT 1
WHERE [Id] = @p10;
INSERT INTO [Transactions] ([BussinessEntitiesId], [CreatedAtUtc], [ProductsId], [Qty], [TotalPrice], [TransactionTypes], [UpdatedAtUtc], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2024-10-03 20:58:56.854 +06:00 [DBG] The foreign key property 'Transactions.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-10-03 20:58:56.859 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:56.861 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 16ms reading results.
2024-10-03 20:58:56.864 +06:00 [DBG] Committing transaction.
2024-10-03 20:58:56.869 +06:00 [DBG] Committed transaction.
2024-10-03 20:58:56.872 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:58:56.873 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 20:58:56.875 +06:00 [DBG] Disposing transaction.
2024-10-03 20:58:56.884 +06:00 [DBG] An entity of type 'Transactions' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:58:56.887 +06:00 [DBG] An entity of type 'Product' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:58:56.889 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2024-10-03 20:59:07.172 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:59:07.216 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:59:07.229 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:59:07.257 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:59:07.280 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:59:07.303 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Boolean'.
2024-10-03 20:59:07.372 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.SellProduct (WebApplication1) in 63102.4669ms
2024-10-03 20:59:07.471 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.SellProduct (WebApplication1)'
2024-10-03 20:59:14.343 +06:00 [INF] HTTP POST /api/Product/SellProduct responded 200 in 70172.0534 ms
2024-10-03 20:59:16.463 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:59:16.464 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:16.465 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 20:59:19.068 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/Product/SellProduct - 200 null application/json; charset=utf-8 74929.8746ms
2024-10-03 20:59:31.038 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - null null
2024-10-03 20:59:31.046 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Product/ShowAllProduct'
2024-10-03 20:59:31.047 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)' with route pattern 'api/Product/ShowAllProduct' is valid for the request path '/api/Product/ShowAllProduct'
2024-10-03 20:59:31.050 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 20:59:31.050 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 20:59:31.053 +06:00 [DBG] Successfully validated the token.
2024-10-03 20:59:31.054 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 20:59:31.055 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 20:59:31.079 +06:00 [INF] Route matched with {action = "ShowAllPaginatedProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllPaginatedProduct(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.ProductController (WebApplication1).
2024-10-03 20:59:31.084 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 20:59:31.085 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 20:59:31.085 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 20:59:31.087 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 20:59:31.087 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 20:59:31.090 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:59:31.093 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.ProductController (WebApplication1)
2024-10-03 20:59:31.094 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 20:59:31.095 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 20:59:31.099 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 20:59:31.101 +06:00 [DBG] Could not find a value in the request with name 'PageSize' for binding property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 20:59:31.102 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 20:59:31.103 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 20:59:31.104 +06:00 [DBG] Could not find a value in the request with name 'PageNumber' for binding property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 20:59:31.106 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 20:59:31.107 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 20:59:31.109 +06:00 [DBG] Could not find a value in the request with name 'SortBy' for binding property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 20:59:31.109 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 20:59:31.110 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 20:59:31.111 +06:00 [DBG] Could not find a value in the request with name 'SortOrder' for binding property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 20:59:31.112 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 20:59:31.113 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 20:59:31.114 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 20:59:31.115 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 20:59:31.116 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 20:59:35.301 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 20:59:35.311 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Count()'
2024-10-03 20:59:35.349 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 20:59:35.367 +06:00 [DBG] Creating DbConnection.
2024-10-03 20:59:35.372 +06:00 [DBG] Created DbConnection. (4ms).
2024-10-03 20:59:35.373 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.374 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.374 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:59:35.375 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:59:35.375 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:59:35.376 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 20:59:35.380 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-10-03 20:59:35.399 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.400 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 17ms reading results.
2024-10-03 20:59:35.401 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.402 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 20:59:35.404 +06:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 20:59:35.407 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:59:35.408 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:59:35.408 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:59:35.413 +06:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-10-03 20:59:35.417 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Product>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.CategoriesId (int) Required FK Index, 1], [Property: Product.CreatedAtUtc (DateTime) Required, 2], [Property: Product.Description (string) MaxLength(200), 3], [Property: Product.Name (string) Required MaxLength(100), 4], [Property: Product.SKU (string) Required Index, 5], [Property: Product.StockAmount (double) Required, 6], [Property: Product.UnitPrice (double) Required, 7], [Property: Product.UnitType (string) Required MaxLength(20), 8], [Property: Product.UpdatedAtUtc (DateTime?), 9], [Property: Product.UserId (string) Required FK Index, 10] }
        SELECT t.Id, t.CategoriesId, t.CreatedAtUtc, t.Description, t.Name, t.SKU, t.StockAmount, t.UnitPrice, t.UnitType, t.UpdatedAtUtc, t.UserId
        FROM 
        (
            SELECT p.Id, p.CategoriesId, p.CreatedAtUtc, p.Description, p.Name, p.SKU, p.StockAmount, p.UnitPrice, p.UnitType, p.UpdatedAtUtc, p.UserId
            FROM Products AS p
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Product>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 20:59:35.420 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.421 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.424 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 20:59:35.424 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 20:59:35.425 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 20:59:35.426 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 20:59:35.430 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CategoriesId], [t].[CreatedAtUtc], [t].[Description], [t].[Name], [t].[SKU], [t].[StockAmount], [t].[UnitPrice], [t].[UnitType], [t].[UpdatedAtUtc], [t].[UserId]
FROM (
    SELECT [p].[Id], [p].[CategoriesId], [p].[CreatedAtUtc], [p].[Description], [p].[Name], [p].[SKU], [p].[StockAmount], [p].[UnitPrice], [p].[UnitType], [p].[UpdatedAtUtc], [p].[UserId]
    FROM [Products] AS [p]
    ORDER BY (SELECT 1)
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 20:59:35.433 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:59:35.435 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:59:35.435 +06:00 [DBG] Context 'AppDbContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 20:59:35.436 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.437 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 5ms reading results.
2024-10-03 20:59:35.438 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:35.439 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 20:59:42.144 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 20:59:42.149 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 20:59:42.149 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 20:59:42.152 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 20:59:42.153 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 20:59:42.156 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowProductDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 20:59:56.323 +06:00 [INF] Executed action WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1) in 25233.3195ms
2024-10-03 20:59:56.328 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.ProductController.ShowAllPaginatedProduct (WebApplication1)'
2024-10-03 20:59:57.707 +06:00 [INF] HTTP GET /api/Product/ShowAllProduct responded 200 in 26655.8469 ms
2024-10-03 20:59:58.415 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 20:59:58.417 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 20:59:58.419 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 20:59:59.221 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Product/ShowAllProduct - 200 null application/json; charset=utf-8 28183.1153ms
2024-10-03 21:00:30.070 +06:00 [DBG] Connection id "0HN73NE66NKMP" received FIN.
2024-10-03 21:00:30.072 +06:00 [DBG] Connection id "0HN73NE66NKMP" is closed. The last processed stream ID was 5.
2024-10-03 21:00:30.073 +06:00 [DBG] Connection id "0HN73NE66NKMP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 21:00:30.077 +06:00 [DBG] The connection queue processing loop for 0HN73NE66NKMP completed.
2024-10-03 21:00:30.087 +06:00 [DBG] Connection id "0HN73NE66NKMP" stopped.
2024-10-03 22:34:09.195 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-10-03 22:34:09.374 +06:00 [DBG] Hosting starting
2024-10-03 22:34:09.515 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-10-03 22:34:09.525 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-10-03 22:34:09.536 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-10-03 22:34:09.539 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-10-03 22:34:09.544 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-10-03 22:34:09.548 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-10-03 22:34:09.549 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-10-03 22:34:09.553 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-10-03 22:34:09.556 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 22:34:09.558 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-10-03 22:34:09.560 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-10-03 22:34:09.562 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-10-03 22:34:09.565 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-10-03 22:34:09.567 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-10-03 22:34:09.568 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-10-03 22:34:09.901 +06:00 [INF] Now listening on: https://localhost:7028
2024-10-03 22:34:09.903 +06:00 [INF] Now listening on: http://localhost:5145
2024-10-03 22:34:09.904 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-10-03 22:34:09.905 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-10-03 22:34:09.905 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-10-03 22:34:09.906 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-10-03 22:34:09.906 +06:00 [INF] Hosting environment: Development
2024-10-03 22:34:09.907 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-10-03 22:34:09.907 +06:00 [DBG] Hosting started
2024-10-03 22:34:10.246 +06:00 [DBG] Connection id "0HN73P4QL9QIG" received FIN.
2024-10-03 22:34:10.254 +06:00 [DBG] Connection id "0HN73P4QL9QIG" accepted.
2024-10-03 22:34:10.257 +06:00 [DBG] Connection id "0HN73P4QL9QIG" started.
2024-10-03 22:34:10.284 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-10-03 22:34:10.300 +06:00 [DBG] Connection id "0HN73P4QL9QIG" stopped.
2024-10-03 22:34:10.302 +06:00 [DBG] Connection id "0HN73P4QL9QIG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:34:10.379 +06:00 [DBG] Connection id "0HN73P4QL9QIH" accepted.
2024-10-03 22:34:10.392 +06:00 [DBG] Connection id "0HN73P4QL9QIH" started.
2024-10-03 22:34:10.467 +06:00 [DBG] Connection 0HN73P4QL9QIH established using the following protocol: "Tls12"
2024-10-03 22:34:10.576 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-10-03 22:34:10.769 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-10-03 22:34:10.782 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-10-03 22:34:10.785 +06:00 [DBG] Request did not match any endpoints
2024-10-03 22:34:10.867 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-10-03 22:34:10.884 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-10-03 22:34:10.889 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 316.1615ms
2024-10-03 22:34:10.918 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 22:34:10.933 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.3763ms
2024-10-03 22:34:10.940 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 22:34:11.004 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 64.2492ms
2024-10-03 22:34:11.287 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 22:34:11.289 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 22:34:11.291 +06:00 [DBG] Request did not match any endpoints
2024-10-03 22:34:11.464 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 176.5744ms
2024-10-03 22:36:22.737 +06:00 [DBG] Connection id "0HN73P4QL9QIH" is closing.
2024-10-03 22:36:22.745 +06:00 [DBG] Connection id "0HN73P4QL9QIH" is closed. The last processed stream ID was 7.
2024-10-03 22:36:22.747 +06:00 [DBG] Connection id "0HN73P4QL9QIH" received FIN.
2024-10-03 22:36:22.747 +06:00 [DBG] Connection id "0HN73P4QL9QIH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:36:22.748 +06:00 [DBG] The connection queue processing loop for 0HN73P4QL9QIH completed.
2024-10-03 22:36:22.750 +06:00 [DBG] Connection id "0HN73P4QL9QIH" stopped.
2024-10-03 22:38:22.956 +06:00 [DBG] Connection id "0HN73P4QL9QII" accepted.
2024-10-03 22:38:22.962 +06:00 [DBG] Connection id "0HN73P4QL9QII" started.
2024-10-03 22:38:22.967 +06:00 [DBG] Connection 0HN73P4QL9QII established using the following protocol: "Tls12"
2024-10-03 22:38:22.969 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=0 - null null
2024-10-03 22:38:22.977 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-10-03 22:38:22.988 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/getAllBusinessEntities' is valid for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-10-03 22:38:22.990 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-10-03 22:38:22.992 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:38:24.104 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 22:38:24.109 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-10-03 22:38:24.135 +06:00 [INF] Route matched with {action = "GetAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBusinessEntities(System.Nullable`1[DataAccess.Enums.BusinessType]) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-10-03 22:38:24.142 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:38:24.143 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:38:24.144 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:38:24.145 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:38:24.146 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:38:24.150 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:38:24.733 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-10-03 22:38:24.936 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:38:24.984 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-10-03 22:38:24.988 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' using the name 'UserType' in request data ...
2024-10-03 22:38:24.990 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-10-03 22:38:24.990 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-10-03 22:38:24.991 +06:00 [DBG] Attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-10-03 22:38:24.993 +06:00 [DBG] Done attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-10-03 22:38:25.752 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-10-03 22:38:25.756 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-10-03 22:38:25.970 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-10-03 22:38:26.185 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 22:38:26.383 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Where(u => (int?)u.Type == (int?)__UserType_0)'
2024-10-03 22:38:26.524 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
        FROM BussinessEntities AS b
        WHERE b.Type == @__UserType_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 22:38:26.556 +06:00 [DBG] Creating DbConnection.
2024-10-03 22:38:26.578 +06:00 [DBG] Created DbConnection. (20ms).
2024-10-03 22:38:26.586 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:27.444 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:27.455 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:38:27.460 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-10-03 22:38:27.469 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-10-03 22:38:27.474 +06:00 [DBG] Executing DbCommand [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-10-03 22:38:27.615 +06:00 [INF] Executed DbCommand (135ms) [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-10-03 22:38:27.678 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:38:27.737 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:27.747 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 120ms reading results.
2024-10-03 22:38:27.753 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:27.757 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-10-03 22:38:27.772 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:38:27.776 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:38:27.777 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 22:38:27.778 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 22:38:27.779 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 22:38:27.781 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 22:38:27.793 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1) in 3641.8894ms
2024-10-03 22:38:27.794 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-10-03 22:38:27.799 +06:00 [INF] HTTP GET /api/BusinessEntities/getAllBusinessEntities responded 200 in 4802.8128 ms
2024-10-03 22:38:27.802 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 22:38:27.806 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:27.808 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 22:38:27.810 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=0 - 200 null application/json; charset=utf-8 4840.6319ms
2024-10-03 22:38:34.690 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=1 - null null
2024-10-03 22:38:34.698 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-10-03 22:38:34.700 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/getAllBusinessEntities' is valid for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-10-03 22:38:34.702 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-10-03 22:38:34.703 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:38:34.704 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-10-03 22:38:34.705 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-10-03 22:38:34.705 +06:00 [INF] Route matched with {action = "GetAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBusinessEntities(System.Nullable`1[DataAccess.Enums.BusinessType]) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-10-03 22:38:34.707 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:38:34.707 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:38:34.708 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:38:34.709 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:38:34.710 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:38:34.711 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:38:34.716 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:38:34.718 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-10-03 22:38:34.719 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' using the name 'UserType' in request data ...
2024-10-03 22:38:34.719 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-10-03 22:38:34.720 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-10-03 22:38:34.721 +06:00 [DBG] Attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-10-03 22:38:34.721 +06:00 [DBG] Done attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-10-03 22:38:34.765 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 22:38:34.771 +06:00 [DBG] Creating DbConnection.
2024-10-03 22:38:34.772 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 22:38:34.773 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:34.774 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:34.774 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:38:34.775 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 22:38:34.776 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 22:38:34.776 +06:00 [DBG] Executing DbCommand [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-10-03 22:38:34.781 +06:00 [INF] Executed DbCommand (4ms) [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-10-03 22:38:34.783 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:38:34.784 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:34.785 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 22:38:34.785 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:34.786 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 22:38:34.787 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:38:34.788 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:38:34.789 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 22:38:34.789 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 22:38:34.790 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 22:38:34.790 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-10-03 22:38:34.791 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1) in 80.5802ms
2024-10-03 22:38:34.792 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-10-03 22:38:34.794 +06:00 [INF] HTTP GET /api/BusinessEntities/getAllBusinessEntities responded 200 in 90.3047 ms
2024-10-03 22:38:34.795 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 22:38:34.797 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:38:34.798 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 22:38:34.799 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=1 - 200 null application/json; charset=utf-8 109.1981ms
2024-10-03 22:39:31.482 +06:00 [DBG] Connection id "0HN73P4QL9QII" received FIN.
2024-10-03 22:39:31.487 +06:00 [DBG] Connection id "0HN73P4QL9QII" is closed. The last processed stream ID was 3.
2024-10-03 22:39:31.487 +06:00 [DBG] Connection id "0HN73P4QL9QII" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:39:31.501 +06:00 [DBG] The connection queue processing loop for 0HN73P4QL9QII completed.
2024-10-03 22:39:31.507 +06:00 [DBG] Connection id "0HN73P4QL9QII" stopped.
2024-10-03 22:44:46.411 +06:00 [DBG] Connection id "0HN73P4QL9QIJ" accepted.
2024-10-03 22:44:46.415 +06:00 [DBG] Connection id "0HN73P4QL9QIJ" started.
2024-10-03 22:44:46.433 +06:00 [DBG] Connection 0HN73P4QL9QIJ established using the following protocol: "Tls12"
2024-10-03 22:44:46.441 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-10-03 22:44:46.452 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 22:44:46.456 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-10-03 22:44:46.461 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:44:46.469 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:44:46.474 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:44:46.478 +06:00 [DBG] The request is a preflight request.
2024-10-03 22:44:46.483 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 42.4577ms
2024-10-03 22:44:46.488 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-10-03 22:44:46.509 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-10-03 22:44:46.514 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-10-03 22:44:46.522 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 22:44:46.526 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:44:46.529 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:44:46.534 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:44:46.749 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 6:50:53 PM', Current time (UTC): '10/3/2024 4:44:46 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-10-03 22:44:46.759 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/29/2024 6:50:53 PM', Current time (UTC): '10/3/2024 4:44:46 PM'.
2024-10-03 22:44:46.762 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 22:44:46.776 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-10-03 22:44:46.783 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:44:46.786 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:44:46.787 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:44:46.789 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:44:46.790 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:44:46.791 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 22:44:46.815 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-10-03 22:44:46.820 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 22:44:46.822 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-10-03 22:44:46.825 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-10-03 22:44:46.837 +06:00 [DBG] Connection id "0HN73P4QL9QIJ", Request id "0HN73P4QL9QIJ:00000003": started reading request body.
2024-10-03 22:44:46.842 +06:00 [DBG] Connection id "0HN73P4QL9QIJ", Request id "0HN73P4QL9QIJ:00000003": done reading request body.
2024-10-03 22:44:46.859 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-10-03 22:44:46.863 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 22:44:46.864 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 22:44:46.865 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-10-03 22:44:46.873 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-10-03 22:44:46.902 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 22:44:46.919 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-10-03 22:44:46.950 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 22:44:46.977 +06:00 [DBG] Creating DbConnection.
2024-10-03 22:44:46.980 +06:00 [DBG] Created DbConnection. (2ms).
2024-10-03 22:44:46.982 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:46.988 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:46.989 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:44:46.990 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 22:44:46.991 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 22:44:46.992 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 22:44:47.008 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-10-03 22:44:47.014 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:47.015 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 22:44:47.017 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:47.018 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 22:44:47.330 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-10-03 22:44:47.403 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 22:44:47.415 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:47.422 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:47.428 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:44:47.432 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-03 22:44:47.438 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (9ms).
2024-10-03 22:44:47.443 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 22:44:47.474 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-10-03 22:44:47.485 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:47.491 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-10-03 22:44:47.496 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:47.499 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (3ms).
2024-10-03 22:44:47.532 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:44:47.545 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:44:47.548 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 22:44:47.551 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 22:44:47.554 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 22:44:47.561 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-10-03 22:44:47.570 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 779.2006ms
2024-10-03 22:44:47.634 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-10-03 22:44:47.832 +06:00 [INF] HTTP POST /api/User/login responded 200 in 1293.7569 ms
2024-10-03 22:44:47.857 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 22:44:47.886 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:44:47.889 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-10-03 22:44:47.893 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 1405.3141ms
2024-10-03 22:44:56.942 +06:00 [DBG] Connection id "0HN73P4QL9QIJ" received FIN.
2024-10-03 22:44:56.946 +06:00 [DBG] Connection id "0HN73P4QL9QIJ" is closed. The last processed stream ID was 3.
2024-10-03 22:44:56.951 +06:00 [DBG] Connection id "0HN73P4QL9QIJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:44:56.958 +06:00 [DBG] The connection queue processing loop for 0HN73P4QL9QIJ completed.
2024-10-03 22:44:56.963 +06:00 [DBG] Connection id "0HN73P4QL9QIJ" stopped.
2024-10-03 22:46:55.439 +06:00 [DBG] Connection id "0HN73P4QL9QIK" accepted.
2024-10-03 22:46:55.441 +06:00 [DBG] Connection id "0HN73P4QL9QIK" started.
2024-10-03 22:46:55.445 +06:00 [DBG] Connection 0HN73P4QL9QIK established using the following protocol: "Tls12"
2024-10-03 22:46:55.450 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:46:55.454 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-10-03 22:46:55.458 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-10-03 22:46:55.460 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:46:55.462 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:46:55.464 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:46:55.465 +06:00 [DBG] The request is a preflight request.
2024-10-03 22:46:55.466 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 16.6693ms
2024-10-03 22:46:55.469 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:46:55.477 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-10-03 22:46:55.478 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-10-03 22:46:55.482 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-10-03 22:46:55.486 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:46:55.487 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:46:55.488 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:46:55.507 +06:00 [DBG] Successfully validated the token.
2024-10-03 22:46:55.513 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 22:46:55.517 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-10-03 22:46:55.535 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-10-03 22:46:55.539 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:46:55.541 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:46:55.542 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:46:55.549 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:46:55.551 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:46:55.554 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-10-03 22:46:55.558 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-10-03 22:46:55.562 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:46:55.564 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 22:46:55.576 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 22:46:55.583 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 22:46:55.588 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 22:46:55.591 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 22:46:55.593 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 22:46:55.594 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 22:46:55.596 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 22:46:55.599 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 22:46:55.602 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:46:55.603 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:46:55.604 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:46:55.608 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:46:56.124 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 22:46:56.132 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .Count()'
2024-10-03 22:46:56.196 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Categories AS c), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 22:46:56.218 +06:00 [DBG] Creating DbConnection.
2024-10-03 22:46:56.220 +06:00 [DBG] Created DbConnection. (1ms).
2024-10-03 22:46:56.222 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:56.225 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:56.230 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:46:56.234 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-10-03 22:46:56.235 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-10-03 22:46:56.236 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-10-03 22:46:56.251 +06:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-10-03 22:46:56.255 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:56.256 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-10-03 22:46:56.258 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:56.259 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 22:46:57.980 +06:00 [DBG] Compiling query expression: 
'DbSet<Categories>()
    .OrderBy( => .Id)
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 22:46:58.005 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Categories>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Categories.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Categories.CreatedAtUtc (DateTime) Required, 1], [Property: Categories.Name (string) Required, 2], [Property: Categories.UpdatedAtUtc (DateTime?), 3], [Property: Categories.UsersId (string) FK Index, 4] }
        SELECT t.Id, t.CreatedAtUtc, t.Name, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT c.Id, c.CreatedAtUtc, c.Name, c.UpdatedAtUtc, c.UsersId
            FROM Categories AS c
            ORDER BY c.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        ORDER BY t.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Categories>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 22:46:58.013 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.017 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.020 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:46:58.023 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-10-03 22:46:58.028 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-03 22:46:58.032 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:46:58.051 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:46:58.065 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:46:58.085 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:46:58.089 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.090 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 33ms reading results.
2024-10-03 22:46:58.092 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.095 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-10-03 22:46:58.105 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:46:58.108 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:46:58.110 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 22:46:58.111 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 22:46:58.112 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 22:46:58.114 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-03 22:46:58.123 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 2569.5725ms
2024-10-03 22:46:58.126 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-10-03 22:46:58.127 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 2637.5842 ms
2024-10-03 22:46:58.129 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 22:46:58.131 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.133 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 22:46:58.135 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 2665.7537ms
2024-10-03 22:46:58.665 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:46:58.670 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 22:46:58.673 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-10-03 22:46:58.675 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:46:58.677 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:46:58.679 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:46:58.681 +06:00 [DBG] The request is a preflight request.
2024-10-03 22:46:58.683 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 17.9178ms
2024-10-03 22:46:58.687 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:46:58.695 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 22:46:58.697 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 22:46:58.701 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 22:46:58.705 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:46:58.708 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:46:58.710 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:46:58.712 +06:00 [DBG] Successfully validated the token.
2024-10-03 22:46:58.716 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 22:46:58.719 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 22:46:58.729 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-10-03 22:46:58.736 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:46:58.739 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:46:58.741 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:46:58.744 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:46:58.747 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:46:58.750 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:46:58.761 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:46:58.765 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:46:58.767 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 22:46:58.769 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 22:46:58.772 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 22:46:58.774 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 22:46:58.776 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 22:46:58.777 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 22:46:58.779 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 22:46:58.781 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 22:46:58.782 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 22:46:58.783 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:46:58.784 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:46:58.785 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:46:58.792 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:46:58.797 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 22:46:58.799 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Count()'
2024-10-03 22:46:58.803 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: new SingleQueryingEnumerable<int>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM BussinessEntities AS b), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, int>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-10-03 22:46:58.805 +06:00 [DBG] Creating DbConnection.
2024-10-03 22:46:58.806 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 22:46:58.806 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.807 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.808 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:46:58.809 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 22:46:58.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 22:46:58.811 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 22:46:58.822 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 22:46:58.825 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.827 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 22:46:58.828 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.830 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 22:46:58.833 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .OrderBy( => .Id)
    .Skip(__p_0)
    .Take(__p_1)
    .Skip(__p_0)
    .Take(__p_1)'
2024-10-03 22:46:58.842 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT t.Id, t.Address, t.CreatedAtUtc, t.Email, t.Name, t.Type, t.UpdatedAtUtc, t.UsersId
        FROM 
        (
            SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            ORDER BY b.Id ASC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS t
        ORDER BY t.Id ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-10-03 22:46:58.847 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.850 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.851 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:46:58.853 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 22:46:58.854 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 22:46:58.855 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY [b].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:46:58.862 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY [b].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:46:58.866 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:46:58.867 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:46:58.869 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.870 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-10-03 22:46:58.872 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.873 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 22:46:58.875 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:46:58.877 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:46:58.878 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 22:46:58.879 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 22:46:58.880 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 22:46:58.882 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-03 22:46:58.886 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 135.5546ms
2024-10-03 22:46:58.888 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 22:46:58.890 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 178.2726 ms
2024-10-03 22:46:58.892 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 22:46:58.893 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:46:58.895 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 22:46:58.897 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 209.9832ms
2024-10-03 22:47:03.297 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:47:03.304 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-10-03 22:47:03.306 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-10-03 22:47:03.317 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:47:03.319 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:47:03.321 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:47:03.324 +06:00 [DBG] The request is a preflight request.
2024-10-03 22:47:03.325 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 27.9469ms
2024-10-03 22:47:03.333 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:47:03.344 +06:00 [DBG] 1 candidate(s) found for the request path '/api/Category/ShowAllCategories'
2024-10-03 22:47:03.348 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)' with route pattern 'api/Category/ShowAllCategories' is valid for the request path '/api/Category/ShowAllCategories'
2024-10-03 22:47:03.355 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-10-03 22:47:03.359 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:47:03.361 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:47:03.365 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:47:03.368 +06:00 [DBG] Successfully validated the token.
2024-10-03 22:47:03.369 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 22:47:03.372 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-10-03 22:47:03.375 +06:00 [INF] Route matched with {action = "ShowAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllCategories(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.CategoryController (WebApplication1).
2024-10-03 22:47:03.377 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:47:03.379 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:47:03.381 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:47:03.384 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:47:03.385 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:47:03.386 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-10-03 22:47:03.390 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.CategoryController (WebApplication1)
2024-10-03 22:47:03.392 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:47:03.394 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 22:47:03.396 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 22:47:03.398 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 22:47:03.399 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 22:47:03.400 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 22:47:03.403 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 22:47:03.404 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 22:47:03.405 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 22:47:03.407 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 22:47:03.408 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:47:03.409 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:47:03.410 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:47:03.411 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:47:03.413 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 22:47:03.414 +06:00 [DBG] Creating DbConnection.
2024-10-03 22:47:03.415 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 22:47:03.416 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:03.417 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:03.418 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:47:03.418 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-10-03 22:47:03.419 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-10-03 22:47:03.420 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-10-03 22:47:03.904 +06:00 [INF] Executed DbCommand (484ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Categories] AS [c]
2024-10-03 22:47:03.912 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:03.915 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 22:47:03.920 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:03.924 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (3ms).
2024-10-03 22:47:03.931 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:03.935 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:03.939 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:47:03.942 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-03 22:47:03.947 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-10-03 22:47:03.952 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:47:03.971 +06:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CreatedAtUtc], [t].[Name], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [c].[Id], [c].[CreatedAtUtc], [c].[Name], [c].[UpdatedAtUtc], [c].[UsersId]
    FROM [Categories] AS [c]
    ORDER BY [c].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:47:03.981 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:47:03.987 +06:00 [DBG] Context 'AppDbContext' started tracking 'Categories' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:47:03.992 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:03.997 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-10-03 22:47:04.003 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:04.009 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-10-03 22:47:04.016 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:47:04.026 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:47:04.028 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 22:47:04.030 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 22:47:04.031 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 22:47:04.032 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowCategoryDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-03 22:47:04.036 +06:00 [INF] Executed action WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1) in 649.56ms
2024-10-03 22:47:04.039 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.CategoryController.ShowAllCategories (WebApplication1)'
2024-10-03 22:47:04.040 +06:00 [INF] HTTP GET /api/Category/ShowAllCategories responded 200 in 672.6235 ms
2024-10-03 22:47:04.042 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 22:47:04.044 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:04.045 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-10-03 22:47:04.047 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/Category/ShowAllCategories?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 713.8627ms
2024-10-03 22:47:07.156 +06:00 [DBG] Connection id "0HN73P4QL9QIK" received FIN.
2024-10-03 22:47:07.160 +06:00 [DBG] Connection id "0HN73P4QL9QIK" is closed. The last processed stream ID was 11.
2024-10-03 22:47:07.160 +06:00 [DBG] The connection queue processing loop for 0HN73P4QL9QIK completed.
2024-10-03 22:47:07.164 +06:00 [DBG] Connection id "0HN73P4QL9QIK" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:47:07.174 +06:00 [DBG] Connection id "0HN73P4QL9QIK" stopped.
2024-10-03 22:47:18.179 +06:00 [DBG] Connection id "0HN73P4QL9QIL" accepted.
2024-10-03 22:47:18.182 +06:00 [DBG] Connection id "0HN73P4QL9QIL" started.
2024-10-03 22:47:18.188 +06:00 [DBG] Connection 0HN73P4QL9QIL established using the following protocol: "Tls12"
2024-10-03 22:47:18.192 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:47:18.204 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 22:47:18.206 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-10-03 22:47:18.208 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:47:18.210 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:47:18.213 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:47:18.215 +06:00 [DBG] The request is a preflight request.
2024-10-03 22:47:18.217 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 204 null null 25.2142ms
2024-10-03 22:47:18.221 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - null null
2024-10-03 22:47:18.232 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 22:47:18.236 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/ShowAllBusinessEntities' is valid for the request path '/api/BusinessEntities/ShowAllBusinessEntities'
2024-10-03 22:47:18.246 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 22:47:18.250 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-10-03 22:47:18.253 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-10-03 22:47:18.256 +06:00 [INF] CORS policy execution successful.
2024-10-03 22:47:18.258 +06:00 [DBG] Successfully validated the token.
2024-10-03 22:47:18.259 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-10-03 22:47:18.261 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 22:47:18.263 +06:00 [INF] Route matched with {action = "ShowAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ShowAllBusinessEntities(shared.dtos.PaginationSortDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-10-03 22:47:18.265 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-10-03 22:47:18.267 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-10-03 22:47:18.268 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-10-03 22:47:18.270 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-10-03 22:47:18.271 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-10-03 22:47:18.273 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:47:18.275 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-10-03 22:47:18.278 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:47:18.280 +06:00 [DBG] Attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' using the name '' in request data ...
2024-10-03 22:47:18.285 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-10-03 22:47:18.287 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageSize' of type 'System.Int32'.
2024-10-03 22:47:18.289 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-10-03 22:47:18.291 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.PageNumber' of type 'System.Int32'.
2024-10-03 22:47:18.292 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String' using the name 'SortBy' in request data ...
2024-10-03 22:47:18.294 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortBy' of type 'System.String'.
2024-10-03 22:47:18.295 +06:00 [DBG] Attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String' using the name 'SortOrder' in request data ...
2024-10-03 22:47:18.297 +06:00 [DBG] Done attempting to bind property 'shared.dtos.PaginationSortDto.SortOrder' of type 'System.String'.
2024-10-03 22:47:18.298 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:47:18.299 +06:00 [DBG] Done attempting to bind parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:47:18.300 +06:00 [DBG] Attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto' ...
2024-10-03 22:47:18.302 +06:00 [DBG] Done attempting to validate the bound parameter 'paginationSortDto' of type 'shared.dtos.PaginationSortDto'.
2024-10-03 22:47:18.305 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-10-03 22:47:18.307 +06:00 [DBG] Creating DbConnection.
2024-10-03 22:47:18.308 +06:00 [DBG] Created DbConnection. (0ms).
2024-10-03 22:47:18.309 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.310 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.312 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:47:18.313 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-10-03 22:47:18.314 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-10-03 22:47:18.315 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 22:47:18.320 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [BussinessEntities] AS [b]
2024-10-03 22:47:18.323 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.324 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-10-03 22:47:18.326 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.327 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-10-03 22:47:18.329 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.331 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.332 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-10-03 22:47:18.335 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-10-03 22:47:18.337 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-10-03 22:47:18.338 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY [b].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:47:18.343 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Address], [t].[CreatedAtUtc], [t].[Email], [t].[Name], [t].[Type], [t].[UpdatedAtUtc], [t].[UsersId]
FROM (
    SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
    FROM [BussinessEntities] AS [b]
    ORDER BY [b].[Id]
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [t]
ORDER BY [t].[Id]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-10-03 22:47:18.345 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:47:18.346 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-10-03 22:47:18.347 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.348 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-10-03 22:47:18.350 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.351 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-10-03 22:47:18.352 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-10-03 22:47:18.354 +06:00 [DBG] No information found on request to perform content negotiation.
2024-10-03 22:47:18.354 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-10-03 22:47:18.355 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-10-03 22:47:18.356 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-10-03 22:47:18.357 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.PaginatedServiceResponse`1[[System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-10-03 22:47:18.358 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1) in 85.191ms
2024-10-03 22:47:18.360 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.ShowAllBusinessEntities (WebApplication1)'
2024-10-03 22:47:18.361 +06:00 [INF] HTTP GET /api/BusinessEntities/ShowAllBusinessEntities responded 200 in 103.6945 ms
2024-10-03 22:47:18.362 +06:00 [DBG] 'AppDbContext' disposed.
2024-10-03 22:47:18.364 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-10-03 22:47:18.366 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-10-03 22:47:18.368 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/ShowAllBusinessEntities?PageSize=10&PageNumber=1&SortBy=Id&SortOrder=asc - 200 null application/json; charset=utf-8 146.9792ms
2024-10-03 22:48:07.256 +06:00 [DBG] Connection id "0HN73P4QL9QIL" received FIN.
2024-10-03 22:48:07.259 +06:00 [DBG] Connection id "0HN73P4QL9QIL" is closed. The last processed stream ID was 3.
2024-10-03 22:48:07.259 +06:00 [DBG] The connection queue processing loop for 0HN73P4QL9QIL completed.
2024-10-03 22:48:07.265 +06:00 [DBG] Connection id "0HN73P4QL9QIL" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 22:48:07.282 +06:00 [DBG] Connection id "0HN73P4QL9QIL" stopped.
2024-10-03 23:48:42.189 +06:00 [DBG] Connection id "0HN73P4QL9QIM" accepted.
2024-10-03 23:48:42.211 +06:00 [DBG] Connection id "0HN73P4QL9QIM" started.
2024-10-03 23:48:42.291 +06:00 [DBG] Connection 0HN73P4QL9QIM established using the following protocol: "Tls12"
2024-10-03 23:48:42.323 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-10-03 23:48:42.323 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-10-03 23:48:42.347 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 23.3372ms
2024-10-03 23:48:42.429 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 105.6576ms
2024-10-03 23:48:42.555 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-10-03 23:48:42.557 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-10-03 23:48:42.557 +06:00 [DBG] Request did not match any endpoints
2024-10-03 23:48:42.786 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 231.0417ms
2024-10-03 23:48:46.210 +06:00 [DBG] Connection id "0HN73P4QL9QIM" received FIN.
2024-10-03 23:48:46.228 +06:00 [DBG] Connection id "0HN73P4QL9QIM" is closed. The last processed stream ID was 5.
2024-10-03 23:48:46.233 +06:00 [DBG] The connection queue processing loop for 0HN73P4QL9QIM completed.
2024-10-03 23:48:46.244 +06:00 [DBG] Connection id "0HN73P4QL9QIM" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-10-03 23:48:46.281 +06:00 [DBG] Connection id "0HN73P4QL9QIM" stopped.
