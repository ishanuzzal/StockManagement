2024-09-28 00:02:55.433 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 00:02:55.564 +06:00 [DBG] Hosting starting
2024-09-28 00:02:55.602 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 00:02:55.620 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 00:02:55.638 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 00:02:55.641 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 00:02:55.650 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 00:02:55.661 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 00:02:55.663 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 00:02:55.674 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 00:02:55.678 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 00:02:55.684 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 00:02:55.689 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 00:02:55.698 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 00:02:55.707 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 00:02:55.712 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 00:02:55.716 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 00:02:56.027 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 00:02:56.028 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 00:02:56.030 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 00:02:56.032 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 00:02:56.033 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 00:02:56.034 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 00:02:56.039 +06:00 [INF] Hosting environment: Development
2024-09-28 00:02:56.041 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 00:02:56.042 +06:00 [DBG] Hosting started
2024-09-28 00:02:56.044 +06:00 [DBG] Connection id "0HN6V3QEKDDNG" received FIN.
2024-09-28 00:02:56.051 +06:00 [DBG] Connection id "0HN6V3QEKDDNG" accepted.
2024-09-28 00:02:56.053 +06:00 [DBG] Connection id "0HN6V3QEKDDNG" started.
2024-09-28 00:02:56.071 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 00:02:56.091 +06:00 [DBG] Connection id "0HN6V3QEKDDNG" stopped.
2024-09-28 00:02:56.094 +06:00 [DBG] Connection id "0HN6V3QEKDDNG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 00:02:56.248 +06:00 [DBG] Connection id "0HN6V3QEKDDNH" accepted.
2024-09-28 00:02:56.284 +06:00 [DBG] Connection id "0HN6V3QEKDDNH" started.
2024-09-28 00:02:56.539 +06:00 [DBG] Connection 0HN6V3QEKDDNH established using the following protocol: "Tls12"
2024-09-28 00:02:56.627 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 00:02:56.812 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 00:02:56.863 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 00:02:56.866 +06:00 [DBG] Request did not match any endpoints
2024-09-28 00:02:57.078 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 00:02:57.118 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 00:02:57.133 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 507.7413ms
2024-09-28 00:02:57.167 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 00:02:57.187 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 00:02:57.249 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 81.7569ms
2024-09-28 00:02:58.036 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 848.304ms
2024-09-28 00:02:58.104 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 00:02:58.109 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 00:02:58.110 +06:00 [DBG] Request did not match any endpoints
2024-09-28 00:02:58.330 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 226.0026ms
2024-09-28 00:03:00.542 +06:00 [DBG] Connection id "0HN6V3QEKDDNH" received FIN.
2024-09-28 00:03:00.547 +06:00 [DBG] The connection queue processing loop for 0HN6V3QEKDDNH completed.
2024-09-28 00:03:00.550 +06:00 [DBG] Connection id "0HN6V3QEKDDNH" is closed. The last processed stream ID was 7.
2024-09-28 00:03:00.552 +06:00 [DBG] Connection id "0HN6V3QEKDDNH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 00:03:00.557 +06:00 [DBG] Connection id "0HN6V3QEKDDNH" stopped.
2024-09-28 00:03:10.719 +06:00 [DBG] Connection id "0HN6V3QEKDDNI" accepted.
2024-09-28 00:03:10.722 +06:00 [DBG] Connection id "0HN6V3QEKDDNI" started.
2024-09-28 00:03:10.737 +06:00 [DBG] Connection 0HN6V3QEKDDNI established using the following protocol: "Tls12"
2024-09-28 00:03:10.746 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 57
2024-09-28 00:03:10.769 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 00:03:10.779 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 00:03:10.786 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 00:03:10.796 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 00:03:10.859 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 00:03:10.866 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 00:03:10.901 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 00:03:10.913 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 00:03:10.918 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 00:03:10.921 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 00:03:10.925 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 00:03:10.927 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 00:03:10.933 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 00:03:11.117 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 00:03:11.329 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 00:03:11.347 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 00:03:11.357 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 00:03:11.368 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 00:03:11.393 +06:00 [DBG] Connection id "0HN6V3QEKDDNI", Request id "0HN6V3QEKDDNI:00000001": started reading request body.
2024-09-28 00:03:11.396 +06:00 [DBG] Connection id "0HN6V3QEKDDNI", Request id "0HN6V3QEKDDNI:00000001": done reading request body.
2024-09-28 00:03:11.418 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 00:03:11.420 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 00:03:11.422 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 00:03:11.425 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 00:03:11.437 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 00:03:12.015 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 00:03:12.022 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 00:03:12.278 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 00:03:12.457 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 00:03:12.591 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 00:03:12.803 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 00:03:12.852 +06:00 [DBG] Creating DbConnection.
2024-09-28 00:03:12.878 +06:00 [DBG] Created DbConnection. (25ms).
2024-09-28 00:03:12.884 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 00:03:14.015 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 00:03:14.023 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 00:03:14.034 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-28 00:03:14.050 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-09-28 00:03:14.064 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 00:03:14.209 +06:00 [INF] Executed DbCommand (145ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 00:03:14.242 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 00:03:14.263 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 33ms reading results.
2024-09-28 00:03:14.276 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 00:03:14.295 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (18ms).
2024-09-28 00:03:14.316 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 00:03:14.328 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 00:03:14.331 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 00:03:14.334 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 00:03:14.339 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 00:03:14.345 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-28 00:03:14.358 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3422.3347ms
2024-09-28 00:03:14.364 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 00:03:14.371 +06:00 [INF] HTTP POST /api/User/login responded 400 in 3566.6127 ms
2024-09-28 00:03:14.378 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 00:03:14.384 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 00:03:14.389 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-28 00:03:14.395 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 400 null text/plain; charset=utf-8 3649.2884ms
2024-09-28 00:03:15.565 +06:00 [DBG] Connection id "0HN6V3QEKDDNI" received FIN.
2024-09-28 00:03:15.570 +06:00 [DBG] Connection id "0HN6V3QEKDDNI" is closed. The last processed stream ID was 1.
2024-09-28 00:03:15.570 +06:00 [DBG] The connection queue processing loop for 0HN6V3QEKDDNI completed.
2024-09-28 00:03:15.574 +06:00 [DBG] Connection id "0HN6V3QEKDDNI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 00:03:15.593 +06:00 [DBG] Connection id "0HN6V3QEKDDNI" stopped.
2024-09-28 13:20:10.521 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 13:20:10.697 +06:00 [DBG] Hosting starting
2024-09-28 13:20:10.738 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 13:20:10.750 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 13:20:10.766 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 13:20:10.769 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 13:20:10.779 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 13:20:10.788 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 13:20:10.791 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 13:20:10.801 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 13:20:10.809 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 13:20:10.814 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 13:20:10.818 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 13:20:10.824 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 13:20:10.830 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 13:20:10.834 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 13:20:10.838 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 13:20:10.990 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 13:20:10.993 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 13:20:10.994 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 13:20:10.995 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 13:20:10.996 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 13:20:10.997 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 13:20:10.998 +06:00 [INF] Hosting environment: Development
2024-09-28 13:20:10.998 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 13:20:10.999 +06:00 [DBG] Hosting started
2024-09-28 13:20:11.406 +06:00 [DBG] Connection id "0HN6VHNULVGUS" accepted.
2024-09-28 13:20:11.408 +06:00 [DBG] Connection id "0HN6VHNULVGUS" started.
2024-09-28 13:20:11.418 +06:00 [DBG] Connection id "0HN6VHNULVGUT" accepted.
2024-09-28 13:20:11.420 +06:00 [DBG] Connection id "0HN6VHNULVGUT" started.
2024-09-28 13:20:11.436 +06:00 [DBG] Connection id "0HN6VHNULVGUS" received FIN.
2024-09-28 13:20:11.436 +06:00 [DBG] Connection id "0HN6VHNULVGUT" received FIN.
2024-09-28 13:20:11.443 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 13:20:11.443 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 13:20:11.457 +06:00 [DBG] Connection id "0HN6VHNULVGUT" stopped.
2024-09-28 13:20:11.457 +06:00 [DBG] Connection id "0HN6VHNULVGUS" stopped.
2024-09-28 13:20:11.460 +06:00 [DBG] Connection id "0HN6VHNULVGUS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:20:11.460 +06:00 [DBG] Connection id "0HN6VHNULVGUT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:20:11.850 +06:00 [DBG] Connection id "0HN6VHNULVGUU" accepted.
2024-09-28 13:20:11.855 +06:00 [DBG] Connection id "0HN6VHNULVGUU" started.
2024-09-28 13:20:11.995 +06:00 [DBG] Connection 0HN6VHNULVGUU established using the following protocol: "Tls12"
2024-09-28 13:20:12.176 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 13:20:13.319 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 13:20:13.692 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 13:20:13.695 +06:00 [DBG] Request did not match any endpoints
2024-09-28 13:20:14.631 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 13:20:14.654 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 13:20:14.660 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 2490.303ms
2024-09-28 13:20:14.731 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 13:20:14.743 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.9977ms
2024-09-28 13:20:14.759 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 13:20:14.845 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.119ms
2024-09-28 13:20:15.289 +06:00 [DBG] Connection id "0HN6VHNULVGUU" received FIN.
2024-09-28 13:20:15.294 +06:00 [DBG] The connection queue processing loop for 0HN6VHNULVGUU completed.
2024-09-28 13:20:15.297 +06:00 [DBG] Connection id "0HN6VHNULVGUU" is closed. The last processed stream ID was 5.
2024-09-28 13:20:15.298 +06:00 [DBG] Connection id "0HN6VHNULVGUU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:20:15.315 +06:00 [DBG] Connection id "0HN6VHNULVGUU" stopped.
2024-09-28 13:20:15.362 +06:00 [DBG] Connection id "0HN6VHNULVGUV" accepted.
2024-09-28 13:20:15.365 +06:00 [DBG] Connection id "0HN6VHNULVGUV" started.
2024-09-28 13:20:15.371 +06:00 [DBG] Connection 0HN6VHNULVGUV established using the following protocol: "Tls12"
2024-09-28 13:20:15.376 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 13:20:15.384 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 13:20:15.387 +06:00 [DBG] Request did not match any endpoints
2024-09-28 13:20:15.674 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 298.5038ms
2024-09-28 13:20:25.301 +06:00 [DBG] Connection id "0HN6VHNULVGUV" received FIN.
2024-09-28 13:20:25.303 +06:00 [DBG] Connection id "0HN6VHNULVGUV" is closed. The last processed stream ID was 1.
2024-09-28 13:20:25.303 +06:00 [DBG] The connection queue processing loop for 0HN6VHNULVGUV completed.
2024-09-28 13:20:25.305 +06:00 [DBG] Connection id "0HN6VHNULVGUV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:20:25.315 +06:00 [DBG] Connection id "0HN6VHNULVGUV" stopped.
2024-09-28 13:20:30.208 +06:00 [DBG] Connection id "0HN6VHNULVGV0" accepted.
2024-09-28 13:20:30.210 +06:00 [DBG] Connection id "0HN6VHNULVGV0" started.
2024-09-28 13:20:30.221 +06:00 [DBG] Connection 0HN6VHNULVGV0 established using the following protocol: "Tls12"
2024-09-28 13:20:30.224 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:20:30.234 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:20:30.239 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:20:30.246 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:20:30.288 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 13:20:30.292 +06:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2024-09-28 13:20:30.293 +06:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2024-09-28 13:20:30.295 +06:00 [INF] HTTP OPTIONS /api/User/login responded 405 in 42.0395 ms
2024-09-28 13:20:30.297 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 405 0 null 72.0964ms
2024-09-28 13:20:35.311 +06:00 [DBG] Connection id "0HN6VHNULVGV0" received FIN.
2024-09-28 13:20:35.316 +06:00 [DBG] Connection id "0HN6VHNULVGV0" is closed. The last processed stream ID was 1.
2024-09-28 13:20:35.317 +06:00 [DBG] The connection queue processing loop for 0HN6VHNULVGV0 completed.
2024-09-28 13:20:35.318 +06:00 [DBG] Connection id "0HN6VHNULVGV0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:20:35.326 +06:00 [DBG] Connection id "0HN6VHNULVGV0" stopped.
2024-09-28 13:22:02.851 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 13:22:02.948 +06:00 [DBG] Hosting starting
2024-09-28 13:22:02.968 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 13:22:02.978 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 13:22:02.984 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 13:22:02.986 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 13:22:02.989 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 13:22:02.992 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 13:22:02.993 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 13:22:02.997 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 13:22:02.999 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 13:22:03.002 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 13:22:03.003 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 13:22:03.006 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 13:22:03.009 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 13:22:03.011 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 13:22:03.012 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 13:22:03.150 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 13:22:03.151 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 13:22:03.152 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 13:22:03.153 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 13:22:03.154 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 13:22:03.155 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 13:22:03.155 +06:00 [INF] Hosting environment: Development
2024-09-28 13:22:03.157 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 13:22:03.157 +06:00 [DBG] Hosting started
2024-09-28 13:22:03.219 +06:00 [DBG] Connection id "0HN6VHP009VCP" received FIN.
2024-09-28 13:22:03.225 +06:00 [DBG] Connection id "0HN6VHP009VCP" accepted.
2024-09-28 13:22:03.226 +06:00 [DBG] Connection id "0HN6VHP009VCP" started.
2024-09-28 13:22:03.228 +06:00 [DBG] Connection id "0HN6VHP009VCQ" accepted.
2024-09-28 13:22:03.232 +06:00 [DBG] Connection id "0HN6VHP009VCQ" started.
2024-09-28 13:22:03.246 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 13:22:03.266 +06:00 [DBG] Connection id "0HN6VHP009VCP" stopped.
2024-09-28 13:22:03.272 +06:00 [DBG] Connection id "0HN6VHP009VCP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:22:03.277 +06:00 [DBG] Connection 0HN6VHP009VCQ established using the following protocol: "Tls12"
2024-09-28 13:22:03.328 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 13:22:03.401 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 13:22:03.420 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 13:22:03.426 +06:00 [DBG] Request did not match any endpoints
2024-09-28 13:22:03.536 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 13:22:03.557 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 13:22:03.561 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 234.3867ms
2024-09-28 13:22:03.574 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 13:22:03.575 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 13:22:03.589 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 14.2306ms
2024-09-28 13:22:03.614 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 40.122ms
2024-09-28 13:22:03.846 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 13:22:03.847 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 13:22:03.848 +06:00 [DBG] Request did not match any endpoints
2024-09-28 13:22:04.033 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 186.8831ms
2024-09-28 13:22:05.487 +06:00 [DBG] Connection id "0HN6VHP009VCQ" received FIN.
2024-09-28 13:22:05.492 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VCQ completed.
2024-09-28 13:22:05.494 +06:00 [DBG] Connection id "0HN6VHP009VCQ" is closed. The last processed stream ID was 7.
2024-09-28 13:22:05.495 +06:00 [DBG] Connection id "0HN6VHP009VCQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:22:05.501 +06:00 [DBG] Connection id "0HN6VHP009VCQ" stopped.
2024-09-28 13:22:29.824 +06:00 [DBG] Connection id "0HN6VHP009VCR" accepted.
2024-09-28 13:22:29.836 +06:00 [DBG] Connection id "0HN6VHP009VCR" started.
2024-09-28 13:22:29.849 +06:00 [DBG] Connection 0HN6VHP009VCR established using the following protocol: "Tls12"
2024-09-28 13:22:29.856 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:22:29.866 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:22:29.871 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:22:29.876 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:22:29.882 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:22:29.887 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:22:29.888 +06:00 [DBG] The request is a preflight request.
2024-09-28 13:22:29.889 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 33.1131ms
2024-09-28 13:22:29.891 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 13:22:29.894 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:22:29.896 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 13:22:29.898 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:22:29.899 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:22:29.903 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:22:29.904 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:22:29.938 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 13:22:29.944 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 13:22:29.946 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:22:29.970 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 13:22:29.974 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 13:22:29.975 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 13:22:29.976 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 13:22:29.978 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 13:22:29.979 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 13:22:29.982 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:22:30.105 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 13:22:30.190 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:22:30.198 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:22:30.201 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 13:22:30.203 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 13:22:30.210 +06:00 [DBG] Connection id "0HN6VHP009VCR", Request id "0HN6VHP009VCR:00000003": started reading request body.
2024-09-28 13:22:30.210 +06:00 [DBG] Connection id "0HN6VHP009VCR", Request id "0HN6VHP009VCR:00000003": done reading request body.
2024-09-28 13:22:30.217 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 13:22:30.219 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:22:30.219 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:22:30.220 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:22:30.225 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:22:30.604 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 13:22:30.607 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 13:22:30.742 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 13:22:30.891 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 13:22:30.956 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 13:22:31.091 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 13:22:31.125 +06:00 [DBG] Creating DbConnection.
2024-09-28 13:22:31.148 +06:00 [DBG] Created DbConnection. (22ms).
2024-09-28 13:22:31.151 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:31.802 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:31.807 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:22:31.812 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-28 13:22:31.820 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-09-28 13:22:31.829 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:22:31.915 +06:00 [INF] Executed DbCommand (88ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:22:31.933 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:31.941 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-09-28 13:22:31.945 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:31.950 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-09-28 13:22:32.064 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 13:22:32.095 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 13:22:32.099 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:32.101 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:32.102 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:22:32.103 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 13:22:32.104 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:22:32.105 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:22:32.116 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:22:32.119 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:32.120 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 13:22:32.122 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:32.123 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:22:32.144 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 13:22:32.147 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 13:22:32.147 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 13:22:32.148 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 13:22:32.149 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 13:22:32.150 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 13:22:32.157 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 2174.4323ms
2024-09-28 13:22:32.158 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:22:32.161 +06:00 [INF] HTTP POST /api/User/login responded 200 in 2254.4464 ms
2024-09-28 13:22:32.163 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 13:22:32.166 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:22:32.168 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 13:22:32.170 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 2279.3713ms
2024-09-28 13:22:35.536 +06:00 [DBG] Connection id "0HN6VHP009VCR" received FIN.
2024-09-28 13:22:35.539 +06:00 [DBG] Connection id "0HN6VHP009VCR" is closed. The last processed stream ID was 3.
2024-09-28 13:22:35.539 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VCR completed.
2024-09-28 13:22:35.544 +06:00 [DBG] Connection id "0HN6VHP009VCR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:22:35.550 +06:00 [DBG] Connection id "0HN6VHP009VCR" stopped.
2024-09-28 13:43:01.062 +06:00 [DBG] Connection id "0HN6VHP009VCS" accepted.
2024-09-28 13:43:01.071 +06:00 [DBG] Connection id "0HN6VHP009VCS" started.
2024-09-28 13:43:01.103 +06:00 [DBG] Connection 0HN6VHP009VCS established using the following protocol: "Tls12"
2024-09-28 13:43:01.136 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:43:01.146 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:43:01.149 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:43:01.156 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:43:01.163 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:43:01.164 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:43:01.166 +06:00 [DBG] The request is a preflight request.
2024-09-28 13:43:01.170 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 35.2553ms
2024-09-28 13:43:01.174 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 13:43:01.181 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:43:01.185 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 13:43:01.190 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:01.191 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:43:01.193 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:43:01.194 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:43:01.229 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 13:43:01.248 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 13:43:01.252 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:01.262 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 13:43:01.266 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 13:43:01.267 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 13:43:01.269 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 13:43:01.271 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 13:43:01.273 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 13:43:01.275 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:43:01.297 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:43:01.303 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:43:01.306 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 13:43:01.311 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 13:43:01.314 +06:00 [DBG] Connection id "0HN6VHP009VCS", Request id "0HN6VHP009VCS:00000003": started reading request body.
2024-09-28 13:43:01.314 +06:00 [DBG] Connection id "0HN6VHP009VCS", Request id "0HN6VHP009VCS:00000003": done reading request body.
2024-09-28 13:43:01.318 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 13:43:01.319 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:01.320 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:01.321 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:43:01.329 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:01.430 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 13:43:01.451 +06:00 [DBG] Creating DbConnection.
2024-09-28 13:43:01.454 +06:00 [DBG] Created DbConnection. (3ms).
2024-09-28 13:43:01.455 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.587 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.593 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:43:01.596 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-28 13:43:01.599 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-28 13:43:01.602 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:43:01.633 +06:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:43:01.641 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.644 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-28 13:43:01.647 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.648 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:43:01.745 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.748 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.749 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:43:01.750 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 13:43:01.752 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 13:43:01.752 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:43:01.762 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:43:01.768 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.769 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 13:43:01.770 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.772 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:43:01.777 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 13:43:01.783 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 13:43:01.784 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 13:43:01.785 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 13:43:01.787 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 13:43:01.788 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 13:43:01.791 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 517.4425ms
2024-09-28 13:43:01.792 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:01.796 +06:00 [INF] HTTP POST /api/User/login responded 200 in 598.0569 ms
2024-09-28 13:43:01.798 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 13:43:01.800 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:01.802 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 13:43:01.804 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 630.4333ms
2024-09-28 13:43:02.495 +06:00 [DBG] Connection id "0HN6VHP009VCS" received FIN.
2024-09-28 13:43:02.496 +06:00 [DBG] Connection id "0HN6VHP009VCS" is closed. The last processed stream ID was 3.
2024-09-28 13:43:02.496 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VCS completed.
2024-09-28 13:43:02.499 +06:00 [DBG] Connection id "0HN6VHP009VCS" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:43:02.511 +06:00 [DBG] Connection id "0HN6VHP009VCS" stopped.
2024-09-28 13:43:08.628 +06:00 [DBG] Connection id "0HN6VHP009VCT" accepted.
2024-09-28 13:43:08.630 +06:00 [DBG] Connection id "0HN6VHP009VCT" started.
2024-09-28 13:43:08.634 +06:00 [DBG] Connection 0HN6VHP009VCT established using the following protocol: "Tls12"
2024-09-28 13:43:08.639 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:43:08.647 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:43:08.649 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:43:08.651 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:43:08.652 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:43:08.654 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:43:08.656 +06:00 [DBG] The request is a preflight request.
2024-09-28 13:43:08.663 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 23.4373ms
2024-09-28 13:43:08.667 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 13:43:08.681 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:43:08.685 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 13:43:08.691 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:08.695 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:43:08.698 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:43:08.700 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:43:08.713 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 13:43:08.737 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 13:43:08.740 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:08.746 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 13:43:08.749 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 13:43:08.751 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 13:43:08.753 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 13:43:08.756 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 13:43:08.761 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 13:43:08.764 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:43:08.784 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:43:08.785 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:43:08.787 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 13:43:08.791 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 13:43:08.796 +06:00 [DBG] Connection id "0HN6VHP009VCT", Request id "0HN6VHP009VCT:00000003": started reading request body.
2024-09-28 13:43:08.799 +06:00 [DBG] Connection id "0HN6VHP009VCT", Request id "0HN6VHP009VCT:00000003": done reading request body.
2024-09-28 13:43:08.800 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 13:43:08.802 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:08.803 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:08.805 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:43:08.806 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:08.829 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 13:43:08.835 +06:00 [DBG] Creating DbConnection.
2024-09-28 13:43:08.837 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 13:43:08.837 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.839 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.843 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:43:08.845 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:43:08.846 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 13:43:08.847 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:43:08.856 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:43:08.863 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.864 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 13:43:08.865 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.867 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:43:08.951 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.953 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.954 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:43:08.955 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:43:08.956 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 13:43:08.958 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:43:08.963 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:43:08.965 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.966 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 13:43:08.967 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.968 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:43:08.970 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 13:43:08.976 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 13:43:08.978 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 13:43:08.979 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 13:43:08.980 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 13:43:08.982 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 13:43:08.983 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 219.0993ms
2024-09-28 13:43:08.985 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:08.986 +06:00 [INF] HTTP POST /api/User/login responded 200 in 285.3439 ms
2024-09-28 13:43:08.988 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 13:43:08.994 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:08.997 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-28 13:43:09.000 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 332.1648ms
2024-09-28 13:43:12.507 +06:00 [DBG] Connection id "0HN6VHP009VCT" received FIN.
2024-09-28 13:43:12.512 +06:00 [DBG] Connection id "0HN6VHP009VCT" is closed. The last processed stream ID was 3.
2024-09-28 13:43:12.520 +06:00 [DBG] Connection id "0HN6VHP009VCT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:43:12.520 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VCT completed.
2024-09-28 13:43:12.524 +06:00 [DBG] Connection id "0HN6VHP009VCT" stopped.
2024-09-28 13:43:53.713 +06:00 [DBG] Connection id "0HN6VHP009VCU" accepted.
2024-09-28 13:43:53.715 +06:00 [DBG] Connection id "0HN6VHP009VCU" started.
2024-09-28 13:43:53.719 +06:00 [DBG] Connection 0HN6VHP009VCU established using the following protocol: "Tls12"
2024-09-28 13:43:53.722 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:43:53.725 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:43:53.726 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:43:53.727 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:43:53.727 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:43:53.728 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:43:53.729 +06:00 [DBG] The request is a preflight request.
2024-09-28 13:43:53.730 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 7.9579ms
2024-09-28 13:43:53.732 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 13:43:53.739 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:43:53.742 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 13:43:53.744 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:53.745 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:43:53.746 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:43:53.747 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:43:53.748 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 13:43:53.764 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 13:43:53.766 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:53.767 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 13:43:53.773 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 13:43:53.774 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 13:43:53.775 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 13:43:53.777 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 13:43:53.778 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 13:43:53.779 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:43:53.781 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:43:53.782 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:43:53.783 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 13:43:53.788 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 13:43:53.792 +06:00 [DBG] Connection id "0HN6VHP009VCU", Request id "0HN6VHP009VCU:00000003": started reading request body.
2024-09-28 13:43:53.793 +06:00 [DBG] Connection id "0HN6VHP009VCU", Request id "0HN6VHP009VCU:00000003": done reading request body.
2024-09-28 13:43:53.794 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 13:43:53.795 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:53.795 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:53.796 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:43:53.798 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:43:53.799 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 13:43:53.804 +06:00 [DBG] Creating DbConnection.
2024-09-28 13:43:53.805 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-28 13:43:53.807 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.808 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.809 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:43:53.809 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 13:43:53.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:43:53.811 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:43:53.819 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:43:53.824 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.825 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-28 13:43:53.827 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.828 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 13:43:53.915 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.921 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.922 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:43:53.923 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:43:53.924 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 13:43:53.925 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:43:53.930 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:43:53.937 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.940 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 13:43:53.941 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.942 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:43:53.944 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 13:43:53.946 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 13:43:53.947 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 13:43:53.948 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 13:43:53.949 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 13:43:53.954 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 13:43:53.955 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 175.6973ms
2024-09-28 13:43:53.956 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:43:53.958 +06:00 [INF] HTTP POST /api/User/login responded 200 in 210.0703 ms
2024-09-28 13:43:53.959 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 13:43:53.960 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:43:53.962 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 13:43:53.963 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 231.5757ms
2024-09-28 13:44:02.612 +06:00 [DBG] Connection id "0HN6VHP009VCU" received FIN.
2024-09-28 13:44:02.615 +06:00 [DBG] Connection id "0HN6VHP009VCU" is closed. The last processed stream ID was 3.
2024-09-28 13:44:02.616 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VCU completed.
2024-09-28 13:44:02.617 +06:00 [DBG] Connection id "0HN6VHP009VCU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:44:02.627 +06:00 [DBG] Connection id "0HN6VHP009VCU" stopped.
2024-09-28 13:44:15.689 +06:00 [DBG] Connection id "0HN6VHP009VCV" accepted.
2024-09-28 13:44:15.691 +06:00 [DBG] Connection id "0HN6VHP009VCV" started.
2024-09-28 13:44:15.704 +06:00 [DBG] Connection 0HN6VHP009VCV established using the following protocol: "Tls12"
2024-09-28 13:44:15.711 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:44:15.720 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:44:15.722 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:44:15.722 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:44:15.723 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:44:15.724 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:44:15.725 +06:00 [DBG] The request is a preflight request.
2024-09-28 13:44:15.726 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 14.9135ms
2024-09-28 13:44:15.728 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 53
2024-09-28 13:44:15.730 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:44:15.733 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 13:44:15.739 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:44:15.741 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:44:15.742 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:44:15.743 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:44:15.744 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 13:44:15.761 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 13:44:15.763 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:44:15.764 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 13:44:15.770 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 13:44:15.771 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 13:44:15.773 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 13:44:15.775 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 13:44:15.776 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 13:44:15.777 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:44:15.779 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:44:15.780 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:44:15.785 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 13:44:15.787 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 13:44:15.789 +06:00 [DBG] Connection id "0HN6VHP009VCV", Request id "0HN6VHP009VCV:00000003": started reading request body.
2024-09-28 13:44:15.790 +06:00 [DBG] Connection id "0HN6VHP009VCV", Request id "0HN6VHP009VCV:00000003": done reading request body.
2024-09-28 13:44:15.791 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 13:44:15.791 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:44:15.792 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:44:15.793 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:44:15.794 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:44:15.796 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 13:44:15.804 +06:00 [DBG] Creating DbConnection.
2024-09-28 13:44:15.805 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 13:44:15.806 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:44:15.807 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:44:15.808 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:44:15.809 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 13:44:15.810 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 13:44:15.811 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:44:15.822 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:44:15.826 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:44:15.827 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-28 13:44:15.830 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:44:15.833 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (3ms).
2024-09-28 13:44:15.914 +06:00 [DBG] Invalid password for user.
2024-09-28 13:44:15.919 +06:00 [DBG] User failed to provide the correct password.
2024-09-28 13:44:15.920 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 13:44:15.922 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 13:44:15.924 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 13:44:15.925 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 13:44:15.926 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 13:44:15.928 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-28 13:44:15.929 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 152.0544ms
2024-09-28 13:44:15.930 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:44:15.931 +06:00 [INF] HTTP POST /api/User/login responded 400 in 187.8495 ms
2024-09-28 13:44:15.933 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 13:44:15.934 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:44:15.935 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 13:44:15.937 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 400 null text/plain; charset=utf-8 209.4002ms
2024-09-28 13:44:17.649 +06:00 [DBG] Connection id "0HN6VHP009VCV" received FIN.
2024-09-28 13:44:17.654 +06:00 [DBG] Connection id "0HN6VHP009VCV" is closed. The last processed stream ID was 3.
2024-09-28 13:44:17.654 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VCV completed.
2024-09-28 13:44:17.656 +06:00 [DBG] Connection id "0HN6VHP009VCV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:44:17.663 +06:00 [DBG] Connection id "0HN6VHP009VCV" stopped.
2024-09-28 13:45:11.135 +06:00 [DBG] Connection id "0HN6VHP009VD0" accepted.
2024-09-28 13:45:11.139 +06:00 [DBG] Connection id "0HN6VHP009VD0" started.
2024-09-28 13:45:11.143 +06:00 [DBG] Connection 0HN6VHP009VD0 established using the following protocol: "Tls12"
2024-09-28 13:45:11.146 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:45:11.148 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:45:11.149 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:45:11.150 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:45:11.151 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:45:11.152 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:45:11.153 +06:00 [DBG] The request is a preflight request.
2024-09-28 13:45:11.154 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 7.7193ms
2024-09-28 13:45:11.156 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 13:45:11.164 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:45:11.165 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 13:45:11.167 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:45:11.168 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:45:11.169 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:45:11.170 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:45:11.171 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 13:45:11.189 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 13:45:11.195 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:45:11.197 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 13:45:11.199 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 13:45:11.200 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 13:45:11.202 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 13:45:11.204 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 13:45:11.205 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 13:45:11.206 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:45:11.212 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:45:11.213 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:45:11.215 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 13:45:11.217 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 13:45:11.219 +06:00 [DBG] Connection id "0HN6VHP009VD0", Request id "0HN6VHP009VD0:00000003": started reading request body.
2024-09-28 13:45:11.220 +06:00 [DBG] Connection id "0HN6VHP009VD0", Request id "0HN6VHP009VD0:00000003": done reading request body.
2024-09-28 13:45:11.221 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 13:45:11.222 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:45:11.227 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:45:11.229 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:45:11.230 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:45:11.232 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 13:45:11.233 +06:00 [DBG] Creating DbConnection.
2024-09-28 13:45:11.234 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 13:45:11.235 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.236 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.237 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:45:11.238 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 13:45:11.239 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:45:11.243 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:45:11.251 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:45:11.254 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.255 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 13:45:11.256 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.261 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (4ms).
2024-09-28 13:45:11.349 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.351 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.353 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:45:11.354 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:45:11.355 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 13:45:11.357 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:45:11.364 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:45:11.367 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.368 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 13:45:11.370 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.371 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:45:11.377 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 13:45:11.380 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 13:45:11.381 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 13:45:11.382 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 13:45:11.384 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 13:45:11.385 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 13:45:11.387 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 180.5011ms
2024-09-28 13:45:11.392 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:45:11.394 +06:00 [INF] HTTP POST /api/User/login responded 200 in 223.6524 ms
2024-09-28 13:45:11.396 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 13:45:11.397 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:45:11.399 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 13:45:11.403 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 246.3928ms
2024-09-28 13:45:12.775 +06:00 [DBG] Connection id "0HN6VHP009VD0" received FIN.
2024-09-28 13:45:12.777 +06:00 [DBG] Connection id "0HN6VHP009VD0" is closed. The last processed stream ID was 3.
2024-09-28 13:45:12.777 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VD0 completed.
2024-09-28 13:45:12.780 +06:00 [DBG] Connection id "0HN6VHP009VD0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:45:12.790 +06:00 [DBG] Connection id "0HN6VHP009VD0" stopped.
2024-09-28 13:46:17.657 +06:00 [DBG] Connection id "0HN6VHP009VD1" accepted.
2024-09-28 13:46:17.659 +06:00 [DBG] Connection id "0HN6VHP009VD1" started.
2024-09-28 13:46:17.667 +06:00 [DBG] Connection 0HN6VHP009VD1 established using the following protocol: "Tls12"
2024-09-28 13:46:17.672 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 13:46:17.673 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:46:17.675 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 13:46:17.676 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:46:17.677 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:46:17.678 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:46:17.679 +06:00 [DBG] The request is a preflight request.
2024-09-28 13:46:17.680 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 8.1666ms
2024-09-28 13:46:17.684 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 13:46:17.691 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 13:46:17.692 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 13:46:17.694 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:46:17.695 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 13:46:17.696 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 13:46:17.697 +06:00 [INF] CORS policy execution successful.
2024-09-28 13:46:17.699 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 13:46:17.716 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 13:46:17.723 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:46:17.724 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 13:46:17.726 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 13:46:17.727 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 13:46:17.728 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 13:46:17.730 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 13:46:17.736 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 13:46:17.737 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:46:17.739 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 13:46:17.740 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:46:17.741 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 13:46:17.743 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 13:46:17.744 +06:00 [DBG] Connection id "0HN6VHP009VD1", Request id "0HN6VHP009VD1:00000003": started reading request body.
2024-09-28 13:46:17.746 +06:00 [DBG] Connection id "0HN6VHP009VD1", Request id "0HN6VHP009VD1:00000003": done reading request body.
2024-09-28 13:46:17.747 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 13:46:17.752 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:46:17.753 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:46:17.754 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 13:46:17.756 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 13:46:17.757 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 13:46:17.759 +06:00 [DBG] Creating DbConnection.
2024-09-28 13:46:17.760 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-28 13:46:17.760 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.761 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.762 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:46:17.763 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 13:46:17.764 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:46:17.769 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:46:17.776 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 13:46:17.779 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.780 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-28 13:46:17.784 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.786 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 13:46:17.864 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.870 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.872 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 13:46:17.873 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 13:46:17.874 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 13:46:17.875 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:46:17.880 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 13:46:17.887 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.888 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-28 13:46:17.890 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.891 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 13:46:17.892 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 13:46:17.894 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 13:46:17.895 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 13:46:17.896 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 13:46:17.897 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 13:46:17.898 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 13:46:17.899 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 161.8124ms
2024-09-28 13:46:17.900 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 13:46:17.901 +06:00 [INF] HTTP POST /api/User/login responded 200 in 203.3592 ms
2024-09-28 13:46:17.903 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 13:46:17.904 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 13:46:17.906 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 13:46:17.911 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 227.2844ms
2024-09-28 13:46:22.897 +06:00 [DBG] Connection id "0HN6VHP009VD1" received FIN.
2024-09-28 13:46:22.901 +06:00 [DBG] Connection id "0HN6VHP009VD1" is closed. The last processed stream ID was 3.
2024-09-28 13:46:22.901 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VD1 completed.
2024-09-28 13:46:22.902 +06:00 [DBG] Connection id "0HN6VHP009VD1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 13:46:22.913 +06:00 [DBG] Connection id "0HN6VHP009VD1" stopped.
2024-09-28 16:54:53.260 +06:00 [DBG] Connection id "0HN6VHP009VD2" accepted.
2024-09-28 16:54:53.275 +06:00 [DBG] Connection id "0HN6VHP009VD2" started.
2024-09-28 16:54:53.299 +06:00 [DBG] Connection 0HN6VHP009VD2 established using the following protocol: "Tls12"
2024-09-28 16:54:53.326 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 16:54:53.333 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:54:53.335 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 16:54:53.340 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:54:53.343 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:54:53.344 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:54:53.346 +06:00 [DBG] The request is a preflight request.
2024-09-28 16:54:53.350 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 24.9481ms
2024-09-28 16:54:53.353 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 16:54:53.361 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:54:53.362 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 16:54:53.364 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:54:53.365 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:54:53.367 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:54:53.371 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:54:53.384 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 16:54:53.410 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 16:54:53.413 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:54:53.421 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 16:54:53.423 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 16:54:53.425 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 16:54:53.427 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 16:54:53.430 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 16:54:53.431 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 16:54:53.435 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:54:53.450 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:54:53.453 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:54:53.455 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 16:54:53.457 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 16:54:53.459 +06:00 [DBG] Connection id "0HN6VHP009VD2", Request id "0HN6VHP009VD2:00000003": started reading request body.
2024-09-28 16:54:53.460 +06:00 [DBG] Connection id "0HN6VHP009VD2", Request id "0HN6VHP009VD2:00000003": done reading request body.
2024-09-28 16:54:53.463 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 16:54:53.464 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:54:53.465 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:54:53.468 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:54:53.471 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:54:53.487 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 16:54:53.499 +06:00 [DBG] Creating DbConnection.
2024-09-28 16:54:53.505 +06:00 [DBG] Created DbConnection. (6ms).
2024-09-28 16:54:53.506 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:54:53.699 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:54:53.703 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 16:54:53.705 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-28 16:54:53.707 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-28 16:54:53.710 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:54:53.762 +06:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:54:53.773 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:54:53.777 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-28 16:54:53.781 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:54:53.782 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 16:54:53.863 +06:00 [DBG] Invalid password for user.
2024-09-28 16:54:53.866 +06:00 [DBG] User failed to provide the correct password.
2024-09-28 16:54:53.869 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 16:54:53.872 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 16:54:53.873 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 16:54:53.874 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 16:54:53.875 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 16:54:53.877 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-28 16:54:53.879 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 445.1942ms
2024-09-28 16:54:53.880 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:54:53.882 +06:00 [INF] HTTP POST /api/User/login responded 400 in 508.1466 ms
2024-09-28 16:54:53.883 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 16:54:53.888 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:54:53.891 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 16:54:53.893 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 400 null text/plain; charset=utf-8 539.4542ms
2024-09-28 16:55:02.093 +06:00 [DBG] Connection id "0HN6VHP009VD2" received FIN.
2024-09-28 16:55:02.095 +06:00 [DBG] Connection id "0HN6VHP009VD2" is closed. The last processed stream ID was 3.
2024-09-28 16:55:02.095 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VD2 completed.
2024-09-28 16:55:02.097 +06:00 [DBG] Connection id "0HN6VHP009VD2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 16:55:02.108 +06:00 [DBG] Connection id "0HN6VHP009VD2" stopped.
2024-09-28 16:55:15.720 +06:00 [DBG] Connection id "0HN6VHP009VD3" accepted.
2024-09-28 16:55:15.723 +06:00 [DBG] Connection id "0HN6VHP009VD3" started.
2024-09-28 16:55:15.725 +06:00 [DBG] Connection id "0HN6VHP009VD3" received FIN.
2024-09-28 16:55:15.732 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 16:55:15.750 +06:00 [DBG] Connection id "0HN6VHP009VD3" stopped.
2024-09-28 16:55:15.753 +06:00 [DBG] Connection id "0HN6VHP009VD3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 16:55:15.909 +06:00 [DBG] Connection id "0HN6VHP009VD4" accepted.
2024-09-28 16:55:15.916 +06:00 [DBG] Connection id "0HN6VHP009VD4" started.
2024-09-28 16:55:15.930 +06:00 [DBG] Connection 0HN6VHP009VD4 established using the following protocol: "Tls12"
2024-09-28 16:55:15.943 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 16:55:16.011 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 16:55:16.012 +06:00 [DBG] Request did not match any endpoints
2024-09-28 16:55:16.035 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 16:55:16.043 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 16:55:16.045 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 102.4555ms
2024-09-28 16:55:16.097 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 16:55:16.112 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 15.7282ms
2024-09-28 16:55:16.135 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 16:55:16.189 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.267ms
2024-09-28 16:55:16.385 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 16:55:16.387 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 16:55:16.389 +06:00 [DBG] Request did not match any endpoints
2024-09-28 16:55:16.479 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 94.3802ms
2024-09-28 16:55:22.115 +06:00 [DBG] Connection id "0HN6VHP009VD4" received FIN.
2024-09-28 16:55:22.118 +06:00 [DBG] Connection id "0HN6VHP009VD4" is closed. The last processed stream ID was 7.
2024-09-28 16:55:22.120 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VD4 completed.
2024-09-28 16:55:22.122 +06:00 [DBG] Connection id "0HN6VHP009VD4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 16:55:22.128 +06:00 [DBG] Connection id "0HN6VHP009VD4" stopped.
2024-09-28 16:55:23.231 +06:00 [DBG] Connection id "0HN6VHP009VD5" accepted.
2024-09-28 16:55:23.234 +06:00 [DBG] Connection id "0HN6VHP009VD5" started.
2024-09-28 16:55:23.238 +06:00 [DBG] Connection 0HN6VHP009VD5 established using the following protocol: "Tls12"
2024-09-28 16:55:23.240 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 16:55:23.242 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:55:23.243 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 16:55:23.243 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:55:23.244 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:55:23.245 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:55:23.246 +06:00 [DBG] The request is a preflight request.
2024-09-28 16:55:23.246 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 6.9679ms
2024-09-28 16:55:23.249 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 16:55:23.254 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:55:23.255 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 16:55:23.257 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:55:23.258 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:55:23.259 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:55:23.260 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:55:23.261 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 16:55:23.276 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 16:55:23.278 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:55:23.279 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 16:55:23.280 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 16:55:23.286 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 16:55:23.288 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 16:55:23.290 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 16:55:23.291 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 16:55:23.292 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:55:23.294 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:55:23.295 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:55:23.297 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 16:55:23.302 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 16:55:23.305 +06:00 [DBG] Connection id "0HN6VHP009VD5", Request id "0HN6VHP009VD5:00000003": started reading request body.
2024-09-28 16:55:23.306 +06:00 [DBG] Connection id "0HN6VHP009VD5", Request id "0HN6VHP009VD5:00000003": done reading request body.
2024-09-28 16:55:23.307 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 16:55:23.308 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:55:23.309 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:55:23.310 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:55:23.311 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:55:23.313 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 16:55:23.319 +06:00 [DBG] Creating DbConnection.
2024-09-28 16:55:23.319 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-28 16:55:23.320 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:23.321 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:23.322 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 16:55:23.323 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 16:55:23.324 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 16:55:23.325 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:55:23.336 +06:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:55:23.340 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:23.341 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-28 16:55:23.342 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:23.343 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 16:55:23.425 +06:00 [DBG] Invalid password for user.
2024-09-28 16:55:23.427 +06:00 [DBG] User failed to provide the correct password.
2024-09-28 16:55:23.429 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 16:55:23.431 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 16:55:23.433 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 16:55:23.433 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 16:55:23.434 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 16:55:23.436 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-28 16:55:23.438 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 146.2909ms
2024-09-28 16:55:23.442 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:55:23.443 +06:00 [INF] HTTP POST /api/User/login responded 400 in 182.2474 ms
2024-09-28 16:55:23.445 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 16:55:23.447 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:23.449 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-28 16:55:23.451 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 400 null text/plain; charset=utf-8 201.4004ms
2024-09-28 16:55:32.116 +06:00 [DBG] Connection id "0HN6VHP009VD5" received FIN.
2024-09-28 16:55:32.120 +06:00 [DBG] Connection id "0HN6VHP009VD5" is closed. The last processed stream ID was 3.
2024-09-28 16:55:32.120 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VD5 completed.
2024-09-28 16:55:32.122 +06:00 [DBG] Connection id "0HN6VHP009VD5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 16:55:32.138 +06:00 [DBG] Connection id "0HN6VHP009VD5" stopped.
2024-09-28 16:55:36.439 +06:00 [DBG] Connection id "0HN6VHP009VD6" accepted.
2024-09-28 16:55:36.441 +06:00 [DBG] Connection id "0HN6VHP009VD6" started.
2024-09-28 16:55:36.445 +06:00 [DBG] Connection 0HN6VHP009VD6 established using the following protocol: "Tls12"
2024-09-28 16:55:36.449 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 16:55:36.450 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:55:36.452 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 16:55:36.453 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:55:36.454 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:55:36.455 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:55:36.456 +06:00 [DBG] The request is a preflight request.
2024-09-28 16:55:36.457 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 8.0281ms
2024-09-28 16:55:36.459 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 16:55:36.468 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:55:36.469 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 16:55:36.471 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:55:36.472 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:55:36.472 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:55:36.473 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:55:36.474 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 16:55:36.490 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 16:55:36.497 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:55:36.499 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 16:55:36.502 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 16:55:36.504 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 16:55:36.506 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 16:55:36.511 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 16:55:36.515 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 16:55:36.516 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:55:36.519 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:55:36.520 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:55:36.521 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 16:55:36.523 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 16:55:36.527 +06:00 [DBG] Connection id "0HN6VHP009VD6", Request id "0HN6VHP009VD6:00000003": started reading request body.
2024-09-28 16:55:36.530 +06:00 [DBG] Connection id "0HN6VHP009VD6", Request id "0HN6VHP009VD6:00000003": done reading request body.
2024-09-28 16:55:36.532 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 16:55:36.533 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:55:36.534 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:55:36.535 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:55:36.536 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:55:36.538 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 16:55:36.545 +06:00 [DBG] Creating DbConnection.
2024-09-28 16:55:36.546 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 16:55:36.548 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:36.550 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:36.552 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 16:55:36.553 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 16:55:36.554 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 16:55:36.557 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:55:36.567 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:55:36.573 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:36.575 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 16:55:36.577 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:36.578 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 16:55:36.667 +06:00 [DBG] Invalid password for user.
2024-09-28 16:55:36.670 +06:00 [DBG] User failed to provide the correct password.
2024-09-28 16:55:36.671 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 16:55:36.673 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 16:55:36.675 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 16:55:36.676 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 16:55:36.677 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 16:55:36.682 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-28 16:55:36.684 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 167.6876ms
2024-09-28 16:55:36.685 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:55:36.686 +06:00 [INF] HTTP POST /api/User/login responded 400 in 212.3315 ms
2024-09-28 16:55:36.688 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 16:55:36.689 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:55:36.690 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 16:55:36.692 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 400 null text/plain; charset=utf-8 232.6768ms
2024-09-28 16:55:42.118 +06:00 [DBG] Connection id "0HN6VHP009VD6" received FIN.
2024-09-28 16:55:42.121 +06:00 [DBG] Connection id "0HN6VHP009VD6" is closed. The last processed stream ID was 3.
2024-09-28 16:55:42.122 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VD6 completed.
2024-09-28 16:55:42.123 +06:00 [DBG] Connection id "0HN6VHP009VD6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 16:55:42.133 +06:00 [DBG] Connection id "0HN6VHP009VD6" stopped.
2024-09-28 16:56:05.370 +06:00 [DBG] Connection id "0HN6VHP009VD7" accepted.
2024-09-28 16:56:05.372 +06:00 [DBG] Connection id "0HN6VHP009VD7" started.
2024-09-28 16:56:05.379 +06:00 [DBG] Connection 0HN6VHP009VD7 established using the following protocol: "Tls12"
2024-09-28 16:56:05.380 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 16:56:05.386 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:56:05.387 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 16:56:05.388 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:56:05.388 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:56:05.389 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:56:05.390 +06:00 [DBG] The request is a preflight request.
2024-09-28 16:56:05.392 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 11.2827ms
2024-09-28 16:56:05.396 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 16:56:05.402 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 16:56:05.403 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 16:56:05.404 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:56:05.406 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 16:56:05.406 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 16:56:05.407 +06:00 [INF] CORS policy execution successful.
2024-09-28 16:56:05.409 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 16:56:05.424 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 16:56:05.433 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:56:05.434 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 16:56:05.437 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 16:56:05.438 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 16:56:05.439 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 16:56:05.449 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 16:56:05.451 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 16:56:05.453 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:56:05.455 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 16:56:05.456 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:56:05.457 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 16:56:05.463 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 16:56:05.465 +06:00 [DBG] Connection id "0HN6VHP009VD7", Request id "0HN6VHP009VD7:00000003": started reading request body.
2024-09-28 16:56:05.467 +06:00 [DBG] Connection id "0HN6VHP009VD7", Request id "0HN6VHP009VD7:00000003": done reading request body.
2024-09-28 16:56:05.468 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 16:56:05.469 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:56:05.470 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:56:05.471 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 16:56:05.472 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 16:56:05.479 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 16:56:05.483 +06:00 [DBG] Creating DbConnection.
2024-09-28 16:56:05.484 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 16:56:05.485 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.486 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.487 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 16:56:05.488 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 16:56:05.492 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-28 16:56:05.496 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:56:05.505 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 16:56:05.513 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.514 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 16:56:05.516 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.519 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-28 16:56:05.614 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.616 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.617 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 16:56:05.618 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 16:56:05.620 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 16:56:05.621 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 16:56:05.632 +06:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 16:56:05.637 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.638 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 16:56:05.640 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.642 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 16:56:05.647 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 16:56:05.651 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 16:56:05.652 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 16:56:05.653 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 16:56:05.655 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 16:56:05.656 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 16:56:05.658 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 204.9246ms
2024-09-28 16:56:05.659 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 16:56:05.662 +06:00 [INF] HTTP POST /api/User/login responded 200 in 253.3726 ms
2024-09-28 16:56:05.664 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 16:56:05.666 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 16:56:05.667 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 16:56:05.669 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 273.3073ms
2024-09-28 16:56:12.176 +06:00 [DBG] Connection id "0HN6VHP009VD7" received FIN.
2024-09-28 16:56:12.178 +06:00 [DBG] The connection queue processing loop for 0HN6VHP009VD7 completed.
2024-09-28 16:56:12.178 +06:00 [DBG] Connection id "0HN6VHP009VD7" is closed. The last processed stream ID was 3.
2024-09-28 16:56:12.185 +06:00 [DBG] Connection id "0HN6VHP009VD7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 16:56:12.192 +06:00 [DBG] Connection id "0HN6VHP009VD7" stopped.
2024-09-28 20:12:24.843 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 20:12:25.331 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 20:12:25.333 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 20:12:25.484 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 20:12:25.610 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 20:12:25.657 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 20:12:25.657 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 20:12:25.679 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 20:12:27.751 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 20:12:42.507 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 20:12:42.970 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 20:12:42.971 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 20:12:43.181 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 20:12:43.346 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 20:12:43.382 +06:00 [DBG] Creating DbConnection.
2024-09-28 20:12:43.483 +06:00 [DBG] Created DbConnection. (97ms).
2024-09-28 20:12:43.486 +06:00 [DBG] Migrating using database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:43.499 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.243 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.252 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:44.265 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (10ms).
2024-09-28 20:12:44.268 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (20ms).
2024-09-28 20:12:44.282 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-28 20:12:44.322 +06:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-28 20:12:44.324 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.334 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-09-28 20:12:44.339 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-28 20:12:44.339 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-28 20:12:44.339 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-28 20:12:44.339 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.341 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.342 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-28 20:12:44.373 +06:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-28 20:12:44.373 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.374 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 20:12:44.375 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.376 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.376 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:44.376 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.376 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.377 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-28 20:12:44.379 +06:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2024-09-28 20:12:44.380 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.380 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 20:12:44.380 +06:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2024-09-28 20:12:44.381 +06:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2024-09-28 20:12:44.381 +06:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (0ms).
2024-09-28 20:12:44.381 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.381 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.381 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-28 20:12:44.383 +06:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2024-09-28 20:12:44.384 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.384 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 20:12:44.403 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.404 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.404 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 20:12:44.404 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 20:12:44.404 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-28 20:12:44.404 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-28 20:12:44.458 +06:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2024-09-28 20:12:44.462 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.465 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-28 20:12:44.466 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.466 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 20:12:44.484 +06:00 [INF] Applying migration '20240928141227_Categories type change'.
2024-09-28 20:12:44.611 +06:00 [DBG] Executing 3 update commands as a batch.
2024-09-28 20:12:44.622 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.622 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:44.626 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-28 20:12:44.634 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-28 20:12:44.636 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:44.636 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.638 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2024-09-28 20:12:44.638 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'39bcdb0a-cffb-4796-9b7f-ceac1da7f6b2';
SELECT @@ROWCOUNT;
2024-09-28 20:12:44.706 +06:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'39bcdb0a-cffb-4796-9b7f-ceac1da7f6b2';
SELECT @@ROWCOUNT;
2024-09-28 20:12:44.707 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:44.708 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.708 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.708 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'9a8a16f3-bf5b-49b8-97bf-46ad86373f6d';
SELECT @@ROWCOUNT;
2024-09-28 20:12:44.725 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'9a8a16f3-bf5b-49b8-97bf-46ad86373f6d';
SELECT @@ROWCOUNT;
2024-09-28 20:12:44.726 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:44.726 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.726 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.726 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ea91e2eb-d494-44dc-88ba-17f34fa2b476';
SELECT @@ROWCOUNT;
2024-09-28 20:12:44.736 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DELETE FROM [AspNetRoles]
WHERE [Id] = N'ea91e2eb-d494-44dc-88ba-17f34fa2b476';
SELECT @@ROWCOUNT;
2024-09-28 20:12:44.737 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:44.737 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.737 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:44.737 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BussinessEntities]') AND [c].[name] = N'Type');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [BussinessEntities] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [BussinessEntities] ALTER COLUMN [Type] nvarchar(max) NOT NULL;
2024-09-28 20:12:45.024 +06:00 [INF] Executed DbCommand (287ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var0 sysname;
SELECT @var0 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[BussinessEntities]') AND [c].[name] = N'Type');
IF @var0 IS NOT NULL EXEC(N'ALTER TABLE [BussinessEntities] DROP CONSTRAINT [' + @var0 + '];');
ALTER TABLE [BussinessEntities] ALTER COLUMN [Type] nvarchar(max) NOT NULL;
2024-09-28 20:12:45.024 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:45.024 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:45.024 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:45.025 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'4a35ad2c-baeb-4343-89cc-93a68042e557', NULL, N'admin', N'ADMIN'),
(N'6f496e29-fc30-4916-8125-ac54454f2bac', NULL, N'manager', N'MANAGER'),
(N'7f4600d1-e20c-4965-9b5f-bc754d743e52', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-28 20:12:45.120 +06:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] ON;
INSERT INTO [AspNetRoles] ([Id], [ConcurrencyStamp], [Name], [NormalizedName])
VALUES (N'4a35ad2c-baeb-4343-89cc-93a68042e557', NULL, N'admin', N'ADMIN'),
(N'6f496e29-fc30-4916-8125-ac54454f2bac', NULL, N'manager', N'MANAGER'),
(N'7f4600d1-e20c-4965-9b5f-bc754d743e52', NULL, N'user', N'USER');
IF EXISTS (SELECT * FROM [sys].[identity_columns] WHERE [name] IN (N'Id', N'ConcurrencyStamp', N'Name', N'NormalizedName') AND [object_id] = OBJECT_ID(N'[AspNetRoles]'))
    SET IDENTITY_INSERT [AspNetRoles] OFF;
2024-09-28 20:12:45.120 +06:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2024-09-28 20:12:45.120 +06:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:45.121 +06:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (0ms).
2024-09-28 20:12:45.121 +06:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240928141227_Categories type change', N'8.0.8');
2024-09-28 20:12:45.134 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20240928141227_Categories type change', N'8.0.8');
2024-09-28 20:12:45.136 +06:00 [DBG] Committing transaction.
2024-09-28 20:12:45.141 +06:00 [DBG] Committed transaction.
2024-09-28 20:12:45.142 +06:00 [DBG] Disposing transaction.
2024-09-28 20:12:45.143 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:45.143 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 20:12:45.145 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 20:12:45.148 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 20:12:45.149 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 20:16:07.997 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 20:16:08.175 +06:00 [DBG] Hosting starting
2024-09-28 20:16:08.227 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 20:16:08.256 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 20:16:08.276 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 20:16:08.280 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 20:16:08.291 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 20:16:08.301 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 20:16:08.303 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 20:16:08.314 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 20:16:08.321 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 20:16:08.326 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 20:16:08.339 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 20:16:08.350 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 20:16:08.357 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 20:16:08.365 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 20:16:08.367 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 20:16:08.559 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 20:16:08.560 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 20:16:08.561 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 20:16:08.562 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 20:16:08.563 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 20:16:08.564 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 20:16:08.565 +06:00 [INF] Hosting environment: Development
2024-09-28 20:16:08.566 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 20:16:08.567 +06:00 [DBG] Hosting started
2024-09-28 20:16:08.711 +06:00 [DBG] Connection id "0HN6VP0CHCG8E" accepted.
2024-09-28 20:16:08.713 +06:00 [DBG] Connection id "0HN6VP0CHCG8F" accepted.
2024-09-28 20:16:08.715 +06:00 [DBG] Connection id "0HN6VP0CHCG8E" started.
2024-09-28 20:16:08.717 +06:00 [DBG] Connection id "0HN6VP0CHCG8F" started.
2024-09-28 20:16:08.746 +06:00 [DBG] Connection id "0HN6VP0CHCG8F" received FIN.
2024-09-28 20:16:08.746 +06:00 [DBG] Connection id "0HN6VP0CHCG8E" received FIN.
2024-09-28 20:16:08.756 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 20:16:08.756 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 20:16:08.782 +06:00 [DBG] Connection id "0HN6VP0CHCG8E" stopped.
2024-09-28 20:16:08.785 +06:00 [DBG] Connection id "0HN6VP0CHCG8F" stopped.
2024-09-28 20:16:08.787 +06:00 [DBG] Connection id "0HN6VP0CHCG8E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 20:16:08.788 +06:00 [DBG] Connection id "0HN6VP0CHCG8F" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 20:16:09.039 +06:00 [DBG] Connection id "0HN6VP0CHCG8G" accepted.
2024-09-28 20:16:09.042 +06:00 [DBG] Connection id "0HN6VP0CHCG8G" started.
2024-09-28 20:16:09.248 +06:00 [DBG] Connection 0HN6VP0CHCG8G established using the following protocol: "Tls12"
2024-09-28 20:16:09.679 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 20:16:09.799 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 20:16:09.815 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 20:16:09.816 +06:00 [DBG] Request did not match any endpoints
2024-09-28 20:16:09.969 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 20:16:10.103 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 20:16:10.110 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 432.5942ms
2024-09-28 20:16:10.127 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 20:16:10.127 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 20:16:10.165 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 37.4587ms
2024-09-28 20:16:10.258 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 130.5593ms
2024-09-28 20:16:10.532 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 20:16:10.534 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 20:16:10.535 +06:00 [DBG] Request did not match any endpoints
2024-09-28 20:16:10.913 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 381.7473ms
2024-09-28 20:16:20.570 +06:00 [DBG] Connection id "0HN6VP0CHCG8G" received FIN.
2024-09-28 20:16:20.614 +06:00 [DBG] The connection queue processing loop for 0HN6VP0CHCG8G completed.
2024-09-28 20:16:20.631 +06:00 [DBG] Connection id "0HN6VP0CHCG8G" is closed. The last processed stream ID was 7.
2024-09-28 20:16:20.638 +06:00 [DBG] Connection id "0HN6VP0CHCG8G" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 20:16:20.646 +06:00 [DBG] Connection id "0HN6VP0CHCG8G" stopped.
2024-09-28 21:10:09.592 +06:00 [DBG] Connection id "0HN6VP0CHCG8H" accepted.
2024-09-28 21:10:09.621 +06:00 [DBG] Connection id "0HN6VP0CHCG8H" started.
2024-09-28 21:10:09.669 +06:00 [DBG] Connection 0HN6VP0CHCG8H established using the following protocol: "Tls12"
2024-09-28 21:10:09.715 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 21:10:09.754 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:10:09.761 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 21:10:09.782 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:10:09.793 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:10:09.795 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:10:09.800 +06:00 [DBG] The request is a preflight request.
2024-09-28 21:10:09.803 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 89.2253ms
2024-09-28 21:10:09.811 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 21:10:09.821 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:10:09.828 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:10:09.834 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:10:09.836 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:10:09.838 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:10:09.839 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:10:11.647 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 21:10:11.668 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 21:10:11.676 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:10:11.743 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:10:11.748 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:10:11.749 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:10:11.752 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:10:11.754 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:10:11.754 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:10:11.757 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:10:12.377 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 21:10:12.605 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:10:12.667 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:10:12.672 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:10:12.676 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:10:12.694 +06:00 [DBG] Connection id "0HN6VP0CHCG8H", Request id "0HN6VP0CHCG8H:00000003": started reading request body.
2024-09-28 21:10:12.695 +06:00 [DBG] Connection id "0HN6VP0CHCG8H", Request id "0HN6VP0CHCG8H:00000003": done reading request body.
2024-09-28 21:10:12.708 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:10:12.709 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:10:12.711 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:10:12.713 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:10:12.725 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:10:13.412 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 21:10:13.415 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 21:10:13.621 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 21:10:13.834 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:10:14.184 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 21:10:14.407 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 21:10:14.448 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:10:14.477 +06:00 [DBG] Created DbConnection. (26ms).
2024-09-28 21:10:14.483 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:15.775 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:15.785 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:10:15.794 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-28 21:10:15.815 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (33ms).
2024-09-28 21:10:15.836 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:10:16.113 +06:00 [INF] Executed DbCommand (285ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:10:16.161 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:16.178 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 48ms reading results.
2024-09-28 21:10:16.196 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:16.207 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (10ms).
2024-09-28 21:10:16.607 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 21:10:16.735 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 21:10:16.744 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:16.747 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:16.748 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:10:16.749 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:10:16.751 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-28 21:10:16.752 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:10:16.774 +06:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:10:16.780 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:16.781 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 21:10:16.785 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:16.786 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:10:16.792 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:10:16.806 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 5047.1935ms
2024-09-28 21:10:16.810 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:10:16.814 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:10:16.833 +06:00 [ERR] HTTP POST /api/User/login responded 500 in 6983.4410 ms
2024-09-28 21:10:16.843 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:10:16.848 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:16.853 +06:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-09-28 21:10:16.862 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 500 null application/json; charset=utf-8 7050.4012ms
2024-09-28 21:10:23.127 +06:00 [DBG] Connection id "0HN6VP0CHCG8I" accepted.
2024-09-28 21:10:23.129 +06:00 [DBG] Connection id "0HN6VP0CHCG8I" started.
2024-09-28 21:10:23.139 +06:00 [DBG] Connection 0HN6VP0CHCG8I established using the following protocol: "Tls12"
2024-09-28 21:10:23.144 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 21:10:23.181 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 21:10:23.182 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:10:23.190 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 21:10:23.194 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 21:10:23.194 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 50.6366ms
2024-09-28 21:10:23.240 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 21:10:23.240 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 21:10:23.246 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 6.1893ms
2024-09-28 21:10:23.273 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 33.5525ms
2024-09-28 21:10:23.565 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 21:10:23.570 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 21:10:23.573 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:10:23.643 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.1691ms
2024-09-28 21:10:25.840 +06:00 [DBG] Connection id "0HN6VP0CHCG8I" received FIN.
2024-09-28 21:10:25.840 +06:00 [DBG] Connection id "0HN6VP0CHCG8H" received FIN.
2024-09-28 21:10:25.851 +06:00 [DBG] Connection id "0HN6VP0CHCG8I" is closed. The last processed stream ID was 7.
2024-09-28 21:10:25.851 +06:00 [DBG] Connection id "0HN6VP0CHCG8H" is closed. The last processed stream ID was 3.
2024-09-28 21:10:25.851 +06:00 [DBG] The connection queue processing loop for 0HN6VP0CHCG8I completed.
2024-09-28 21:10:25.851 +06:00 [DBG] The connection queue processing loop for 0HN6VP0CHCG8H completed.
2024-09-28 21:10:25.855 +06:00 [DBG] Connection id "0HN6VP0CHCG8I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:10:25.856 +06:00 [DBG] Connection id "0HN6VP0CHCG8H" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:10:25.870 +06:00 [DBG] Connection id "0HN6VP0CHCG8I" stopped.
2024-09-28 21:10:25.870 +06:00 [DBG] Connection id "0HN6VP0CHCG8H" stopped.
2024-09-28 21:10:30.424 +06:00 [DBG] Connection id "0HN6VP0CHCG8J" accepted.
2024-09-28 21:10:30.427 +06:00 [DBG] Connection id "0HN6VP0CHCG8J" started.
2024-09-28 21:10:30.434 +06:00 [DBG] Connection 0HN6VP0CHCG8J established using the following protocol: "Tls12"
2024-09-28 21:10:30.438 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 21:10:30.440 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:10:30.441 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 21:10:30.442 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:10:30.445 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:10:30.445 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:10:30.452 +06:00 [DBG] The request is a preflight request.
2024-09-28 21:10:30.456 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 17.2661ms
2024-09-28 21:10:30.458 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 21:10:30.463 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:10:30.466 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:10:30.470 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:10:30.471 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:10:30.472 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:10:30.473 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:10:30.475 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 21:10:30.495 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 21:10:30.498 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:10:30.500 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:10:30.502 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:10:30.503 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:10:30.504 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:10:30.506 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:10:30.508 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:10:30.511 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:10:30.518 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:10:30.520 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:10:30.521 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:10:30.524 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:10:30.528 +06:00 [DBG] Connection id "0HN6VP0CHCG8J", Request id "0HN6VP0CHCG8J:00000003": started reading request body.
2024-09-28 21:10:30.531 +06:00 [DBG] Connection id "0HN6VP0CHCG8J", Request id "0HN6VP0CHCG8J:00000003": done reading request body.
2024-09-28 21:10:30.534 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:10:30.535 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:10:30.536 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:10:30.537 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:10:30.539 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:10:30.618 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:10:30.631 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:10:30.633 +06:00 [DBG] Created DbConnection. (2ms).
2024-09-28 21:10:30.634 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.637 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.639 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:10:30.641 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:10:30.642 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-28 21:10:30.643 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:10:30.650 +06:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:10:30.657 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.658 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:10:30.659 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.660 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:10:30.785 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.786 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.788 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:10:30.789 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:10:30.791 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:10:30.793 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:10:30.800 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:10:30.804 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.806 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:10:30.811 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.813 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-28 21:10:30.815 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:10:30.819 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 307.4193ms
2024-09-28 21:10:30.821 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:10:30.825 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:10:30.828 +06:00 [ERR] HTTP POST /api/User/login responded 500 in 353.7165 ms
2024-09-28 21:10:30.830 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:10:30.832 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:10:30.833 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 21:10:30.836 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 500 null application/json; charset=utf-8 377.3147ms
2024-09-28 21:10:35.848 +06:00 [DBG] Connection id "0HN6VP0CHCG8J" received FIN.
2024-09-28 21:10:35.851 +06:00 [DBG] Connection id "0HN6VP0CHCG8J" is closed. The last processed stream ID was 3.
2024-09-28 21:10:35.851 +06:00 [DBG] The connection queue processing loop for 0HN6VP0CHCG8J completed.
2024-09-28 21:10:35.852 +06:00 [DBG] Connection id "0HN6VP0CHCG8J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:10:35.863 +06:00 [DBG] Connection id "0HN6VP0CHCG8J" stopped.
2024-09-28 21:12:04.113 +06:00 [DBG] Connection id "0HN6VP0CHCG8K" accepted.
2024-09-28 21:12:04.115 +06:00 [DBG] Connection id "0HN6VP0CHCG8K" started.
2024-09-28 21:12:04.121 +06:00 [DBG] Connection 0HN6VP0CHCG8K established using the following protocol: "Tls12"
2024-09-28 21:12:04.125 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 21:12:04.127 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:12:04.129 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 21:12:04.131 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:12:04.134 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:12:04.141 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:12:04.143 +06:00 [DBG] The request is a preflight request.
2024-09-28 21:12:04.145 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 20.056ms
2024-09-28 21:12:04.147 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 21:12:04.164 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:12:04.166 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:12:04.174 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:12:04.176 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:12:04.178 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:12:04.179 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:12:04.184 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 21:12:04.205 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 21:12:04.206 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:12:04.207 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:12:04.210 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:12:04.211 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:12:04.212 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:12:04.217 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:12:04.219 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:12:04.220 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:12:04.235 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:12:04.237 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:12:04.238 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:12:04.240 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:12:04.242 +06:00 [DBG] Connection id "0HN6VP0CHCG8K", Request id "0HN6VP0CHCG8K:00000003": started reading request body.
2024-09-28 21:12:04.243 +06:00 [DBG] Connection id "0HN6VP0CHCG8K", Request id "0HN6VP0CHCG8K:00000003": done reading request body.
2024-09-28 21:12:04.244 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:12:04.247 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:12:04.248 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:12:04.250 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:12:04.251 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:12:04.264 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:12:04.271 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:12:04.271 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-28 21:12:04.273 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.274 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.277 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:12:04.278 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:12:04.281 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-28 21:12:04.282 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:12:04.290 +06:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:12:04.298 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.299 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:12:04.301 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.303 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:12:04.481 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.483 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.487 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:12:04.488 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 21:12:04.489 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:12:04.490 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:12:04.496 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:12:04.500 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.502 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:12:04.503 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.504 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:12:04.505 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:12:04.507 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 286.3666ms
2024-09-28 21:12:04.507 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:12:04.508 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:12:04.509 +06:00 [ERR] HTTP POST /api/User/login responded 500 in 328.9117 ms
2024-09-28 21:12:04.514 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:12:04.515 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:12:04.516 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 21:12:04.518 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 500 null application/json; charset=utf-8 370.1943ms
2024-09-28 21:12:41.020 +06:00 [DBG] Connection id "0HN6VP0CHCG8K" received FIN.
2024-09-28 21:12:41.025 +06:00 [DBG] Connection id "0HN6VP0CHCG8K" is closed. The last processed stream ID was 3.
2024-09-28 21:12:41.025 +06:00 [DBG] The connection queue processing loop for 0HN6VP0CHCG8K completed.
2024-09-28 21:12:41.027 +06:00 [DBG] Connection id "0HN6VP0CHCG8K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:12:41.033 +06:00 [DBG] Connection id "0HN6VP0CHCG8K" stopped.
2024-09-28 21:13:35.773 +06:00 [DBG] Connection id "0HN6VP0CHCG8L" accepted.
2024-09-28 21:13:35.777 +06:00 [DBG] Connection id "0HN6VP0CHCG8L" started.
2024-09-28 21:13:35.780 +06:00 [DBG] Connection 0HN6VP0CHCG8L established using the following protocol: "Tls12"
2024-09-28 21:13:35.781 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 21:13:35.782 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:13:35.783 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 21:13:35.784 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:13:35.784 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:13:35.784 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:13:35.785 +06:00 [DBG] The request is a preflight request.
2024-09-28 21:13:35.785 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 4.3346ms
2024-09-28 21:13:35.787 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 21:13:35.789 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:13:35.790 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:13:35.791 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:13:35.797 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:13:35.798 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:13:35.798 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:13:35.799 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 21:13:35.818 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 21:13:35.821 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:13:35.822 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:13:35.830 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:13:35.831 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:13:35.833 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:13:35.835 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:13:35.837 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:13:35.841 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:13:35.845 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:13:35.846 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:13:35.848 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:13:35.850 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:13:35.852 +06:00 [DBG] Connection id "0HN6VP0CHCG8L", Request id "0HN6VP0CHCG8L:00000003": started reading request body.
2024-09-28 21:13:35.856 +06:00 [DBG] Connection id "0HN6VP0CHCG8L", Request id "0HN6VP0CHCG8L:00000003": done reading request body.
2024-09-28 21:13:35.859 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:13:35.861 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:13:35.863 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:13:35.865 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:13:35.867 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:13:35.869 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:13:35.875 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:13:35.877 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 21:13:35.878 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:35.880 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:35.881 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:13:35.883 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:13:35.884 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-28 21:13:35.888 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:13:35.898 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:13:35.906 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:35.909 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 21:13:35.911 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:35.913 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:13:36.018 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:36.020 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:36.022 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:13:36.023 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 21:13:36.024 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:13:36.025 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:13:36.031 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:13:36.034 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:36.035 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:13:36.036 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:36.037 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:13:36.038 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:13:36.039 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 198.6488ms
2024-09-28 21:13:36.041 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:13:36.044 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:13:36.048 +06:00 [ERR] HTTP POST /api/User/login responded 500 in 249.7196 ms
2024-09-28 21:13:36.050 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:13:36.051 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:13:36.053 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 21:13:36.054 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 500 null application/json; charset=utf-8 267.0176ms
2024-09-28 21:15:43.493 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 21:15:43.716 +06:00 [DBG] Hosting starting
2024-09-28 21:15:43.881 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 21:15:43.890 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 21:15:43.943 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 21:15:43.959 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 21:15:43.981 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 21:15:43.988 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 21:15:43.989 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 21:15:43.995 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 21:15:43.998 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 21:15:44.000 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 21:15:44.002 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 21:15:44.005 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 21:15:44.008 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 21:15:44.011 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 21:15:44.012 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 21:15:44.450 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 21:15:44.453 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 21:15:44.454 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 21:15:44.455 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 21:15:44.455 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 21:15:44.456 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 21:15:44.456 +06:00 [INF] Hosting environment: Development
2024-09-28 21:15:44.457 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 21:15:44.459 +06:00 [DBG] Hosting started
2024-09-28 21:15:44.551 +06:00 [DBG] Connection id "0HN6VQ1M78B49" accepted.
2024-09-28 21:15:44.553 +06:00 [DBG] Connection id "0HN6VQ1M78B49" started.
2024-09-28 21:15:44.564 +06:00 [DBG] Connection id "0HN6VQ1M78B49" received FIN.
2024-09-28 21:15:44.571 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 21:15:44.602 +06:00 [DBG] Connection id "0HN6VQ1M78B49" stopped.
2024-09-28 21:15:44.606 +06:00 [DBG] Connection id "0HN6VQ1M78B49" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:15:44.615 +06:00 [DBG] Connection id "0HN6VQ1M78B4A" accepted.
2024-09-28 21:15:44.619 +06:00 [DBG] Connection id "0HN6VQ1M78B4A" started.
2024-09-28 21:15:44.683 +06:00 [DBG] Connection 0HN6VQ1M78B4A established using the following protocol: "Tls12"
2024-09-28 21:15:44.732 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 21:15:44.906 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 21:15:44.922 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 21:15:44.923 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:15:45.023 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 21:15:45.039 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 21:15:45.043 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 315.5144ms
2024-09-28 21:15:45.071 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 21:15:45.071 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 21:15:45.083 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.9846ms
2024-09-28 21:15:45.121 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 49.6941ms
2024-09-28 21:15:45.386 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 21:15:45.391 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 21:15:45.395 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:15:45.773 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 386.9793ms
2024-09-28 21:15:51.317 +06:00 [DBG] Connection id "0HN6VQ1M78B4A" received FIN.
2024-09-28 21:15:51.325 +06:00 [DBG] The connection queue processing loop for 0HN6VQ1M78B4A completed.
2024-09-28 21:15:51.328 +06:00 [DBG] Connection id "0HN6VQ1M78B4A" is closed. The last processed stream ID was 7.
2024-09-28 21:15:51.331 +06:00 [DBG] Connection id "0HN6VQ1M78B4A" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:15:51.348 +06:00 [DBG] Connection id "0HN6VQ1M78B4A" stopped.
2024-09-28 21:15:55.270 +06:00 [DBG] Connection id "0HN6VQ1M78B4B" accepted.
2024-09-28 21:15:55.273 +06:00 [DBG] Connection id "0HN6VQ1M78B4B" started.
2024-09-28 21:15:55.279 +06:00 [DBG] Connection 0HN6VQ1M78B4B established using the following protocol: "Tls12"
2024-09-28 21:15:55.282 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-28 21:15:55.293 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:15:55.297 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:15:55.299 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:15:55.302 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:15:55.303 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-28 21:15:55.304 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:15:55.337 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 21:15:55.344 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:15:55.365 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:15:55.370 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:15:55.371 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:15:55.375 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:15:55.377 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:15:55.379 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:15:55.382 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:15:55.487 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 21:15:55.636 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:15:55.643 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:15:55.646 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:15:55.648 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:15:55.653 +06:00 [DBG] Connection id "0HN6VQ1M78B4B", Request id "0HN6VQ1M78B4B:00000001": started reading request body.
2024-09-28 21:15:55.654 +06:00 [DBG] Connection id "0HN6VQ1M78B4B", Request id "0HN6VQ1M78B4B:00000001": done reading request body.
2024-09-28 21:15:55.669 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:15:55.671 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:15:55.672 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:15:55.675 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:15:55.683 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:15:56.283 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 21:15:56.287 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 21:15:56.555 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 21:15:56.806 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:15:56.933 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 21:15:57.194 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 21:15:57.247 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:15:57.283 +06:00 [DBG] Created DbConnection. (31ms).
2024-09-28 21:15:57.291 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:57.938 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:57.944 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:15:57.953 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2024-09-28 21:15:57.972 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-09-28 21:15:57.991 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:15:58.070 +06:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:15:58.125 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:58.139 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 51ms reading results.
2024-09-28 21:15:58.149 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:58.160 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (11ms).
2024-09-28 21:15:58.355 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 21:15:58.487 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 21:15:58.493 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:58.496 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:58.499 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:15:58.500 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:15:58.503 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-28 21:15:58.504 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:15:58.541 +06:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:15:58.551 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:58.554 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-28 21:15:58.557 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:58.559 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:15:58.578 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:15:58.589 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 3204.1873ms
2024-09-28 21:15:58.595 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:15:58.600 +06:00 [ERR] Index was out of range. Must be non-negative and less than the size of the collection. (Parameter 'index')
2024-09-28 21:15:58.613 +06:00 [ERR] HTTP POST /api/User/login responded 500 in 3305.8854 ms
2024-09-28 21:15:58.619 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:15:58.624 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:15:58.627 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-28 21:15:58.631 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 500 null application/json; charset=utf-8 3348.1641ms
2024-09-28 21:16:01.341 +06:00 [DBG] Connection id "0HN6VQ1M78B4B" received FIN.
2024-09-28 21:16:01.342 +06:00 [DBG] Connection id "0HN6VQ1M78B4B" is closed. The last processed stream ID was 1.
2024-09-28 21:16:01.342 +06:00 [DBG] The connection queue processing loop for 0HN6VQ1M78B4B completed.
2024-09-28 21:16:01.345 +06:00 [DBG] Connection id "0HN6VQ1M78B4B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:16:01.356 +06:00 [DBG] Connection id "0HN6VQ1M78B4B" stopped.
2024-09-28 21:16:49.502 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 21:16:49.649 +06:00 [DBG] Hosting starting
2024-09-28 21:16:49.704 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 21:16:49.716 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 21:16:49.730 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 21:16:49.733 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 21:16:49.742 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 21:16:49.749 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 21:16:49.750 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 21:16:49.755 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 21:16:49.758 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 21:16:49.760 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 21:16:49.762 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 21:16:49.766 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 21:16:49.770 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 21:16:49.774 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 21:16:49.775 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 21:16:50.115 +06:00 [DBG] Connection id "0HN6VQ29OGS73" accepted.
2024-09-28 21:16:50.121 +06:00 [DBG] Connection id "0HN6VQ29OGS73" started.
2024-09-28 21:16:50.129 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 21:16:50.130 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 21:16:50.132 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 21:16:50.134 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 21:16:50.141 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 21:16:50.142 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 21:16:50.144 +06:00 [INF] Hosting environment: Development
2024-09-28 21:16:50.145 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 21:16:50.146 +06:00 [DBG] Hosting started
2024-09-28 21:16:50.586 +06:00 [DBG] Connection id "0HN6VQ29OGS74" accepted.
2024-09-28 21:16:50.590 +06:00 [DBG] Connection id "0HN6VQ29OGS74" started.
2024-09-28 21:16:57.723 +06:00 [DBG] Connection id "0HN6VQ29OGS75" accepted.
2024-09-28 21:16:57.835 +06:00 [DBG] Connection id "0HN6VQ29OGS75" started.
2024-09-28 21:16:57.951 +06:00 [DBG] Connection 0HN6VQ29OGS75 established using the following protocol: "Tls12"
2024-09-28 21:16:58.173 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 21:16:58.405 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 21:16:58.438 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 21:16:58.440 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:16:58.713 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 21:16:58.765 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 21:16:58.779 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 617.2939ms
2024-09-28 21:16:59.625 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 21:16:59.625 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 21:16:59.653 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 28.1593ms
2024-09-28 21:16:59.722 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 97.3857ms
2024-09-28 21:16:59.773 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 21:16:59.775 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 21:16:59.776 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:16:59.995 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 222.738ms
2024-09-28 21:17:00.168 +06:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-28 21:17:00.177 +06:00 [DBG] Connection id "0HN6VQ29OGS73" stopped.
2024-09-28 21:17:00.181 +06:00 [DBG] Connection id "0HN6VQ29OGS73" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:17:00.607 +06:00 [DBG] Authentication of the HTTPS connection timed out.
2024-09-28 21:17:00.609 +06:00 [DBG] Connection id "0HN6VQ29OGS74" stopped.
2024-09-28 21:17:00.612 +06:00 [DBG] Connection id "0HN6VQ29OGS74" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:17:02.161 +06:00 [DBG] Connection id "0HN6VQ29OGS75" received FIN.
2024-09-28 21:17:02.166 +06:00 [DBG] The connection queue processing loop for 0HN6VQ29OGS75 completed.
2024-09-28 21:17:02.172 +06:00 [DBG] Connection id "0HN6VQ29OGS75" is closed. The last processed stream ID was 7.
2024-09-28 21:17:02.176 +06:00 [DBG] Connection id "0HN6VQ29OGS75" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:17:02.184 +06:00 [DBG] Connection id "0HN6VQ29OGS75" stopped.
2024-09-28 21:17:13.836 +06:00 [DBG] Connection id "0HN6VQ29OGS76" accepted.
2024-09-28 21:17:13.838 +06:00 [DBG] Connection id "0HN6VQ29OGS76" started.
2024-09-28 21:17:13.844 +06:00 [DBG] Connection 0HN6VQ29OGS76 established using the following protocol: "Tls12"
2024-09-28 21:17:13.849 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-28 21:17:13.859 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:17:13.866 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:17:13.871 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:17:13.874 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:17:13.876 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-28 21:17:13.877 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:17:14.015 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 21:17:14.023 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:17:14.074 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:17:14.081 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:17:14.084 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:17:14.085 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:17:14.086 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:17:14.087 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:17:14.090 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:17:14.383 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 21:17:14.589 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:17:14.621 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:17:14.626 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:17:14.631 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:17:14.645 +06:00 [DBG] Connection id "0HN6VQ29OGS76", Request id "0HN6VQ29OGS76:00000001": started reading request body.
2024-09-28 21:17:14.651 +06:00 [DBG] Connection id "0HN6VQ29OGS76", Request id "0HN6VQ29OGS76:00000001": done reading request body.
2024-09-28 21:17:14.669 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:17:14.674 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:17:14.678 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:17:14.682 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:17:14.698 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:22:56.640 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 21:22:56.645 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 21:22:56.903 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 21:22:57.174 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:22:57.348 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 21:22:57.663 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 21:22:57.739 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:22:57.784 +06:00 [DBG] Created DbConnection. (43ms).
2024-09-28 21:22:57.793 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:22:58.517 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:22:58.529 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:22:58.539 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-09-28 21:22:58.554 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (26ms).
2024-09-28 21:22:58.566 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:22:58.740 +06:00 [INF] Executed DbCommand (171ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:22:58.787 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:22:58.796 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 49ms reading results.
2024-09-28 21:22:58.800 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:22:58.808 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-28 21:23:10.201 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 21:23:10.293 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 21:23:10.297 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:23:10.299 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:23:10.300 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:23:10.302 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:23:10.303 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-28 21:23:10.304 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:23:10.330 +06:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:23:10.335 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:23:10.336 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 21:23:10.337 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:23:10.337 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:42:41.813 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 21:42:42.148 +06:00 [DBG] Hosting starting
2024-09-28 21:42:42.334 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 21:42:42.344 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 21:42:42.355 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 21:42:42.372 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 21:42:42.379 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 21:42:42.383 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 21:42:42.384 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 21:42:42.389 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 21:42:42.392 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 21:42:42.394 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 21:42:42.396 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 21:42:42.399 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 21:42:42.402 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 21:42:42.405 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 21:42:42.406 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 21:42:42.793 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 21:42:42.796 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 21:42:42.797 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 21:42:42.798 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 21:42:42.799 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 21:42:42.799 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 21:42:42.800 +06:00 [INF] Hosting environment: Development
2024-09-28 21:42:42.800 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 21:42:42.801 +06:00 [DBG] Hosting started
2024-09-28 21:42:43.092 +06:00 [DBG] Connection id "0HN6VQGOIRQ60" accepted.
2024-09-28 21:42:43.093 +06:00 [DBG] Connection id "0HN6VQGOIRQ60" started.
2024-09-28 21:42:43.102 +06:00 [DBG] Connection id "0HN6VQGOIRQ61" accepted.
2024-09-28 21:42:43.103 +06:00 [DBG] Connection id "0HN6VQGOIRQ61" started.
2024-09-28 21:42:43.136 +06:00 [DBG] Connection id "0HN6VQGOIRQ61" received FIN.
2024-09-28 21:42:43.137 +06:00 [DBG] Connection id "0HN6VQGOIRQ60" received FIN.
2024-09-28 21:42:43.146 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 21:42:43.146 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 21:42:43.175 +06:00 [DBG] Connection id "0HN6VQGOIRQ61" stopped.
2024-09-28 21:42:43.175 +06:00 [DBG] Connection id "0HN6VQGOIRQ60" stopped.
2024-09-28 21:42:43.178 +06:00 [DBG] Connection id "0HN6VQGOIRQ61" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:42:43.178 +06:00 [DBG] Connection id "0HN6VQGOIRQ60" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:42:43.300 +06:00 [DBG] Connection id "0HN6VQGOIRQ62" accepted.
2024-09-28 21:42:43.309 +06:00 [DBG] Connection id "0HN6VQGOIRQ62" started.
2024-09-28 21:42:43.502 +06:00 [DBG] Connection 0HN6VQGOIRQ62 established using the following protocol: "Tls12"
2024-09-28 21:42:43.576 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 21:42:43.740 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 21:42:43.752 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 21:42:43.754 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:42:43.846 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 21:42:43.865 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 21:42:43.872 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 298.3141ms
2024-09-28 21:42:43.895 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 21:42:43.905 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 9.4197ms
2024-09-28 21:42:44.033 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 21:42:44.109 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 75.5623ms
2024-09-28 21:42:44.385 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 21:42:44.387 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 21:42:44.389 +06:00 [DBG] Request did not match any endpoints
2024-09-28 21:42:44.591 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 206.6148ms
2024-09-28 21:42:49.089 +06:00 [DBG] Connection id "0HN6VQGOIRQ62" received FIN.
2024-09-28 21:42:49.093 +06:00 [DBG] The connection queue processing loop for 0HN6VQGOIRQ62 completed.
2024-09-28 21:42:49.096 +06:00 [DBG] Connection id "0HN6VQGOIRQ62" is closed. The last processed stream ID was 7.
2024-09-28 21:42:49.099 +06:00 [DBG] Connection id "0HN6VQGOIRQ62" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:42:49.104 +06:00 [DBG] Connection id "0HN6VQGOIRQ62" stopped.
2024-09-28 21:43:39.332 +06:00 [DBG] Connection id "0HN6VQGOIRQ63" accepted.
2024-09-28 21:43:39.335 +06:00 [DBG] Connection id "0HN6VQGOIRQ63" started.
2024-09-28 21:43:39.340 +06:00 [DBG] Connection 0HN6VQGOIRQ63 established using the following protocol: "Tls12"
2024-09-28 21:43:39.345 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/register - application/json 105
2024-09-28 21:43:39.355 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/register'
2024-09-28 21:43:39.362 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)' with route pattern 'api/User/register' is valid for the request path '/api/User/register'
2024-09-28 21:43:39.364 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)'
2024-09-28 21:43:39.367 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:43:39.368 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-28 21:43:39.369 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:43:40.775 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 21:43:40.782 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)'
2024-09-28 21:43:40.809 +06:00 [INF] Route matched with {action = "Registraion", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Registraion(Service.dtos.UseRegistrationDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:43:40.815 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:43:40.816 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:43:40.817 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:43:40.818 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:43:40.819 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:43:40.822 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:43:41.511 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 21:43:41.694 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:43:41.735 +06:00 [DBG] Attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto' ...
2024-09-28 21:43:41.738 +06:00 [DBG] Attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto' using the name '' in request data ...
2024-09-28 21:43:41.741 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:43:41.754 +06:00 [DBG] Connection id "0HN6VQGOIRQ63", Request id "0HN6VQGOIRQ63:00000001": started reading request body.
2024-09-28 21:43:41.757 +06:00 [DBG] Connection id "0HN6VQGOIRQ63", Request id "0HN6VQGOIRQ63:00000001": done reading request body.
2024-09-28 21:43:41.768 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UseRegistrationDto'
2024-09-28 21:43:41.770 +06:00 [DBG] Done attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto'.
2024-09-28 21:43:41.771 +06:00 [DBG] Done attempting to bind parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto'.
2024-09-28 21:43:41.771 +06:00 [DBG] Attempting to validate the bound parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto' ...
2024-09-28 21:43:41.778 +06:00 [DBG] Done attempting to validate the bound parameter 'registrationDto' of type 'Service.dtos.UseRegistrationDto'.
2024-09-28 21:43:42.618 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 21:43:42.620 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 21:43:42.792 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 21:43:42.943 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:43:43.295 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2024-09-28 21:43:43.506 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.NormalizedUserName == @__normalizedUserName_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 21:43:43.564 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:43:43.592 +06:00 [DBG] Created DbConnection. (25ms).
2024-09-28 21:43:43.601 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:44.535 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:44.544 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:43:44.552 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2024-09-28 21:43:44.564 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (21ms).
2024-09-28 21:43:44.575 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-28 21:43:44.686 +06:00 [INF] Executed DbCommand (115ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-28 21:43:44.707 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:44.716 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 24ms reading results.
2024-09-28 21:43:44.719 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:44.724 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (5ms).
2024-09-28 21:43:44.754 +06:00 [DBG] 'AppDbContext' generated a value for the property 'Users.Discriminator'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:44.834 +06:00 [DBG] Context 'AppDbContext' started tracking 'Users' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:44.839 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-28 21:43:44.845 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 21:43:44.873 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 21:43:44.879 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 21:43:44.881 +06:00 [DBG] The unchanged property 'Users.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-28 21:43:44.884 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 21:43:44.990 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:44.994 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:44.997 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:43:44.998 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:43:45.000 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:43:45.002 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 13), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAtUtc], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdatedAtUtc], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-28 21:43:45.017 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = DateTime2), @p4='?' (Size = 13), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [CreatedAtUtc], [Discriminator], [Email], [EmailConfirmed], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UpdatedAtUtc], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-09-28 21:43:45.022 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.024 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-28 21:43:45.027 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.029 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:43:45.039 +06:00 [DBG] An entity of type 'Users' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:45.044 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-28 21:43:45.053 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .SingleOrDefault(r => r.NormalizedName == __normalizedRoleName_0)'
2024-09-28 21:43:45.063 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityRole>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(2) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedRoleName_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityRole>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 21:43:45.066 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.067 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.067 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:43:45.068 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 21:43:45.069 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:43:45.069 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-28 21:43:45.076 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-28 21:43:45.088 +06:00 [DBG] Context 'AppDbContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:45.097 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.098 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 19ms reading results.
2024-09-28 21:43:45.099 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.099 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:43:45.111 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .FirstOrDefault(e => EF.Property<string>(e, "UserId") == __p_0 && EF.Property<string>(e, "RoleId") == __p_1)'
2024-09-28 21:43:45.129 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityUserRole<string>>(
    asyncEnumerable: new SingleQueryingEnumerable<IdentityUserRole<string>>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUserRole<string>.UserId (string) Required PK FK AfterSave:Throw, 0], [Property: IdentityUserRole<string>.RoleId (string) Required PK FK Index AfterSave:Throw, 1] }
            SELECT TOP(1) a.UserId, a.RoleId
            FROM AspNetUserRoles AS a
            WHERE (a.UserId == @__p_0) && (a.RoleId == @__p_1)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, IdentityUserRole<string>>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 21:43:45.140 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.141 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.143 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:43:45.144 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:43:45.145 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:43:45.146 +06:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-28 21:43:45.151 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2024-09-28 21:43:45.153 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.154 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:43:45.156 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.157 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:43:45.163 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.165 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.166 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:43:45.166 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 21:43:45.167 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:43:45.168 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-28 21:43:45.174 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2024-09-28 21:43:45.178 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.179 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:43:45.180 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.181 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:43:45.196 +06:00 [DBG] Context 'AppDbContext' started tracking 'IdentityUserRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:45.200 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.201 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.202 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:43:45.204 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:43:45.205 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:43:45.206 +06:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-28 21:43:45.214 +06:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[NormalizedUserName] = @__normalizedUserName_0
2024-09-28 21:43:45.220 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.221 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-28 21:43:45.222 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.223 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 21:43:45.230 +06:00 [DBG] An entity of type 'Users' tracked by 'AppDbContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:45.232 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-28 21:43:45.233 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 21:43:45.240 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 21:43:45.241 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 21:43:45.243 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 21:43:45.258 +06:00 [DBG] Executing 2 update commands as a batch.
2024-09-28 21:43:45.262 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.263 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.265 +06:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-28 21:43:45.273 +06:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-28 21:43:45.275 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:43:45.277 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:43:45.279 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-28 21:43:45.281 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAtUtc] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UpdatedAtUtc] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-28 21:43:45.297 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p18='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p19='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (DbType = DateTime2), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [CreatedAtUtc] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [LockoutEnabled] = @p7, [LockoutEnd] = @p8, [NormalizedEmail] = @p9, [NormalizedUserName] = @p10, [PasswordHash] = @p11, [PhoneNumber] = @p12, [PhoneNumberConfirmed] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UpdatedAtUtc] = @p16, [UserName] = @p17
OUTPUT 1
WHERE [Id] = @p18 AND [ConcurrencyStamp] = @p19;
2024-09-28 21:43:45.303 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.305 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 3ms reading results.
2024-09-28 21:43:45.308 +06:00 [DBG] Committing transaction.
2024-09-28 21:43:45.313 +06:00 [DBG] Committed transaction.
2024-09-28 21:43:45.316 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.317 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:43:45.319 +06:00 [DBG] Disposing transaction.
2024-09-28 21:43:45.320 +06:00 [DBG] An entity of type 'IdentityUserRole' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:45.322 +06:00 [DBG] An entity of type 'Users' tracked by 'AppDbContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 21:43:45.324 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 2 entities written to the database.
2024-09-28 21:43:45.327 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-28 21:43:45.328 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 21:43:45.331 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 21:43:45.332 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 21:43:45.333 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 21:43:45.335 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 0 entities written to the database.
2024-09-28 21:43:45.343 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 21:43:45.348 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 21:43:45.349 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 21:43:45.350 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 21:43:45.352 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-09-28 21:43:45.354 +06:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-09-28 21:43:45.358 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Registraion (WebApplication1) in 4535.7771ms
2024-09-28 21:43:45.361 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Registraion (WebApplication1)'
2024-09-28 21:43:45.365 +06:00 [INF] HTTP POST /api/User/register responded 204 in 5992.7160 ms
2024-09-28 21:43:45.370 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:43:45.372 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:43:45.377 +06:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-09-28 21:43:45.380 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/register - 204 null null 6035.5887ms
2024-09-28 21:43:49.131 +06:00 [DBG] Connection id "0HN6VQGOIRQ63" received FIN.
2024-09-28 21:43:49.135 +06:00 [DBG] Connection id "0HN6VQGOIRQ63" is closed. The last processed stream ID was 1.
2024-09-28 21:43:49.135 +06:00 [DBG] The connection queue processing loop for 0HN6VQGOIRQ63 completed.
2024-09-28 21:43:49.138 +06:00 [DBG] Connection id "0HN6VQGOIRQ63" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:43:49.146 +06:00 [DBG] Connection id "0HN6VQGOIRQ63" stopped.
2024-09-28 21:44:23.433 +06:00 [DBG] Connection id "0HN6VQGOIRQ64" accepted.
2024-09-28 21:44:23.436 +06:00 [DBG] Connection id "0HN6VQGOIRQ64" started.
2024-09-28 21:44:23.441 +06:00 [DBG] Connection 0HN6VQGOIRQ64 established using the following protocol: "Tls12"
2024-09-28 21:44:23.443 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-28 21:44:23.449 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:44:23.454 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:44:23.460 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:44:23.462 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:44:23.463 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-28 21:44:23.464 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:44:23.465 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 21:44:23.466 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:44:23.469 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:44:23.472 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:44:23.473 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:44:23.474 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:44:23.476 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:44:23.476 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:44:23.477 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:44:23.481 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:44:23.482 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:44:23.483 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:44:23.484 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:44:23.485 +06:00 [DBG] Connection id "0HN6VQGOIRQ64", Request id "0HN6VQGOIRQ64:00000001": started reading request body.
2024-09-28 21:44:23.486 +06:00 [DBG] Connection id "0HN6VQGOIRQ64", Request id "0HN6VQGOIRQ64:00000001": done reading request body.
2024-09-28 21:44:23.488 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:44:23.489 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:44:23.490 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:44:23.491 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:44:23.492 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:44:23.557 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:44:23.563 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 21:44:23.572 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 21:44:23.576 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:44:23.577 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-28 21:44:23.578 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.580 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.581 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:44:23.581 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 21:44:23.582 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:44:23.583 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:44:23.588 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:44:23.591 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.592 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:44:23.593 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.594 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:44:23.725 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 21:44:23.786 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 21:44:23.796 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.798 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.799 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:44:23.799 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 21:44:23.800 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:44:23.801 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:44:23.806 +06:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:44:23.809 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.809 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 21:44:23.810 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.811 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:44:23.904 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 21:44:23.911 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 21:44:23.913 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 21:44:23.916 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 21:44:23.918 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 21:44:23.921 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 21:44:23.932 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 454.7435ms
2024-09-28 21:44:23.934 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:44:23.935 +06:00 [INF] HTTP POST /api/User/login responded 200 in 471.0613 ms
2024-09-28 21:44:23.938 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:44:23.939 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:44:23.941 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-28 21:44:23.944 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 501.181ms
2024-09-28 21:44:29.164 +06:00 [DBG] Connection id "0HN6VQGOIRQ64" received FIN.
2024-09-28 21:44:29.166 +06:00 [DBG] Connection id "0HN6VQGOIRQ64" is closed. The last processed stream ID was 1.
2024-09-28 21:44:29.166 +06:00 [DBG] The connection queue processing loop for 0HN6VQGOIRQ64 completed.
2024-09-28 21:44:29.168 +06:00 [DBG] Connection id "0HN6VQGOIRQ64" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:44:29.178 +06:00 [DBG] Connection id "0HN6VQGOIRQ64" stopped.
2024-09-28 21:45:24.155 +06:00 [DBG] Connection id "0HN6VQGOIRQ65" accepted.
2024-09-28 21:45:24.158 +06:00 [DBG] Connection id "0HN6VQGOIRQ65" started.
2024-09-28 21:45:24.168 +06:00 [DBG] Connection 0HN6VQGOIRQ65 established using the following protocol: "Tls12"
2024-09-28 21:45:24.170 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 21:45:24.172 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:45:24.174 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 21:45:24.175 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:45:24.176 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:45:24.177 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:45:24.178 +06:00 [DBG] The request is a preflight request.
2024-09-28 21:45:24.182 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 11.1831ms
2024-09-28 21:45:24.184 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 21:45:24.186 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 21:45:24.187 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 21:45:24.188 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:45:24.189 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 21:45:24.190 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 21:45:24.190 +06:00 [INF] CORS policy execution successful.
2024-09-28 21:45:24.205 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.FormatException: IDX10400: Unable to decode: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.ValidateAndGetOutputSize(String inputString, Int32 offset, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 21:45:24.217 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 21:45:24.218 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:45:24.219 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 21:45:24.220 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 21:45:24.221 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 21:45:24.221 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 21:45:24.222 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 21:45:24.223 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 21:45:24.224 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:45:24.237 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 21:45:24.237 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:45:24.238 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 21:45:24.239 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 21:45:24.240 +06:00 [DBG] Connection id "0HN6VQGOIRQ65", Request id "0HN6VQGOIRQ65:00000003": started reading request body.
2024-09-28 21:45:24.240 +06:00 [DBG] Connection id "0HN6VQGOIRQ65", Request id "0HN6VQGOIRQ65:00000003": done reading request body.
2024-09-28 21:45:24.241 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 21:45:24.242 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:45:24.242 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:45:24.243 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 21:45:24.244 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 21:45:24.265 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 21:45:24.269 +06:00 [DBG] Creating DbConnection.
2024-09-28 21:45:24.271 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 21:45:24.272 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.274 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.276 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:45:24.277 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 21:45:24.281 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2024-09-28 21:45:24.282 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:45:24.292 +06:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 21:45:24.298 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.302 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 4ms reading results.
2024-09-28 21:45:24.303 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.304 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:45:24.435 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.437 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.438 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 21:45:24.438 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 21:45:24.440 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 21:45:24.441 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:45:24.446 +06:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 21:45:24.447 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.448 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 0ms reading results.
2024-09-28 21:45:24.449 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.450 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 21:45:24.451 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 21:45:24.452 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 21:45:24.453 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 21:45:24.453 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 21:45:24.454 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 21:45:24.455 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 21:45:24.456 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 232.3726ms
2024-09-28 21:45:24.458 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 21:45:24.459 +06:00 [INF] HTTP POST /api/User/login responded 200 in 267.4725 ms
2024-09-28 21:45:24.461 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 21:45:24.463 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 21:45:24.464 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 21:45:24.465 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 281.2599ms
2024-09-28 21:45:29.268 +06:00 [DBG] Connection id "0HN6VQGOIRQ65" received FIN.
2024-09-28 21:45:29.271 +06:00 [DBG] Connection id "0HN6VQGOIRQ65" is closed. The last processed stream ID was 3.
2024-09-28 21:45:29.271 +06:00 [DBG] The connection queue processing loop for 0HN6VQGOIRQ65 completed.
2024-09-28 21:45:29.274 +06:00 [DBG] Connection id "0HN6VQGOIRQ65" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 21:45:29.282 +06:00 [DBG] Connection id "0HN6VQGOIRQ65" stopped.
2024-09-28 22:09:53.080 +06:00 [DBG] Connection id "0HN6VQGOIRQ66" accepted.
2024-09-28 22:09:53.092 +06:00 [DBG] Connection id "0HN6VQGOIRQ66" started.
2024-09-28 22:09:53.117 +06:00 [DBG] Connection 0HN6VQGOIRQ66 established using the following protocol: "Tls12"
2024-09-28 22:09:53.137 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BussinessEntities/getAllBussinessEntities - null null
2024-09-28 22:09:53.153 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BussinessEntities/getAllBussinessEntities'
2024-09-28 22:09:53.156 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BussinessEntitiesController.GetAllBussinessEntities (WebApplication1)' with route pattern 'api/BussinessEntities/getAllBussinessEntities' is valid for the request path '/api/BussinessEntities/getAllBussinessEntities'
2024-09-28 22:09:53.159 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BussinessEntitiesController.GetAllBussinessEntities (WebApplication1)'
2024-09-28 22:09:53.170 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:09:53.175 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 22:09:53.182 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BussinessEntitiesController.GetAllBussinessEntities (WebApplication1)'
2024-09-28 22:09:53.221 +06:00 [INF] Route matched with {action = "GetAllBussinessEntities", controller = "BussinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBussinessEntities(System.Nullable`1[DataAccess.Enums.BusinessType]) on controller WebApplication1.Controllers.BussinessEntitiesController (WebApplication1).
2024-09-28 22:09:53.229 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 22:09:53.231 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 22:09:53.233 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 22:09:53.236 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 22:09:53.238 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 22:09:53.241 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BussinessEntitiesController (WebApplication1)
2024-09-28 22:09:53.249 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BussinessEntitiesController (WebApplication1)
2024-09-28 22:09:53.250 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:09:53.252 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' using the name '' in request data ...
2024-09-28 22:09:53.253 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:09:53.254 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:09:53.255 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:09:53.256 +06:00 [DBG] Attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:09:53.260 +06:00 [DBG] Done attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:09:53.264 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 22:09:53.266 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 22:09:53.267 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-28 22:09:53.268 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-28 22:09:53.269 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-28 22:09:53.324 +06:00 [INF] Executed action WebApplication1.Controllers.BussinessEntitiesController.GetAllBussinessEntities (WebApplication1) in 83.4961ms
2024-09-28 22:09:53.327 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BussinessEntitiesController.GetAllBussinessEntities (WebApplication1)'
2024-09-28 22:09:53.330 +06:00 [INF] HTTP GET /api/BussinessEntities/getAllBussinessEntities responded 400 in 157.8276 ms
2024-09-28 22:09:53.331 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BussinessEntities/getAllBussinessEntities - 400 null application/problem+json; charset=utf-8 193.7831ms
2024-09-28 22:10:46.650 +06:00 [DBG] Connection id "0HN6VQGOIRQ66" received FIN.
2024-09-28 22:10:46.652 +06:00 [DBG] Connection id "0HN6VQGOIRQ66" is closed. The last processed stream ID was 1.
2024-09-28 22:10:46.653 +06:00 [DBG] The connection queue processing loop for 0HN6VQGOIRQ66 completed.
2024-09-28 22:10:46.653 +06:00 [DBG] Connection id "0HN6VQGOIRQ66" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:10:46.678 +06:00 [DBG] Connection id "0HN6VQGOIRQ66" stopped.
2024-09-28 22:15:39.396 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 22:15:39.480 +06:00 [DBG] Hosting starting
2024-09-28 22:15:39.500 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 22:15:39.508 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 22:15:39.517 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 22:15:39.519 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 22:15:39.524 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 22:15:39.528 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 22:15:39.529 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 22:15:39.533 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 22:15:39.536 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 22:15:39.538 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 22:15:39.540 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 22:15:39.543 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 22:15:39.545 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 22:15:39.547 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 22:15:39.548 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 22:15:39.670 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 22:15:39.673 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 22:15:39.674 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 22:15:39.675 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 22:15:39.676 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 22:15:39.677 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 22:15:39.678 +06:00 [INF] Hosting environment: Development
2024-09-28 22:15:39.678 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 22:15:39.679 +06:00 [DBG] Hosting started
2024-09-28 22:15:40.046 +06:00 [DBG] Connection id "0HN6VR35OI5S9" received FIN.
2024-09-28 22:15:40.046 +06:00 [DBG] Connection id "0HN6VR35OI5S8" received FIN.
2024-09-28 22:15:40.054 +06:00 [DBG] Connection id "0HN6VR35OI5S9" accepted.
2024-09-28 22:15:40.054 +06:00 [DBG] Connection id "0HN6VR35OI5S8" accepted.
2024-09-28 22:15:40.056 +06:00 [DBG] Connection id "0HN6VR35OI5S9" started.
2024-09-28 22:15:40.056 +06:00 [DBG] Connection id "0HN6VR35OI5S8" started.
2024-09-28 22:15:40.069 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 22:15:40.069 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 22:15:40.086 +06:00 [DBG] Connection id "0HN6VR35OI5S9" stopped.
2024-09-28 22:15:40.086 +06:00 [DBG] Connection id "0HN6VR35OI5S8" stopped.
2024-09-28 22:15:40.088 +06:00 [DBG] Connection id "0HN6VR35OI5S8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:15:40.088 +06:00 [DBG] Connection id "0HN6VR35OI5S9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:15:40.098 +06:00 [DBG] Connection id "0HN6VR35OI5SA" accepted.
2024-09-28 22:15:40.099 +06:00 [DBG] Connection id "0HN6VR35OI5SA" started.
2024-09-28 22:15:40.148 +06:00 [DBG] Connection 0HN6VR35OI5SA established using the following protocol: "Tls12"
2024-09-28 22:15:40.187 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 22:15:40.276 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 22:15:40.290 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 22:15:40.294 +06:00 [DBG] Request did not match any endpoints
2024-09-28 22:15:40.379 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 22:15:40.397 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 22:15:40.403 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 216.5928ms
2024-09-28 22:15:40.433 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 22:15:40.433 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 22:15:40.444 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 11.8169ms
2024-09-28 22:15:40.476 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 43.2751ms
2024-09-28 22:15:40.972 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 22:15:40.976 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 22:15:40.977 +06:00 [DBG] Request did not match any endpoints
2024-09-28 22:15:41.190 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.1012ms
2024-09-28 22:15:42.218 +06:00 [DBG] Connection id "0HN6VR35OI5SA" received FIN.
2024-09-28 22:15:42.221 +06:00 [DBG] The connection queue processing loop for 0HN6VR35OI5SA completed.
2024-09-28 22:15:42.224 +06:00 [DBG] Connection id "0HN6VR35OI5SA" is closed. The last processed stream ID was 7.
2024-09-28 22:15:42.226 +06:00 [DBG] Connection id "0HN6VR35OI5SA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:15:42.232 +06:00 [DBG] Connection id "0HN6VR35OI5SA" stopped.
2024-09-28 22:17:07.929 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 22:17:08.005 +06:00 [DBG] Hosting starting
2024-09-28 22:17:08.023 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 22:17:08.036 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 22:17:08.043 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 22:17:08.045 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 22:17:08.048 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 22:17:08.052 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 22:17:08.053 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 22:17:08.057 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 22:17:08.060 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 22:17:08.062 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 22:17:08.064 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 22:17:08.067 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 22:17:08.070 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 22:17:08.073 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 22:17:08.074 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 22:17:08.174 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 22:17:08.178 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 22:17:08.180 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 22:17:08.181 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 22:17:08.181 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 22:17:08.182 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 22:17:08.183 +06:00 [INF] Hosting environment: Development
2024-09-28 22:17:08.183 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 22:17:08.184 +06:00 [DBG] Hosting started
2024-09-28 22:17:08.482 +06:00 [DBG] Connection id "0HN6VR403UVDC" accepted.
2024-09-28 22:17:08.483 +06:00 [DBG] Connection id "0HN6VR403UVDB" accepted.
2024-09-28 22:17:08.485 +06:00 [DBG] Connection id "0HN6VR403UVDC" started.
2024-09-28 22:17:08.486 +06:00 [DBG] Connection id "0HN6VR403UVDB" started.
2024-09-28 22:17:08.505 +06:00 [DBG] Connection id "0HN6VR403UVDC" received FIN.
2024-09-28 22:17:08.505 +06:00 [DBG] Connection id "0HN6VR403UVDB" received FIN.
2024-09-28 22:17:08.513 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 22:17:08.513 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 22:17:08.527 +06:00 [DBG] Connection id "0HN6VR403UVDC" stopped.
2024-09-28 22:17:08.528 +06:00 [DBG] Connection id "0HN6VR403UVDB" stopped.
2024-09-28 22:17:08.531 +06:00 [DBG] Connection id "0HN6VR403UVDB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:17:08.531 +06:00 [DBG] Connection id "0HN6VR403UVDC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:17:08.547 +06:00 [DBG] Connection id "0HN6VR403UVDD" accepted.
2024-09-28 22:17:08.549 +06:00 [DBG] Connection id "0HN6VR403UVDD" started.
2024-09-28 22:17:08.597 +06:00 [DBG] Connection 0HN6VR403UVDD established using the following protocol: "Tls12"
2024-09-28 22:17:08.649 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 22:17:08.782 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 22:17:08.812 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 22:17:08.813 +06:00 [DBG] Request did not match any endpoints
2024-09-28 22:17:08.938 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 22:17:08.962 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 22:17:08.966 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 318.3221ms
2024-09-28 22:17:08.979 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 22:17:08.979 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 22:17:08.993 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 13.8379ms
2024-09-28 22:17:09.029 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.4882ms
2024-09-28 22:17:09.167 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 22:17:09.172 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 22:17:09.174 +06:00 [DBG] Request did not match any endpoints
2024-09-28 22:17:09.336 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 169.3994ms
2024-09-28 22:17:12.397 +06:00 [DBG] Connection id "0HN6VR403UVDD" received FIN.
2024-09-28 22:17:12.401 +06:00 [DBG] The connection queue processing loop for 0HN6VR403UVDD completed.
2024-09-28 22:17:12.403 +06:00 [DBG] Connection id "0HN6VR403UVDD" is closed. The last processed stream ID was 7.
2024-09-28 22:17:12.405 +06:00 [DBG] Connection id "0HN6VR403UVDD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:17:12.417 +06:00 [DBG] Connection id "0HN6VR403UVDD" stopped.
2024-09-28 22:33:26.402 +06:00 [DBG] Connection id "0HN6VR403UVDE" accepted.
2024-09-28 22:33:26.417 +06:00 [DBG] Connection id "0HN6VR403UVDE" started.
2024-09-28 22:33:26.451 +06:00 [DBG] Connection 0HN6VR403UVDE established using the following protocol: "Tls12"
2024-09-28 22:33:26.471 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 22:33:26.507 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 22:33:26.513 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 22:33:26.522 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:33:26.527 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 22:33:26.528 +06:00 [INF] CORS policy execution successful.
2024-09-28 22:33:26.530 +06:00 [DBG] The request is a preflight request.
2024-09-28 22:33:26.532 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 61.2291ms
2024-09-28 22:33:26.539 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 22:33:26.544 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 22:33:26.548 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 22:33:26.550 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 22:33:26.551 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:33:26.553 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 22:33:26.554 +06:00 [INF] CORS policy execution successful.
2024-09-28 22:33:28.048 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 22:33:28.056 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 22:33:28.063 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 22:33:28.066 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 22:33:28.071 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 22:33:28.074 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 1515.8484 ms
2024-09-28 22:33:28.076 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 1537.3448ms
2024-09-28 22:33:28.084 +06:00 [DBG] Connection id "0HN6VR403UVDE", Request id "0HN6VR403UVDE:00000003": started reading request body.
2024-09-28 22:33:28.086 +06:00 [DBG] Connection id "0HN6VR403UVDE", Request id "0HN6VR403UVDE:00000003": done reading request body.
2024-09-28 22:33:28.810 +06:00 [DBG] Connection id "0HN6VR403UVDE" received FIN.
2024-09-28 22:33:28.812 +06:00 [DBG] Connection id "0HN6VR403UVDE" is closed. The last processed stream ID was 3.
2024-09-28 22:33:28.813 +06:00 [DBG] The connection queue processing loop for 0HN6VR403UVDE completed.
2024-09-28 22:33:28.815 +06:00 [DBG] Connection id "0HN6VR403UVDE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:33:28.824 +06:00 [DBG] Connection id "0HN6VR403UVDE" stopped.
2024-09-28 22:35:15.179 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 22:35:15.373 +06:00 [DBG] Hosting starting
2024-09-28 22:35:15.569 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 22:35:15.581 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 22:35:15.588 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 22:35:15.621 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 22:35:15.627 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 22:35:15.630 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 22:35:15.631 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 22:35:15.636 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 22:35:15.639 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 22:35:15.643 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 22:35:15.645 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 22:35:15.648 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 22:35:15.652 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 22:35:15.655 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 22:35:15.657 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 22:35:16.042 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 22:35:16.046 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 22:35:16.048 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 22:35:16.050 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 22:35:16.052 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 22:35:16.053 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 22:35:16.053 +06:00 [INF] Hosting environment: Development
2024-09-28 22:35:16.054 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 22:35:16.056 +06:00 [DBG] Hosting started
2024-09-28 22:35:16.430 +06:00 [DBG] Connection id "0HN6VRE4BE6S2" accepted.
2024-09-28 22:35:16.432 +06:00 [DBG] Connection id "0HN6VRE4BE6S2" started.
2024-09-28 22:35:16.471 +06:00 [DBG] Connection id "0HN6VRE4BE6S2" received FIN.
2024-09-28 22:35:16.478 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 22:35:16.498 +06:00 [DBG] Connection id "0HN6VRE4BE6S2" stopped.
2024-09-28 22:35:16.501 +06:00 [DBG] Connection id "0HN6VRE4BE6S2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:35:16.512 +06:00 [DBG] Connection id "0HN6VRE4BE6S3" accepted.
2024-09-28 22:35:16.514 +06:00 [DBG] Connection id "0HN6VRE4BE6S3" started.
2024-09-28 22:35:16.558 +06:00 [DBG] Connection 0HN6VRE4BE6S3 established using the following protocol: "Tls12"
2024-09-28 22:35:16.601 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 22:35:16.744 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 22:35:16.758 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 22:35:16.759 +06:00 [DBG] Request did not match any endpoints
2024-09-28 22:35:16.858 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 22:35:16.876 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 22:35:16.880 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 280.8992ms
2024-09-28 22:35:16.913 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 22:35:16.915 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 22:35:16.933 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 17.1214ms
2024-09-28 22:35:16.965 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 51.1811ms
2024-09-28 22:35:17.259 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 22:35:17.262 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 22:35:17.263 +06:00 [DBG] Request did not match any endpoints
2024-09-28 22:35:17.404 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 144.8603ms
2024-09-28 22:35:18.961 +06:00 [DBG] Connection id "0HN6VRE4BE6S3" received FIN.
2024-09-28 22:35:18.964 +06:00 [DBG] The connection queue processing loop for 0HN6VRE4BE6S3 completed.
2024-09-28 22:35:18.966 +06:00 [DBG] Connection id "0HN6VRE4BE6S3" is closed. The last processed stream ID was 7.
2024-09-28 22:35:18.967 +06:00 [DBG] Connection id "0HN6VRE4BE6S3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:35:18.975 +06:00 [DBG] Connection id "0HN6VRE4BE6S3" stopped.
2024-09-28 22:35:36.818 +06:00 [DBG] Connection id "0HN6VRE4BE6S4" accepted.
2024-09-28 22:35:36.822 +06:00 [DBG] Connection id "0HN6VRE4BE6S4" started.
2024-09-28 22:35:36.826 +06:00 [DBG] Connection 0HN6VRE4BE6S4 established using the following protocol: "Tls12"
2024-09-28 22:35:36.829 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 110
2024-09-28 22:35:36.840 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 22:35:36.845 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 22:35:36.849 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 22:35:36.851 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:35:36.853 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-28 22:35:36.853 +06:00 [INF] CORS policy execution successful.
2024-09-28 22:35:36.886 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 22:35:36.900 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 22:35:36.907 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 22:35:36.915 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 22:35:36.919 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 61.8454 ms
2024-09-28 22:35:36.925 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 95.8819ms
2024-09-28 22:35:36.933 +06:00 [DBG] Connection id "0HN6VRE4BE6S4", Request id "0HN6VRE4BE6S4:00000001": started reading request body.
2024-09-28 22:35:36.935 +06:00 [DBG] Connection id "0HN6VRE4BE6S4", Request id "0HN6VRE4BE6S4:00000001": done reading request body.
2024-09-28 22:35:38.988 +06:00 [DBG] Connection id "0HN6VRE4BE6S4" received FIN.
2024-09-28 22:35:38.992 +06:00 [DBG] Connection id "0HN6VRE4BE6S4" is closed. The last processed stream ID was 1.
2024-09-28 22:35:38.992 +06:00 [DBG] The connection queue processing loop for 0HN6VRE4BE6S4 completed.
2024-09-28 22:35:38.995 +06:00 [DBG] Connection id "0HN6VRE4BE6S4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:35:39.002 +06:00 [DBG] Connection id "0HN6VRE4BE6S4" stopped.
2024-09-28 22:36:51.138 +06:00 [DBG] Connection id "0HN6VRE4BE6S5" accepted.
2024-09-28 22:36:51.160 +06:00 [DBG] Connection id "0HN6VRE4BE6S5" started.
2024-09-28 22:36:51.164 +06:00 [DBG] Connection 0HN6VRE4BE6S5 established using the following protocol: "Tls12"
2024-09-28 22:36:51.169 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 61
2024-09-28 22:36:51.174 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 22:36:51.178 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 22:36:51.182 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 22:36:51.194 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:36:51.197 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-28 22:36:51.208 +06:00 [INF] CORS policy execution successful.
2024-09-28 22:36:51.219 +06:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-28 22:36:51.225 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 22:36:51.270 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 22:36:51.276 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 22:36:51.278 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 22:36:51.287 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 22:36:51.302 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 22:36:51.312 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 22:36:51.324 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 22:36:51.889 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 22:36:52.069 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 22:36:52.123 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 22:36:52.130 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 22:36:52.134 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 22:36:52.141 +06:00 [DBG] Connection id "0HN6VRE4BE6S5", Request id "0HN6VRE4BE6S5:00000001": started reading request body.
2024-09-28 22:36:52.142 +06:00 [DBG] Connection id "0HN6VRE4BE6S5", Request id "0HN6VRE4BE6S5:00000001": done reading request body.
2024-09-28 22:36:52.158 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 22:36:52.161 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 22:36:52.162 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 22:36:52.172 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 22:36:52.182 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 22:36:52.864 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 22:36:52.867 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 22:36:53.047 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 22:36:53.264 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 22:36:53.534 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 22:36:53.845 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 22:36:53.908 +06:00 [DBG] Creating DbConnection.
2024-09-28 22:36:53.955 +06:00 [DBG] Created DbConnection. (44ms).
2024-09-28 22:36:53.961 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:55.423 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:55.428 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 22:36:55.434 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-28 22:36:55.448 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (19ms).
2024-09-28 22:36:55.463 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 22:36:55.658 +06:00 [INF] Executed DbCommand (200ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 22:36:55.696 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:55.705 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 36ms reading results.
2024-09-28 22:36:55.716 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:55.726 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (12ms).
2024-09-28 22:36:55.969 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 22:36:56.030 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 22:36:56.039 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:56.042 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:56.042 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 22:36:56.043 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 22:36:56.045 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 22:36:56.046 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 22:36:56.070 +06:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 22:36:56.075 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:56.075 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 22:36:56.077 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:56.079 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 22:36:56.128 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 22:36:56.135 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 22:36:56.136 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 22:36:56.137 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 22:36:56.139 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 22:36:56.140 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 22:36:56.155 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4830.6626ms
2024-09-28 22:36:56.158 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 22:36:56.161 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4949.7071 ms
2024-09-28 22:36:56.165 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 22:36:56.170 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:36:56.175 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-28 22:36:56.189 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5019.3886ms
2024-09-28 22:36:59.084 +06:00 [DBG] Connection id "0HN6VRE4BE6S5" received FIN.
2024-09-28 22:36:59.086 +06:00 [DBG] Connection id "0HN6VRE4BE6S5" is closed. The last processed stream ID was 1.
2024-09-28 22:36:59.087 +06:00 [DBG] The connection queue processing loop for 0HN6VRE4BE6S5 completed.
2024-09-28 22:36:59.091 +06:00 [DBG] Connection id "0HN6VRE4BE6S5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:36:59.098 +06:00 [DBG] Connection id "0HN6VRE4BE6S5" stopped.
2024-09-28 22:37:19.294 +06:00 [DBG] Connection id "0HN6VRE4BE6S6" accepted.
2024-09-28 22:37:19.296 +06:00 [DBG] Connection id "0HN6VRE4BE6S6" started.
2024-09-28 22:37:19.301 +06:00 [DBG] Connection 0HN6VRE4BE6S6 established using the following protocol: "Tls12"
2024-09-28 22:37:19.330 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 110
2024-09-28 22:37:19.356 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 22:37:19.357 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 22:37:19.359 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 22:37:19.360 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:37:19.362 +06:00 [DBG] The request has an origin header: 'https://localhost:7028'.
2024-09-28 22:37:19.364 +06:00 [INF] CORS policy execution successful.
2024-09-28 22:37:19.439 +06:00 [DBG] Successfully validated the token.
2024-09-28 22:37:19.443 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 22:37:19.446 +06:00 [DBG] Authorization was successful.
2024-09-28 22:37:19.447 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 22:37:19.453 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 22:37:19.455 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 22:37:19.456 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 22:37:19.458 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 22:37:19.459 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 22:37:19.460 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 22:37:19.468 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:19.476 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:19.477 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 22:37:19.486 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-28 22:37:19.489 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 22:37:19.491 +06:00 [DBG] Connection id "0HN6VRE4BE6S6", Request id "0HN6VRE4BE6S6:00000001": started reading request body.
2024-09-28 22:37:19.492 +06:00 [DBG] Connection id "0HN6VRE4BE6S6", Request id "0HN6VRE4BE6S6:00000001": done reading request body.
2024-09-28 22:37:19.501 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-28 22:37:19.504 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 22:37:19.505 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 22:37:19.506 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 22:37:19.510 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 22:37:19.591 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 22:37:19.599 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __addentitiesDto_Name_0)'
2024-09-28 22:37:19.624 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BussinessEntities>(
    asyncEnumerable: new SingleQueryingEnumerable<BussinessEntities>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            WHERE b.Name == @__addentitiesDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 22:37:19.663 +06:00 [DBG] Creating DbConnection.
2024-09-28 22:37:19.670 +06:00 [DBG] Created DbConnection. (7ms).
2024-09-28 22:37:19.677 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:19.680 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:19.685 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 22:37:19.689 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-28 22:37:19.695 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-28 22:37:19.701 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 22:37:19.729 +06:00 [INF] Executed DbCommand (28ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 22:37:19.734 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:19.735 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 22:37:19.736 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:19.737 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 22:37:19.775 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'BussinessEntities.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 22:37:19.859 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 22:37:19.866 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-28 22:37:19.871 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 22:37:19.895 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 22:37:19.907 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 22:37:19.915 +06:00 [DBG] The unchanged property 'BussinessEntities.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-28 22:37:19.925 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 22:37:20.023 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:20.025 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:20.032 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 22:37:20.033 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 22:37:20.039 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2024-09-28 22:37:20.044 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-28 22:37:20.095 +06:00 [INF] Executed DbCommand (52ms) [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-28 22:37:20.106 +06:00 [DBG] The foreign key property 'BussinessEntities.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-28 22:37:20.113 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:20.114 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 14ms reading results.
2024-09-28 22:37:20.121 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:20.124 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (3ms).
2024-09-28 22:37:20.143 +06:00 [DBG] An entity of type 'BussinessEntities' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 22:37:20.154 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-28 22:37:20.157 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 22:37:20.159 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 22:37:20.160 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 22:37:20.160 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 22:37:20.167 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-09-28 22:37:20.173 +06:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-09-28 22:37:20.174 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 706.2588ms
2024-09-28 22:37:20.175 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 22:37:20.176 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 204 in 810.4512 ms
2024-09-28 22:37:20.177 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 22:37:20.183 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:20.190 +06:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-09-28 22:37:20.192 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 862.001ms
2024-09-28 22:37:29.112 +06:00 [DBG] Connection id "0HN6VRE4BE6S6" received FIN.
2024-09-28 22:37:29.114 +06:00 [DBG] Connection id "0HN6VRE4BE6S6" is closed. The last processed stream ID was 1.
2024-09-28 22:37:29.114 +06:00 [DBG] The connection queue processing loop for 0HN6VRE4BE6S6 completed.
2024-09-28 22:37:29.116 +06:00 [DBG] Connection id "0HN6VRE4BE6S6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:37:29.130 +06:00 [DBG] Connection id "0HN6VRE4BE6S6" stopped.
2024-09-28 22:37:40.449 +06:00 [DBG] Connection id "0HN6VRE4BE6S7" accepted.
2024-09-28 22:37:40.452 +06:00 [DBG] Connection id "0HN6VRE4BE6S7" started.
2024-09-28 22:37:40.455 +06:00 [DBG] Connection 0HN6VRE4BE6S7 established using the following protocol: "Tls12"
2024-09-28 22:37:40.457 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities - null null
2024-09-28 22:37:40.459 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-09-28 22:37:40.464 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/getAllBusinessEntities' is valid for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-09-28 22:37:40.470 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:40.477 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:37:40.480 +06:00 [DBG] Successfully validated the token.
2024-09-28 22:37:40.484 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 22:37:40.488 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:40.503 +06:00 [INF] Route matched with {action = "GetAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBusinessEntities(System.Nullable`1[DataAccess.Enums.BusinessType]) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 22:37:40.506 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 22:37:40.519 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 22:37:40.521 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 22:37:40.531 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 22:37:40.538 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 22:37:40.539 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:40.541 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:40.547 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:37:40.553 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' using the name '' in request data ...
2024-09-28 22:37:40.554 +06:00 [DBG] Could not find a value in the request with name '' for binding parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:40.555 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:40.556 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:40.561 +06:00 [DBG] Attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:37:40.569 +06:00 [DBG] Done attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:40.575 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 22:37:40.584 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 22:37:40.586 +06:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-28 22:37:40.590 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-28 22:37:40.592 +06:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2024-09-28 22:37:40.617 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1) in 77.5951ms
2024-09-28 22:37:40.618 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:40.623 +06:00 [INF] HTTP GET /api/BusinessEntities/getAllBusinessEntities responded 400 in 143.9916 ms
2024-09-28 22:37:40.629 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities - 400 null application/problem+json; charset=utf-8 171.5211ms
2024-09-28 22:37:47.014 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=1 - null null
2024-09-28 22:37:47.016 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-09-28 22:37:47.017 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/getAllBusinessEntities' is valid for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-09-28 22:37:47.021 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:47.023 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:37:47.025 +06:00 [DBG] Successfully validated the token.
2024-09-28 22:37:47.026 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 22:37:47.028 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:47.029 +06:00 [INF] Route matched with {action = "GetAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBusinessEntities(System.Nullable`1[DataAccess.Enums.BusinessType]) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 22:37:47.034 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 22:37:47.035 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 22:37:47.037 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 22:37:47.049 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 22:37:47.050 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 22:37:47.051 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:47.055 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:47.065 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:37:47.067 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' using the name 'UserType' in request data ...
2024-09-28 22:37:47.069 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:47.071 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:47.072 +06:00 [DBG] Attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:37:47.082 +06:00 [DBG] Done attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:47.099 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 22:37:47.102 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .Where(u => (int?)u.Type == (int?)__UserType_0)'
2024-09-28 22:37:47.110 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<BussinessEntities>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
        SELECT b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
        FROM BussinessEntities AS b
        WHERE b.Type == @__UserType_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 22:37:47.113 +06:00 [DBG] Creating DbConnection.
2024-09-28 22:37:47.114 +06:00 [DBG] Created DbConnection. (0ms).
2024-09-28 22:37:47.119 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:47.124 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:47.126 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 22:37:47.127 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 22:37:47.128 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 22:37:47.129 +06:00 [DBG] Executing DbCommand [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-09-28 22:37:47.168 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-09-28 22:37:47.172 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:47.174 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 22:37:47.182 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:47.185 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (3ms).
2024-09-28 22:37:47.193 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 22:37:47.199 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 22:37:47.204 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 22:37:47.205 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 22:37:47.206 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 22:37:47.207 +06:00 [INF] Executing NotFoundObjectResult, writing value of type 'System.String'.
2024-09-28 22:37:47.215 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1) in 163.2594ms
2024-09-28 22:37:47.219 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:47.220 +06:00 [INF] HTTP GET /api/BusinessEntities/getAllBusinessEntities responded 404 in 195.7925 ms
2024-09-28 22:37:47.221 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 22:37:47.222 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:47.235 +06:00 [DBG] Disposed connection to database '' on server '' (12ms).
2024-09-28 22:37:47.237 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=1 - 404 null text/plain; charset=utf-8 222.4577ms
2024-09-28 22:37:49.134 +06:00 [DBG] Connection id "0HN6VRE4BE6S7" received FIN.
2024-09-28 22:37:49.136 +06:00 [DBG] Connection id "0HN6VRE4BE6S7" is closed. The last processed stream ID was 3.
2024-09-28 22:37:49.136 +06:00 [DBG] The connection queue processing loop for 0HN6VRE4BE6S7 completed.
2024-09-28 22:37:49.138 +06:00 [DBG] Connection id "0HN6VRE4BE6S7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:37:49.145 +06:00 [DBG] Connection id "0HN6VRE4BE6S7" stopped.
2024-09-28 22:37:53.240 +06:00 [DBG] Connection id "0HN6VRE4BE6S8" accepted.
2024-09-28 22:37:53.246 +06:00 [DBG] Connection id "0HN6VRE4BE6S8" started.
2024-09-28 22:37:53.250 +06:00 [DBG] Connection 0HN6VRE4BE6S8 established using the following protocol: "Tls12"
2024-09-28 22:37:53.256 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=0 - null null
2024-09-28 22:37:53.264 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-09-28 22:37:53.267 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/getAllBusinessEntities' is valid for the request path '/api/BusinessEntities/getAllBusinessEntities'
2024-09-28 22:37:53.276 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:53.290 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 22:37:53.304 +06:00 [DBG] Successfully validated the token.
2024-09-28 22:37:53.309 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 22:37:53.316 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:53.323 +06:00 [INF] Route matched with {action = "GetAllBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllBusinessEntities(System.Nullable`1[DataAccess.Enums.BusinessType]) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 22:37:53.341 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 22:37:53.354 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 22:37:53.361 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 22:37:53.370 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 22:37:53.384 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 22:37:53.386 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:53.395 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 22:37:53.401 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:37:53.404 +06:00 [DBG] Attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' using the name 'UserType' in request data ...
2024-09-28 22:37:53.414 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:53.416 +06:00 [DBG] Done attempting to bind parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:53.423 +06:00 [DBG] Attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]' ...
2024-09-28 22:37:53.432 +06:00 [DBG] Done attempting to validate the bound parameter 'UserType' of type 'System.Nullable`1[DataAccess.Enums.BusinessType]'.
2024-09-28 22:37:53.440 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 22:37:53.456 +06:00 [DBG] Creating DbConnection.
2024-09-28 22:37:53.462 +06:00 [DBG] Created DbConnection. (5ms).
2024-09-28 22:37:53.464 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:53.473 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:53.485 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 22:37:53.487 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 22:37:53.491 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-28 22:37:53.494 +06:00 [DBG] Executing DbCommand [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-09-28 22:37:53.508 +06:00 [INF] Executed DbCommand (14ms) [Parameters=[@__UserType_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Type] = @__UserType_0
2024-09-28 22:37:53.526 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 22:37:53.529 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:53.531 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 9ms reading results.
2024-09-28 22:37:53.536 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:53.545 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (9ms).
2024-09-28 22:37:53.576 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 22:37:53.581 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 22:37:53.584 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 22:37:53.586 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 22:37:53.588 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 22:37:53.589 +06:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Service.dtos.ShowBusinessEntitiesDto, Service, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-28 22:37:53.593 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1) in 206.8446ms
2024-09-28 22:37:53.594 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.GetAllBusinessEntities (WebApplication1)'
2024-09-28 22:37:53.595 +06:00 [INF] HTTP GET /api/BusinessEntities/getAllBusinessEntities responded 200 in 291.6454 ms
2024-09-28 22:37:53.599 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 22:37:53.606 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 22:37:53.608 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 22:37:53.609 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/api/BusinessEntities/getAllBusinessEntities?UserType=0 - 200 null application/json; charset=utf-8 352.7596ms
2024-09-28 22:37:59.141 +06:00 [DBG] Connection id "0HN6VRE4BE6S8" received FIN.
2024-09-28 22:37:59.142 +06:00 [DBG] Connection id "0HN6VRE4BE6S8" is closed. The last processed stream ID was 1.
2024-09-28 22:37:59.142 +06:00 [DBG] The connection queue processing loop for 0HN6VRE4BE6S8 completed.
2024-09-28 22:37:59.144 +06:00 [DBG] Connection id "0HN6VRE4BE6S8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 22:37:59.155 +06:00 [DBG] Connection id "0HN6VRE4BE6S8" stopped.
2024-09-28 23:09:26.381 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 23:09:26.601 +06:00 [DBG] Hosting starting
2024-09-28 23:09:26.644 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 23:09:26.683 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 23:09:26.700 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 23:09:26.703 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 23:09:26.709 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 23:09:26.715 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 23:09:26.717 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 23:09:26.722 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 23:09:26.725 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 23:09:26.727 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 23:09:26.730 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 23:09:26.736 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 23:09:26.739 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 23:09:26.742 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 23:09:26.743 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 23:09:26.891 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 23:09:26.896 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 23:09:26.899 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 23:09:26.901 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 23:09:26.902 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 23:09:26.904 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 23:09:26.905 +06:00 [INF] Hosting environment: Development
2024-09-28 23:09:26.905 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 23:09:26.906 +06:00 [DBG] Hosting started
2024-09-28 23:09:27.163 +06:00 [DBG] Connection id "0HN6VS17GOAK3" accepted.
2024-09-28 23:09:27.167 +06:00 [DBG] Connection id "0HN6VS17GOAK4" accepted.
2024-09-28 23:09:27.168 +06:00 [DBG] Connection id "0HN6VS17GOAK3" started.
2024-09-28 23:09:27.171 +06:00 [DBG] Connection id "0HN6VS17GOAK4" started.
2024-09-28 23:09:27.200 +06:00 [DBG] Connection id "0HN6VS17GOAK3" received FIN.
2024-09-28 23:09:27.200 +06:00 [DBG] Connection id "0HN6VS17GOAK4" received FIN.
2024-09-28 23:09:27.217 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 23:09:27.217 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 23:09:27.257 +06:00 [DBG] Connection id "0HN6VS17GOAK4" stopped.
2024-09-28 23:09:27.257 +06:00 [DBG] Connection id "0HN6VS17GOAK3" stopped.
2024-09-28 23:09:27.277 +06:00 [DBG] Connection id "0HN6VS17GOAK4" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:09:27.277 +06:00 [DBG] Connection id "0HN6VS17GOAK3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:09:27.353 +06:00 [DBG] Connection id "0HN6VS17GOAK5" accepted.
2024-09-28 23:09:27.354 +06:00 [DBG] Connection id "0HN6VS17GOAK5" started.
2024-09-28 23:09:27.424 +06:00 [DBG] Connection 0HN6VS17GOAK5 established using the following protocol: "Tls12"
2024-09-28 23:09:27.497 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 23:09:27.609 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 23:09:27.636 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 23:09:27.640 +06:00 [DBG] Request did not match any endpoints
2024-09-28 23:09:27.802 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 23:09:27.834 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 23:09:27.852 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 351.79ms
2024-09-28 23:09:27.890 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 23:09:27.890 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 23:09:27.903 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 12.8574ms
2024-09-28 23:09:27.947 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.8841ms
2024-09-28 23:09:28.534 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 23:09:28.537 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 23:09:28.539 +06:00 [DBG] Request did not match any endpoints
2024-09-28 23:09:28.741 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 207.2113ms
2024-09-28 23:09:32.340 +06:00 [DBG] Connection id "0HN6VS17GOAK5" received FIN.
2024-09-28 23:09:32.346 +06:00 [DBG] The connection queue processing loop for 0HN6VS17GOAK5 completed.
2024-09-28 23:09:32.349 +06:00 [DBG] Connection id "0HN6VS17GOAK5" is closed. The last processed stream ID was 7.
2024-09-28 23:09:32.351 +06:00 [DBG] Connection id "0HN6VS17GOAK5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:09:32.354 +06:00 [DBG] Connection id "0HN6VS17GOAK5" stopped.
2024-09-28 23:09:37.634 +06:00 [DBG] Connection id "0HN6VS17GOAK6" accepted.
2024-09-28 23:09:37.635 +06:00 [DBG] Connection id "0HN6VS17GOAK6" started.
2024-09-28 23:09:37.644 +06:00 [DBG] Connection 0HN6VS17GOAK6 established using the following protocol: "Tls12"
2024-09-28 23:09:37.655 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:09:37.662 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:09:37.667 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:09:37.678 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:09:37.684 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:09:37.693 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:09:37.695 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:09:37.706 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 50.505ms
2024-09-28 23:09:37.709 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 23:09:37.724 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:09:37.735 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:09:37.744 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:09:37.761 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:09:37.767 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:09:37.777 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:09:37.859 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 23:09:37.905 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 23:09:37.917 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 23:09:37.930 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 23:09:37.942 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 23:09:37.945 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 156.2916 ms
2024-09-28 23:09:37.955 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 245.5314ms
2024-09-28 23:09:37.980 +06:00 [DBG] Connection id "0HN6VS17GOAK6", Request id "0HN6VS17GOAK6:00000003": started reading request body.
2024-09-28 23:09:37.984 +06:00 [DBG] Connection id "0HN6VS17GOAK6", Request id "0HN6VS17GOAK6:00000003": done reading request body.
2024-09-28 23:09:42.392 +06:00 [DBG] Connection id "0HN6VS17GOAK6" received FIN.
2024-09-28 23:09:42.407 +06:00 [DBG] Connection id "0HN6VS17GOAK6" is closed. The last processed stream ID was 3.
2024-09-28 23:09:42.408 +06:00 [DBG] The connection queue processing loop for 0HN6VS17GOAK6 completed.
2024-09-28 23:09:42.428 +06:00 [DBG] Connection id "0HN6VS17GOAK6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:09:42.451 +06:00 [DBG] Connection id "0HN6VS17GOAK6" stopped.
2024-09-28 23:10:53.569 +06:00 [DBG] Connection id "0HN6VS17GOAK7" accepted.
2024-09-28 23:10:53.575 +06:00 [DBG] Connection id "0HN6VS17GOAK7" started.
2024-09-28 23:10:53.586 +06:00 [DBG] Connection 0HN6VS17GOAK7 established using the following protocol: "Tls12"
2024-09-28 23:10:53.592 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 23:10:53.596 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 23:10:53.597 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:10:53.597 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:10:53.598 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:10:53.599 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:10:53.600 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:10:53.600 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 8.6867ms
2024-09-28 23:10:53.602 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 23:10:53.607 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 23:10:53.608 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 23:10:53.609 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 23:10:53.609 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:10:53.610 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:10:53.610 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:10:53.613 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 23:10:53.617 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 23:10:53.618 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 23:10:53.650 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 23:10:53.660 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 23:10:53.661 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 23:10:53.663 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 23:10:53.665 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 23:10:53.665 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 23:10:53.668 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 23:10:53.847 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 23:10:54.044 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 23:10:54.052 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 23:10:54.056 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 23:10:54.059 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 23:10:54.070 +06:00 [DBG] Connection id "0HN6VS17GOAK7", Request id "0HN6VS17GOAK7:00000003": started reading request body.
2024-09-28 23:10:54.072 +06:00 [DBG] Connection id "0HN6VS17GOAK7", Request id "0HN6VS17GOAK7:00000003": done reading request body.
2024-09-28 23:10:54.079 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 23:10:54.080 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 23:10:54.081 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 23:10:54.082 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 23:10:54.087 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 23:10:54.914 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 23:10:54.915 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 23:10:55.084 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 23:10:55.276 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 23:10:55.355 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 23:10:55.585 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 23:10:55.637 +06:00 [DBG] Creating DbConnection.
2024-09-28 23:10:55.655 +06:00 [DBG] Created DbConnection. (17ms).
2024-09-28 23:10:55.660 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.081 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.087 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:10:56.092 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-28 23:10:56.099 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-28 23:10:56.108 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 23:10:56.258 +06:00 [INF] Executed DbCommand (147ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 23:10:56.280 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.291 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 24ms reading results.
2024-09-28 23:10:56.296 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.306 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (9ms).
2024-09-28 23:10:56.473 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 23:10:56.515 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 23:10:56.520 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.522 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.523 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:10:56.523 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 23:10:56.525 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-09-28 23:10:56.526 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 23:10:56.544 +06:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 23:10:56.547 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.548 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 1ms reading results.
2024-09-28 23:10:56.549 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.549 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (0ms).
2024-09-28 23:10:56.576 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 23:10:56.581 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 23:10:56.582 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 23:10:56.582 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 23:10:56.584 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 23:10:56.585 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 23:10:56.593 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 2923.8743ms
2024-09-28 23:10:56.594 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 23:10:56.595 +06:00 [INF] HTTP POST /api/User/login responded 200 in 2984.3904 ms
2024-09-28 23:10:56.598 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 23:10:56.601 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:10:56.603 +06:00 [DBG] Disposed connection to database '' on server '' (2ms).
2024-09-28 23:10:56.606 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 3004.0591ms
2024-09-28 23:11:02.449 +06:00 [DBG] Connection id "0HN6VS17GOAK7" received FIN.
2024-09-28 23:11:02.450 +06:00 [DBG] Connection id "0HN6VS17GOAK7" is closed. The last processed stream ID was 3.
2024-09-28 23:11:02.451 +06:00 [DBG] The connection queue processing loop for 0HN6VS17GOAK7 completed.
2024-09-28 23:11:02.453 +06:00 [DBG] Connection id "0HN6VS17GOAK7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:11:02.463 +06:00 [DBG] Connection id "0HN6VS17GOAK7" stopped.
2024-09-28 23:12:48.085 +06:00 [DBG] Connection id "0HN6VS17GOAK8" accepted.
2024-09-28 23:12:48.088 +06:00 [DBG] Connection id "0HN6VS17GOAK8" started.
2024-09-28 23:12:48.092 +06:00 [DBG] Connection 0HN6VS17GOAK8 established using the following protocol: "Tls12"
2024-09-28 23:12:48.094 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:12:48.096 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:12:48.096 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:12:48.097 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:12:48.097 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:12:48.098 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:12:48.098 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:12:48.099 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 4.4901ms
2024-09-28 23:12:48.100 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 76
2024-09-28 23:12:48.102 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:12:48.102 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:12:48.103 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:12:48.104 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:12:48.104 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:12:48.106 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:12:48.109 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 23:12:48.112 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 23:12:48.114 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 23:12:48.114 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 23:12:48.115 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 23:12:48.116 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 8.9002 ms
2024-09-28 23:12:48.117 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 16.7422ms
2024-09-28 23:12:48.118 +06:00 [DBG] Connection id "0HN6VS17GOAK8", Request id "0HN6VS17GOAK8:00000003": started reading request body.
2024-09-28 23:12:48.119 +06:00 [DBG] Connection id "0HN6VS17GOAK8", Request id "0HN6VS17GOAK8:00000003": done reading request body.
2024-09-28 23:12:52.589 +06:00 [DBG] Connection id "0HN6VS17GOAK8" received FIN.
2024-09-28 23:12:52.592 +06:00 [DBG] Connection id "0HN6VS17GOAK8" is closed. The last processed stream ID was 3.
2024-09-28 23:12:52.593 +06:00 [DBG] The connection queue processing loop for 0HN6VS17GOAK8 completed.
2024-09-28 23:12:52.594 +06:00 [DBG] Connection id "0HN6VS17GOAK8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:12:52.610 +06:00 [DBG] Connection id "0HN6VS17GOAK8" stopped.
2024-09-28 23:17:18.381 +06:00 [DBG] Connection id "0HN6VS17GOAK9" accepted.
2024-09-28 23:17:18.397 +06:00 [DBG] Connection id "0HN6VS17GOAK9" started.
2024-09-28 23:17:18.406 +06:00 [DBG] Connection 0HN6VS17GOAK9 established using the following protocol: "Tls12"
2024-09-28 23:17:18.419 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:17:18.433 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:17:18.436 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:17:18.447 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:17:18.448 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:17:18.452 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:17:18.467 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:17:18.468 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 48.7295ms
2024-09-28 23:17:18.471 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 23:17:18.478 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:17:18.479 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:17:18.481 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:17:18.483 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:17:18.484 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:17:18.496 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:17:18.498 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 23:17:18.515 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 23:17:18.519 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 23:17:18.531 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 23:17:18.535 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 23:17:18.537 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 38.7490 ms
2024-09-28 23:17:18.546 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 75.4339ms
2024-09-28 23:17:18.555 +06:00 [DBG] Connection id "0HN6VS17GOAK9", Request id "0HN6VS17GOAK9:00000003": started reading request body.
2024-09-28 23:17:18.563 +06:00 [DBG] Connection id "0HN6VS17GOAK9", Request id "0HN6VS17GOAK9:00000003": done reading request body.
2024-09-28 23:17:33.054 +06:00 [DBG] Connection id "0HN6VS17GOAK9" received FIN.
2024-09-28 23:17:33.056 +06:00 [DBG] Connection id "0HN6VS17GOAK9" is closed. The last processed stream ID was 3.
2024-09-28 23:17:33.056 +06:00 [DBG] The connection queue processing loop for 0HN6VS17GOAK9 completed.
2024-09-28 23:17:33.059 +06:00 [DBG] Connection id "0HN6VS17GOAK9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:17:33.073 +06:00 [DBG] Connection id "0HN6VS17GOAK9" stopped.
2024-09-28 23:18:30.410 +06:00 [DBG] Connection id "0HN6VS17GOAKA" accepted.
2024-09-28 23:18:30.413 +06:00 [DBG] Connection id "0HN6VS17GOAKA" started.
2024-09-28 23:18:30.424 +06:00 [DBG] Connection 0HN6VS17GOAKA established using the following protocol: "Tls12"
2024-09-28 23:18:30.436 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:18:30.441 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:18:30.447 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:18:30.458 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:18:30.460 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:18:30.475 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:18:30.482 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:18:30.495 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 58.4696ms
2024-09-28 23:18:30.504 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 23:18:30.531 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:18:30.542 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:18:30.554 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:18:30.558 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:18:30.561 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:18:30.573 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:18:30.578 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.ArgumentOutOfRangeException: Specified argument was out of the range of valid values. (Parameter 'IDX10820: Invalid character found in Base64UrlEncoding. Character: '123', Encoding: '[PII of type 'System.String' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.')
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode(String input, Int32 offset, Int32 length, Byte[] output)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2024-09-28 23:18:30.631 +06:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2024-09-28 23:18:30.642 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 23:18:30.646 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 23:18:30.647 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 23:18:30.652 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 75.5856 ms
2024-09-28 23:18:30.659 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 155.2801ms
2024-09-28 23:18:30.669 +06:00 [DBG] Connection id "0HN6VS17GOAKA", Request id "0HN6VS17GOAKA:00000003": started reading request body.
2024-09-28 23:18:30.675 +06:00 [DBG] Connection id "0HN6VS17GOAKA", Request id "0HN6VS17GOAKA:00000003": done reading request body.
2024-09-28 23:18:33.166 +06:00 [DBG] Connection id "0HN6VS17GOAKA" received FIN.
2024-09-28 23:18:33.169 +06:00 [DBG] Connection id "0HN6VS17GOAKA" is closed. The last processed stream ID was 3.
2024-09-28 23:18:33.169 +06:00 [DBG] The connection queue processing loop for 0HN6VS17GOAKA completed.
2024-09-28 23:18:33.170 +06:00 [DBG] Connection id "0HN6VS17GOAKA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:18:33.185 +06:00 [DBG] Connection id "0HN6VS17GOAKA" stopped.
2024-09-28 23:20:27.309 +06:00 [DBG] Connection id "0HN6VS17GOAKB" accepted.
2024-09-28 23:20:27.315 +06:00 [DBG] Connection id "0HN6VS17GOAKB" started.
2024-09-28 23:20:27.320 +06:00 [DBG] Connection 0HN6VS17GOAKB established using the following protocol: "Tls12"
2024-09-28 23:20:27.322 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:20:27.325 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:20:27.333 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:20:27.340 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:20:27.341 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:20:27.345 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:20:27.347 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:20:27.357 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 34.8772ms
2024-09-28 23:20:27.360 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 23:20:27.378 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:20:27.382 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:20:27.407 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:20:27.411 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:20:27.418 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:20:27.422 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:20:27.517 +06:00 [DBG] Successfully validated the token.
2024-09-28 23:20:27.522 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 23:20:27.527 +06:00 [DBG] Authorization was successful.
2024-09-28 23:20:27.528 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:20:27.550 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 23:20:27.556 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 23:20:27.572 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 23:20:27.576 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 23:20:27.581 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 23:20:27.584 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 23:20:27.586 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:20:27.593 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:20:27.600 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:20:27.605 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-28 23:20:27.610 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 23:20:27.619 +06:00 [DBG] Connection id "0HN6VS17GOAKB", Request id "0HN6VS17GOAKB:00000003": started reading request body.
2024-09-28 23:20:27.620 +06:00 [DBG] Connection id "0HN6VS17GOAKB", Request id "0HN6VS17GOAKB:00000003": done reading request body.
2024-09-28 23:20:27.625 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-28 23:20:27.627 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:20:27.630 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:20:27.636 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:20:27.644 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:20:27.739 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 23:20:27.753 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __addentitiesDto_Name_0)'
2024-09-28 23:20:27.768 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BussinessEntities>(
    asyncEnumerable: new SingleQueryingEnumerable<BussinessEntities>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            WHERE b.Name == @__addentitiesDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 23:20:27.782 +06:00 [DBG] Creating DbConnection.
2024-09-28 23:20:27.787 +06:00 [DBG] Created DbConnection. (5ms).
2024-09-28 23:20:27.790 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.059 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.060 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:20:28.062 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-28 23:20:28.063 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2024-09-28 23:20:28.065 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:20:28.105 +06:00 [INF] Executed DbCommand (40ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:20:28.109 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.111 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 2ms reading results.
2024-09-28 23:20:28.113 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.115 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (1ms).
2024-09-28 23:20:28.175 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'BussinessEntities.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 23:20:28.252 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 23:20:28.261 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-28 23:20:28.266 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 23:20:28.288 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 23:20:28.292 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 23:20:28.296 +06:00 [DBG] The unchanged property 'BussinessEntities.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-28 23:20:28.304 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 23:20:28.381 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.383 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.388 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:20:28.389 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-28 23:20:28.393 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (5ms).
2024-09-28 23:20:28.395 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-28 23:20:28.433 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-28 23:20:28.459 +06:00 [DBG] The foreign key property 'BussinessEntities.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-28 23:20:28.473 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.474 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 35ms reading results.
2024-09-28 23:20:28.482 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.486 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (3ms).
2024-09-28 23:20:28.515 +06:00 [DBG] An entity of type 'BussinessEntities' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 23:20:28.521 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-28 23:20:28.524 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 23:20:28.531 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 23:20:28.537 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 23:20:28.538 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 23:20:28.540 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter' and content type '' to write the response.
2024-09-28 23:20:28.543 +06:00 [INF] Executing OkObjectResult, writing value of type 'null'.
2024-09-28 23:20:28.545 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 958.5461ms
2024-09-28 23:20:28.550 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:20:28.552 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 204 in 1127.4707 ms
2024-09-28 23:20:28.554 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 23:20:28.555 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:20:28.557 +06:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-09-28 23:20:28.570 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 1209.7555ms
2024-09-28 23:20:33.334 +06:00 [DBG] Connection id "0HN6VS17GOAKB" received FIN.
2024-09-28 23:20:33.336 +06:00 [DBG] Connection id "0HN6VS17GOAKB" is closed. The last processed stream ID was 3.
2024-09-28 23:20:33.337 +06:00 [DBG] The connection queue processing loop for 0HN6VS17GOAKB completed.
2024-09-28 23:20:33.339 +06:00 [DBG] Connection id "0HN6VS17GOAKB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:20:33.350 +06:00 [DBG] Connection id "0HN6VS17GOAKB" stopped.
2024-09-28 23:49:54.970 +06:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-28 23:49:55.197 +06:00 [DBG] Hosting starting
2024-09-28 23:49:55.237 +06:00 [INF] User profile is available. Using 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-09-28 23:49:55.250 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-c249bede-42cd-4bf1-9c3e-e47a25d3d81a.xml'.
2024-09-28 23:49:55.270 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-f377ebe4-626c-42ed-a84b-d009da5b7c50.xml'.
2024-09-28 23:49:55.278 +06:00 [DBG] Reading data from file 'C:\Users\hp\AppData\Local\ASP.NET\DataProtection-Keys\key-fab2180f-accc-4bf3-a9a0-7f84b0e647ca.xml'.
2024-09-28 23:49:55.288 +06:00 [DBG] Found key {c249bede-42cd-4bf1-9c3e-e47a25d3d81a}.
2024-09-28 23:49:55.301 +06:00 [DBG] Found key {f377ebe4-626c-42ed-a84b-d009da5b7c50}.
2024-09-28 23:49:55.307 +06:00 [DBG] Found key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca}.
2024-09-28 23:49:55.317 +06:00 [DBG] Considering key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} with expiration date 2024-11-07 13:50:30Z as default key.
2024-09-28 23:49:55.329 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 23:49:55.340 +06:00 [DBG] Decrypting secret element using Windows DPAPI.
2024-09-28 23:49:55.347 +06:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-28 23:49:55.360 +06:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2024-09-28 23:49:55.374 +06:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2024-09-28 23:49:55.388 +06:00 [DBG] Using key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} as the default key.
2024-09-28 23:49:55.394 +06:00 [DBG] Key ring with default key {fab2180f-accc-4bf3-a9a0-7f84b0e647ca} was loaded during application startup.
2024-09-28 23:49:55.726 +06:00 [INF] Now listening on: https://localhost:7028
2024-09-28 23:49:55.740 +06:00 [INF] Now listening on: http://localhost:5145
2024-09-28 23:49:55.743 +06:00 [DBG] Loaded hosting startup assembly WebApplication1
2024-09-28 23:49:55.745 +06:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2024-09-28 23:49:55.747 +06:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2024-09-28 23:49:55.750 +06:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-28 23:49:55.755 +06:00 [INF] Hosting environment: Development
2024-09-28 23:49:55.772 +06:00 [DBG] Connection id "0HN6VSNR9OPUB" accepted.
2024-09-28 23:49:55.784 +06:00 [DBG] Connection id "0HN6VSNR9OPUC" accepted.
2024-09-28 23:49:55.788 +06:00 [DBG] Connection id "0HN6VSNR9OPUC" received FIN.
2024-09-28 23:49:55.788 +06:00 [DBG] Connection id "0HN6VSNR9OPUB" received FIN.
2024-09-28 23:49:55.788 +06:00 [INF] Content root path: D:\Onnorokom\StockManagement\StockManagementBackend\WebApplication1
2024-09-28 23:49:55.791 +06:00 [DBG] Connection id "0HN6VSNR9OPUB" started.
2024-09-28 23:49:55.793 +06:00 [DBG] Connection id "0HN6VSNR9OPUC" started.
2024-09-28 23:49:55.802 +06:00 [DBG] Hosting started
2024-09-28 23:49:55.825 +06:00 [DBG] Connection id "0HN6VSNR9OPUD" accepted.
2024-09-28 23:49:55.830 +06:00 [DBG] Connection id "0HN6VSNR9OPUD" started.
2024-09-28 23:49:55.837 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 23:49:55.837 +06:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2024-09-28 23:49:55.866 +06:00 [DBG] Connection id "0HN6VSNR9OPUB" stopped.
2024-09-28 23:49:55.866 +06:00 [DBG] Connection id "0HN6VSNR9OPUC" stopped.
2024-09-28 23:49:55.874 +06:00 [DBG] Connection id "0HN6VSNR9OPUB" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:49:55.890 +06:00 [DBG] Connection id "0HN6VSNR9OPUC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:49:55.930 +06:00 [DBG] Connection 0HN6VSNR9OPUD established using the following protocol: "Tls12"
2024-09-28 23:49:55.998 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 23:49:56.156 +06:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-28 23:49:56.176 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 23:49:56.181 +06:00 [DBG] Request did not match any endpoints
2024-09-28 23:49:56.374 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 23:49:56.419 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 23:49:56.435 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 436.6197ms
2024-09-28 23:50:01.005 +06:00 [DBG] Connection id "0HN6VSNR9OPUD" received FIN.
2024-09-28 23:50:01.014 +06:00 [DBG] The connection queue processing loop for 0HN6VSNR9OPUD completed.
2024-09-28 23:50:01.022 +06:00 [DBG] Connection id "0HN6VSNR9OPUD" is closed. The last processed stream ID was 1.
2024-09-28 23:50:01.026 +06:00 [DBG] Connection id "0HN6VSNR9OPUD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:50:01.035 +06:00 [DBG] Connection id "0HN6VSNR9OPUD" stopped.
2024-09-28 23:50:09.535 +06:00 [DBG] Connection id "0HN6VSNR9OPUE" accepted.
2024-09-28 23:50:09.538 +06:00 [DBG] Connection id "0HN6VSNR9OPUE" started.
2024-09-28 23:50:09.559 +06:00 [DBG] Connection 0HN6VSNR9OPUE established using the following protocol: "Tls12"
2024-09-28 23:50:09.568 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/index.html - null null
2024-09-28 23:50:09.602 +06:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-28 23:50:09.610 +06:00 [DBG] Request did not match any endpoints
2024-09-28 23:50:09.616 +06:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2024-09-28 23:50:09.679 +06:00 [DBG] Response markup was updated to include browser refresh script injection.
2024-09-28 23:50:09.683 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/index.html - 200 null text/html;charset=utf-8 115.0443ms
2024-09-28 23:50:09.742 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - null null
2024-09-28 23:50:09.766 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_framework/aspnetcore-browser-refresh.js - 200 13766 application/javascript; charset=utf-8 24.4047ms
2024-09-28 23:50:09.815 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/_vs/browserLink - null null
2024-09-28 23:50:09.894 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/_vs/browserLink - 200 null text/javascript; charset=UTF-8 79.7919ms
2024-09-28 23:50:10.346 +06:00 [INF] Request starting HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - null null
2024-09-28 23:50:10.354 +06:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-28 23:50:10.358 +06:00 [DBG] Request did not match any endpoints
2024-09-28 23:50:10.674 +06:00 [INF] Request finished HTTP/2 GET https://localhost:7028/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 327.6961ms
2024-09-28 23:50:11.027 +06:00 [DBG] Connection id "0HN6VSNR9OPUE" received FIN.
2024-09-28 23:50:11.029 +06:00 [DBG] Connection id "0HN6VSNR9OPUE" is closed. The last processed stream ID was 7.
2024-09-28 23:50:11.029 +06:00 [DBG] The connection queue processing loop for 0HN6VSNR9OPUE completed.
2024-09-28 23:50:11.034 +06:00 [DBG] Connection id "0HN6VSNR9OPUE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:50:11.057 +06:00 [DBG] Connection id "0HN6VSNR9OPUE" stopped.
2024-09-28 23:50:15.067 +06:00 [DBG] Connection id "0HN6VSNR9OPUF" accepted.
2024-09-28 23:50:15.070 +06:00 [DBG] Connection id "0HN6VSNR9OPUF" started.
2024-09-28 23:50:15.081 +06:00 [DBG] Connection 0HN6VSNR9OPUF established using the following protocol: "Tls12"
2024-09-28 23:50:15.086 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:50:15.110 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:50:15.114 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:50:15.134 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:50:15.139 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:50:15.140 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:50:15.144 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:50:15.145 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 59.8248ms
2024-09-28 23:50:15.150 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 23:50:15.169 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:50:15.176 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:50:15.183 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:50:15.189 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:50:15.199 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:50:15.206 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:50:15.369 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2024 5:20:56 PM', Current time (UTC): '9/28/2024 5:50:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-28 23:50:15.379 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2024 5:20:56 PM', Current time (UTC): '9/28/2024 5:50:15 PM'.
2024-09-28 23:50:15.393 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 23:50:15.401 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 23:50:15.414 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 23:50:15.421 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 202.9706 ms
2024-09-28 23:50:15.427 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 276.5544ms
2024-09-28 23:50:15.449 +06:00 [DBG] Connection id "0HN6VSNR9OPUF", Request id "0HN6VSNR9OPUF:00000003": started reading request body.
2024-09-28 23:50:15.455 +06:00 [DBG] Connection id "0HN6VSNR9OPUF", Request id "0HN6VSNR9OPUF:00000003": done reading request body.
2024-09-28 23:50:18.658 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 23:50:18.668 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:50:18.674 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:50:18.693 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:50:18.703 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:50:18.714 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:50:18.720 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:50:18.745 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2024 5:20:56 PM', Current time (UTC): '9/28/2024 5:50:18 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-28 23:50:18.776 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2024 5:20:56 PM', Current time (UTC): '9/28/2024 5:50:18 PM'.
2024-09-28 23:50:18.787 +06:00 [DBG] Policy authentication schemes  did not succeed
2024-09-28 23:50:18.794 +06:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-28 23:50:18.804 +06:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-28 23:50:18.812 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 401 in 81.9525 ms
2024-09-28 23:50:18.824 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 401 0 null 165.647ms
2024-09-28 23:50:18.832 +06:00 [DBG] Connection id "0HN6VSNR9OPUF", Request id "0HN6VSNR9OPUF:00000005": started reading request body.
2024-09-28 23:50:18.841 +06:00 [DBG] Connection id "0HN6VSNR9OPUF", Request id "0HN6VSNR9OPUF:00000005": done reading request body.
2024-09-28 23:50:21.044 +06:00 [DBG] Connection id "0HN6VSNR9OPUF" received FIN.
2024-09-28 23:50:21.048 +06:00 [DBG] Connection id "0HN6VSNR9OPUF" is closed. The last processed stream ID was 5.
2024-09-28 23:50:21.049 +06:00 [DBG] The connection queue processing loop for 0HN6VSNR9OPUF completed.
2024-09-28 23:50:21.053 +06:00 [DBG] Connection id "0HN6VSNR9OPUF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:50:21.074 +06:00 [DBG] Connection id "0HN6VSNR9OPUF" stopped.
2024-09-28 23:51:15.137 +06:00 [DBG] Connection id "0HN6VSNR9OPUG" accepted.
2024-09-28 23:51:15.141 +06:00 [DBG] Connection id "0HN6VSNR9OPUG" started.
2024-09-28 23:51:15.163 +06:00 [DBG] Connection 0HN6VSNR9OPUG established using the following protocol: "Tls12"
2024-09-28 23:51:15.170 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/User/login - null null
2024-09-28 23:51:15.185 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 23:51:15.197 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:51:15.205 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:51:15.207 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:51:15.225 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:51:15.241 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:51:15.246 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/User/login - 204 null null 75.3279ms
2024-09-28 23:51:15.252 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/User/login - application/json 52
2024-09-28 23:51:15.279 +06:00 [DBG] 1 candidate(s) found for the request path '/api/User/login'
2024-09-28 23:51:15.288 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)' with route pattern 'api/User/login' is valid for the request path '/api/User/login'
2024-09-28 23:51:15.299 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 23:51:15.307 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:51:15.312 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:51:15.315 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:51:15.325 +06:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2024 5:20:56 PM', Current time (UTC): '9/28/2024 5:51:15 PM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2024-09-28 23:51:15.337 +06:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '9/28/2024 5:20:56 PM', Current time (UTC): '9/28/2024 5:51:15 PM'.
2024-09-28 23:51:15.341 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 23:51:15.400 +06:00 [INF] Route matched with {action = "Login", controller = "User"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Service.dtos.UserLoginDto) on controller WebApplication1.Controllers.UserController (WebApplication1).
2024-09-28 23:51:15.407 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 23:51:15.410 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 23:51:15.412 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 23:51:15.417 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 23:51:15.425 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 23:51:15.434 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 23:51:15.676 +06:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-09-28 23:51:15.913 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.UserController (WebApplication1)
2024-09-28 23:51:15.926 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 23:51:15.931 +06:00 [DBG] Attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto' using the name '' in request data ...
2024-09-28 23:51:15.936 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 23:51:15.953 +06:00 [DBG] Connection id "0HN6VSNR9OPUG", Request id "0HN6VSNR9OPUG:00000003": started reading request body.
2024-09-28 23:51:15.954 +06:00 [DBG] Connection id "0HN6VSNR9OPUG", Request id "0HN6VSNR9OPUG:00000003": done reading request body.
2024-09-28 23:51:15.979 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.UserLoginDto'
2024-09-28 23:51:15.985 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 23:51:15.990 +06:00 [DBG] Done attempting to bind parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 23:51:16.000 +06:00 [DBG] Attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto' ...
2024-09-28 23:51:16.020 +06:00 [DBG] Done attempting to validate the bound parameter 'loginDto' of type 'Service.dtos.UserLoginDto'.
2024-09-28 23:51:17.011 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2024-09-28 23:51:17.013 +06:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2024-09-28 23:51:17.338 +06:00 [DBG] The property 'IdentityUser.Discriminator' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-28 23:51:17.633 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 23:51:17.772 +06:00 [DBG] Compiling query expression: 
'DbSet<Users>()
    .AsNoTracking()
    .FirstOrDefault(u => u.Email == __userLoginDto_Email_0)'
2024-09-28 23:51:18.147 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Users>(
    asyncEnumerable: new SingleQueryingEnumerable<Users>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityUser.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityUser.AccessFailedCount (int) Required, 1], [Property: IdentityUser.ConcurrencyStamp (string) Concurrency, 2], [Property: IdentityUser.Discriminator (no field, string) Shadow Required AfterSave:Throw MaxLength(13), 3], [Property: IdentityUser.Email (string) MaxLength(256), 4], [Property: IdentityUser.EmailConfirmed (bool) Required, 5], [Property: IdentityUser.LockoutEnabled (bool) Required, 6], [Property: IdentityUser.LockoutEnd (DateTimeOffset?), 7], [Property: IdentityUser.NormalizedEmail (string) Index MaxLength(256), 8], [Property: IdentityUser.NormalizedUserName (string) Index MaxLength(256), 9], [Property: IdentityUser.PasswordHash (string), 10], [Property: IdentityUser.PhoneNumber (string), 11], [Property: IdentityUser.PhoneNumberConfirmed (bool) Required, 12], [Property: IdentityUser.SecurityStamp (string), 13], [Property: IdentityUser.TwoFactorEnabled (bool) Required, 14], [Property: IdentityUser.UserName (string) MaxLength(256), 15], [Property: Users.CreatedAtUtc (DateTime) Required, 16], [Property: Users.UpdatedAtUtc (DateTime?), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Discriminator, a.Email, a.EmailConfirmed, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a.CreatedAtUtc, a.UpdatedAtUtc
            FROM AspNetUsers AS a
            WHERE (a.Discriminator == N'Users') && (a.Email == @__userLoginDto_Email_0)), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Users>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 23:51:18.271 +06:00 [DBG] Creating DbConnection.
2024-09-28 23:51:18.332 +06:00 [DBG] Created DbConnection. (60ms).
2024-09-28 23:51:18.341 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:19.052 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:19.063 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:51:19.075 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (11ms).
2024-09-28 23:51:19.089 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (27ms).
2024-09-28 23:51:19.110 +06:00 [DBG] Executing DbCommand [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 23:51:19.362 +06:00 [INF] Executed DbCommand (259ms) [Parameters=[@__userLoginDto_Email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Discriminator], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[CreatedAtUtc], [a].[UpdatedAtUtc]
FROM [AspNetUsers] AS [a]
WHERE [a].[Discriminator] = N'Users' AND [a].[Email] = @__userLoginDto_Email_0
2024-09-28 23:51:19.439 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:19.458 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 59ms reading results.
2024-09-28 23:51:19.471 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:19.490 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (18ms).
2024-09-28 23:51:19.806 +06:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2024-09-28 23:51:19.920 +06:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<string>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, string>, 
    DataAccess.DataBaseContext.AppDbContext, 
    False, 
    False, 
    True
)'
2024-09-28 23:51:19.930 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:19.949 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:19.957 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:51:19.964 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-28 23:51:19.974 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (17ms).
2024-09-28 23:51:19.991 +06:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 23:51:20.059 +06:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2024-09-28 23:51:20.071 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:20.081 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 11ms reading results.
2024-09-28 23:51:20.088 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:20.098 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (9ms).
2024-09-28 23:51:20.148 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 23:51:20.161 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 23:51:20.164 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 23:51:20.169 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 23:51:20.183 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 23:51:20.194 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.VaidUserDto'.
2024-09-28 23:51:20.237 +06:00 [INF] Executed action WebApplication1.Controllers.UserController.Login (WebApplication1) in 4795.5966ms
2024-09-28 23:51:20.244 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.UserController.Login (WebApplication1)'
2024-09-28 23:51:20.250 +06:00 [INF] HTTP POST /api/User/login responded 200 in 4929.2377 ms
2024-09-28 23:51:20.267 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 23:51:20.281 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:20.290 +06:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-09-28 23:51:20.308 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/User/login - 200 null application/json; charset=utf-8 5055.4882ms
2024-09-28 23:51:21.128 +06:00 [DBG] Connection id "0HN6VSNR9OPUG" received FIN.
2024-09-28 23:51:21.131 +06:00 [DBG] Connection id "0HN6VSNR9OPUG" is closed. The last processed stream ID was 3.
2024-09-28 23:51:21.132 +06:00 [DBG] The connection queue processing loop for 0HN6VSNR9OPUG completed.
2024-09-28 23:51:21.136 +06:00 [DBG] Connection id "0HN6VSNR9OPUG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:51:21.147 +06:00 [DBG] Connection id "0HN6VSNR9OPUG" stopped.
2024-09-28 23:51:59.021 +06:00 [DBG] Connection id "0HN6VSNR9OPUH" accepted.
2024-09-28 23:51:59.026 +06:00 [DBG] Connection id "0HN6VSNR9OPUH" started.
2024-09-28 23:51:59.049 +06:00 [DBG] Connection 0HN6VSNR9OPUH established using the following protocol: "Tls12"
2024-09-28 23:51:59.054 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:51:59.061 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:51:59.070 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:51:59.086 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:51:59.100 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:51:59.106 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:51:59.115 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:51:59.123 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 69.5268ms
2024-09-28 23:51:59.127 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 73
2024-09-28 23:51:59.141 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:51:59.152 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:51:59.167 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:51:59.177 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:51:59.180 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:51:59.186 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:51:59.202 +06:00 [DBG] Successfully validated the token.
2024-09-28 23:51:59.209 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 23:51:59.220 +06:00 [DBG] Authorization was successful.
2024-09-28 23:51:59.225 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:51:59.241 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 23:51:59.245 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 23:51:59.251 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 23:51:59.257 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 23:51:59.265 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 23:51:59.273 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 23:51:59.278 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:51:59.283 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:51:59.290 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:51:59.296 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-28 23:51:59.298 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 23:51:59.307 +06:00 [DBG] Connection id "0HN6VSNR9OPUH", Request id "0HN6VSNR9OPUH:00000003": started reading request body.
2024-09-28 23:51:59.312 +06:00 [DBG] Connection id "0HN6VSNR9OPUH", Request id "0HN6VSNR9OPUH:00000003": done reading request body.
2024-09-28 23:51:59.316 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-28 23:51:59.319 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:51:59.327 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:51:59.330 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:51:59.345 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:51:59.456 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 23:51:59.463 +06:00 [DBG] Compiling query expression: 
'DbSet<BussinessEntities>()
    .AsNoTracking()
    .FirstOrDefault(e => e.Name == __addentitiesDto_Name_0)'
2024-09-28 23:51:59.478 +06:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<BussinessEntities>(
    asyncEnumerable: new SingleQueryingEnumerable<BussinessEntities>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: BussinessEntities.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: BussinessEntities.Address (string) Required MaxLength(300), 1], [Property: BussinessEntities.CreatedAtUtc (DateTime) Required, 2], [Property: BussinessEntities.Email (string) Required, 3], [Property: BussinessEntities.Name (string) Required MaxLength(100), 4], [Property: BussinessEntities.Type (BusinessType) Required, 5], [Property: BussinessEntities.UpdatedAtUtc (DateTime?), 6], [Property: BussinessEntities.UsersId (string) Required FK Index, 7] }
            SELECT TOP(1) b.Id, b.Address, b.CreatedAtUtc, b.Email, b.Name, b.Type, b.UpdatedAtUtc, b.UsersId
            FROM BussinessEntities AS b
            WHERE b.Name == @__addentitiesDto_Name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, BussinessEntities>, 
        DataAccess.DataBaseContext.AppDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-28 23:51:59.506 +06:00 [DBG] Creating DbConnection.
2024-09-28 23:51:59.509 +06:00 [DBG] Created DbConnection. (2ms).
2024-09-28 23:51:59.511 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:59.516 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:59.519 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:51:59.530 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-09-28 23:51:59.542 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (22ms).
2024-09-28 23:51:59.549 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:51:59.588 +06:00 [INF] Executed DbCommand (39ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:51:59.597 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:59.605 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 10ms reading results.
2024-09-28 23:51:59.617 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:59.624 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (6ms).
2024-09-28 23:51:59.638 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 23:51:59.652 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 23:51:59.663 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 23:51:59.665 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 23:51:59.672 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 23:51:59.681 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-28 23:51:59.691 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 412.4009ms
2024-09-28 23:51:59.701 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:51:59.718 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 400 in 529.9261 ms
2024-09-28 23:51:59.727 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 23:51:59.732 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:51:59.743 +06:00 [DBG] Disposed connection to database '' on server '' (11ms).
2024-09-28 23:51:59.752 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 400 null text/plain; charset=utf-8 625.0215ms
2024-09-28 23:52:01.181 +06:00 [DBG] Connection id "0HN6VSNR9OPUH" received FIN.
2024-09-28 23:52:01.187 +06:00 [DBG] Connection id "0HN6VSNR9OPUH" is closed. The last processed stream ID was 3.
2024-09-28 23:52:01.188 +06:00 [DBG] The connection queue processing loop for 0HN6VSNR9OPUH completed.
2024-09-28 23:52:01.192 +06:00 [DBG] Connection id "0HN6VSNR9OPUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:52:01.213 +06:00 [DBG] Connection id "0HN6VSNR9OPUH" stopped.
2024-09-28 23:52:16.522 +06:00 [DBG] Connection id "0HN6VSNR9OPUI" accepted.
2024-09-28 23:52:16.528 +06:00 [DBG] Connection id "0HN6VSNR9OPUI" started.
2024-09-28 23:52:16.536 +06:00 [DBG] Connection 0HN6VSNR9OPUI established using the following protocol: "Tls12"
2024-09-28 23:52:16.540 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:52:16.550 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:52:16.557 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:52:16.570 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:52:16.583 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:52:16.590 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:52:16.596 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:52:16.599 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 58.8658ms
2024-09-28 23:52:16.605 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 80
2024-09-28 23:52:16.641 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:52:16.648 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:52:16.661 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:52:16.676 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:52:16.679 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:52:16.686 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:52:16.695 +06:00 [DBG] Successfully validated the token.
2024-09-28 23:52:16.700 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 23:52:16.707 +06:00 [DBG] Authorization was successful.
2024-09-28 23:52:16.716 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:52:16.722 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 23:52:16.736 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 23:52:16.746 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 23:52:16.756 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 23:52:16.765 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 23:52:16.772 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 23:52:16.778 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:52:16.785 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:52:16.793 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:52:16.802 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-28 23:52:16.814 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 23:52:16.825 +06:00 [DBG] Connection id "0HN6VSNR9OPUI", Request id "0HN6VSNR9OPUI:00000003": started reading request body.
2024-09-28 23:52:16.834 +06:00 [DBG] Connection id "0HN6VSNR9OPUI", Request id "0HN6VSNR9OPUI:00000003": done reading request body.
2024-09-28 23:52:16.841 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-28 23:52:16.843 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:52:16.849 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:52:16.858 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:52:16.872 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:52:16.902 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 23:52:16.916 +06:00 [DBG] Creating DbConnection.
2024-09-28 23:52:16.919 +06:00 [DBG] Created DbConnection. (3ms).
2024-09-28 23:52:16.931 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:16.939 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:16.943 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:52:16.950 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2024-09-28 23:52:16.956 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-09-28 23:52:16.966 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:52:16.995 +06:00 [INF] Executed DbCommand (29ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:52:17.015 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:17.030 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 15ms reading results.
2024-09-28 23:52:17.046 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:17.069 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-28 23:52:17.180 +06:00 [DBG] 'AppDbContext' generated a temporary value for the property 'BussinessEntities.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 23:52:17.293 +06:00 [DBG] Context 'AppDbContext' started tracking 'BussinessEntities' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 23:52:17.303 +06:00 [DBG] SaveChanges starting for 'AppDbContext'.
2024-09-28 23:52:17.321 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 23:52:17.361 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 23:52:17.368 +06:00 [DBG] DetectChanges starting for 'AppDbContext'.
2024-09-28 23:52:17.376 +06:00 [DBG] The unchanged property 'BussinessEntities.CreatedAtUtc' was detected as changed and will be marked as modified. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-28 23:52:17.381 +06:00 [DBG] DetectChanges completed for 'AppDbContext'.
2024-09-28 23:52:17.521 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:17.527 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:17.535 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:52:17.537 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-28 23:52:17.553 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-09-28 23:52:17.560 +06:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-28 23:52:17.642 +06:00 [INF] Executed DbCommand (83ms) [Parameters=[@p0='?' (Size = 300), @p1='?' (DbType = DateTime2), @p2='?' (Size = 4000), @p3='?' (Size = 100), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [BussinessEntities] ([Address], [CreatedAtUtc], [Email], [Name], [Type], [UpdatedAtUtc], [UsersId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-09-28 23:52:17.679 +06:00 [DBG] The foreign key property 'BussinessEntities.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-09-28 23:52:17.695 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:17.699 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 47ms reading results.
2024-09-28 23:52:17.721 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:17.729 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (7ms).
2024-09-28 23:52:17.764 +06:00 [DBG] An entity of type 'BussinessEntities' tracked by 'AppDbContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-09-28 23:52:17.770 +06:00 [DBG] SaveChanges completed for 'AppDbContext' with 1 entities written to the database.
2024-09-28 23:52:17.777 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 23:52:17.783 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 23:52:17.792 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 23:52:17.797 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 23:52:17.807 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-28 23:52:17.814 +06:00 [INF] Executing OkObjectResult, writing value of type 'Service.dtos.ShowBusinessEntitiesDto'.
2024-09-28 23:52:17.830 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 1052.0316ms
2024-09-28 23:52:17.843 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:52:17.845 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 200 in 1151.0639 ms
2024-09-28 23:52:17.855 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 23:52:17.861 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:17.870 +06:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-09-28 23:52:17.878 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 200 null application/json; charset=utf-8 1273.8382ms
2024-09-28 23:52:21.203 +06:00 [DBG] Connection id "0HN6VSNR9OPUI" received FIN.
2024-09-28 23:52:21.206 +06:00 [DBG] Connection id "0HN6VSNR9OPUI" is closed. The last processed stream ID was 3.
2024-09-28 23:52:21.206 +06:00 [DBG] The connection queue processing loop for 0HN6VSNR9OPUI completed.
2024-09-28 23:52:21.209 +06:00 [DBG] Connection id "0HN6VSNR9OPUI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:52:21.217 +06:00 [DBG] Connection id "0HN6VSNR9OPUI" stopped.
2024-09-28 23:52:36.340 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ" accepted.
2024-09-28 23:52:36.344 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ" started.
2024-09-28 23:52:36.351 +06:00 [DBG] Connection 0HN6VSNR9OPUJ established using the following protocol: "Tls12"
2024-09-28 23:52:36.356 +06:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - null null
2024-09-28 23:52:36.374 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:52:36.379 +06:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2024-09-28 23:52:36.384 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:52:36.390 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:52:36.401 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:52:36.413 +06:00 [DBG] The request is a preflight request.
2024-09-28 23:52:36.420 +06:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 204 null null 63.767ms
2024-09-28 23:52:36.427 +06:00 [INF] Request starting HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - application/json 80
2024-09-28 23:52:36.456 +06:00 [DBG] 1 candidate(s) found for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:52:36.464 +06:00 [DBG] Endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)' with route pattern 'api/BusinessEntities/AddBusinessEntities' is valid for the request path '/api/BusinessEntities/AddBusinessEntities'
2024-09-28 23:52:36.477 +06:00 [DBG] Request matched endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:52:36.486 +06:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-28 23:52:36.492 +06:00 [DBG] The request has an origin header: 'http://localhost:4200'.
2024-09-28 23:52:36.499 +06:00 [INF] CORS policy execution successful.
2024-09-28 23:52:36.507 +06:00 [DBG] Successfully validated the token.
2024-09-28 23:52:36.511 +06:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-28 23:52:36.521 +06:00 [DBG] Authorization was successful.
2024-09-28 23:52:36.528 +06:00 [INF] Executing endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:52:36.538 +06:00 [INF] Route matched with {action = "AddBusinessEntities", controller = "BusinessEntities"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddBusinessEntities(Service.dtos.AddBusinessEntitiesDto) on controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1).
2024-09-28 23:52:36.552 +06:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-28 23:52:36.555 +06:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-28 23:52:36.561 +06:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-28 23:52:36.577 +06:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-28 23:52:36.591 +06:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-28 23:52:36.607 +06:00 [DBG] Executing controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:52:36.621 +06:00 [DBG] Executed controller factory for controller WebApplication1.Controllers.BusinessEntitiesController (WebApplication1)
2024-09-28 23:52:36.624 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:52:36.633 +06:00 [DBG] Attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' using the name '' in request data ...
2024-09-28 23:52:36.645 +06:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-28 23:52:36.652 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ", Request id "0HN6VSNR9OPUJ:00000003": started reading request body.
2024-09-28 23:52:36.661 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ", Request id "0HN6VSNR9OPUJ:00000003": done reading request body.
2024-09-28 23:52:36.667 +06:00 [DBG] JSON input formatter succeeded, deserializing to type 'Service.dtos.AddBusinessEntitiesDto'
2024-09-28 23:52:36.675 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:52:36.683 +06:00 [DBG] Done attempting to bind parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:52:36.686 +06:00 [DBG] Attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto' ...
2024-09-28 23:52:36.692 +06:00 [DBG] Done attempting to validate the bound parameter 'AddBusinessEntitiesDto' of type 'Service.dtos.AddBusinessEntitiesDto'.
2024-09-28 23:52:36.698 +06:00 [DBG] Entity Framework Core 8.0.8 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.8' with options: None
2024-09-28 23:52:36.706 +06:00 [DBG] Creating DbConnection.
2024-09-28 23:52:36.708 +06:00 [DBG] Created DbConnection. (1ms).
2024-09-28 23:52:36.714 +06:00 [DBG] Opening connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:36.721 +06:00 [DBG] Opened connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:36.724 +06:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-28 23:52:36.729 +06:00 [DBG] Created DbCommand for 'ExecuteReader' (5ms).
2024-09-28 23:52:36.736 +06:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-28 23:52:36.739 +06:00 [DBG] Executing DbCommand [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:52:36.755 +06:00 [INF] Executed DbCommand (16ms) [Parameters=[@__addentitiesDto_Name_0='?' (Size = 100)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[Id], [b].[Address], [b].[CreatedAtUtc], [b].[Email], [b].[Name], [b].[Type], [b].[UpdatedAtUtc], [b].[UsersId]
FROM [BussinessEntities] AS [b]
WHERE [b].[Name] = @__addentitiesDto_Name_0
2024-09-28 23:52:36.761 +06:00 [DBG] Closing data reader to 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:36.768 +06:00 [DBG] A data reader for 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' is being disposed after spending 6ms reading results.
2024-09-28 23:52:36.773 +06:00 [DBG] Closing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:36.776 +06:00 [DBG] Closed connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS' (2ms).
2024-09-28 23:52:36.778 +06:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-28 23:52:36.789 +06:00 [DBG] No information found on request to perform content negotiation.
2024-09-28 23:52:36.791 +06:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-28 23:52:36.793 +06:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-28 23:52:36.799 +06:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-09-28 23:52:36.806 +06:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2024-09-28 23:52:36.812 +06:00 [INF] Executed action WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1) in 205.1804ms
2024-09-28 23:52:36.818 +06:00 [INF] Executed endpoint 'WebApplication1.Controllers.BusinessEntitiesController.AddBusinessEntities (WebApplication1)'
2024-09-28 23:52:36.824 +06:00 [INF] HTTP POST /api/BusinessEntities/AddBusinessEntities responded 400 in 317.6579 ms
2024-09-28 23:52:36.837 +06:00 [DBG] 'AppDbContext' disposed.
2024-09-28 23:52:36.845 +06:00 [DBG] Disposing connection to database 'Stocks' on server 'LAPTOP-LNLQUMMM\SQLEXPRESS'.
2024-09-28 23:52:36.850 +06:00 [DBG] Disposed connection to database '' on server '' (4ms).
2024-09-28 23:52:36.862 +06:00 [INF] Request finished HTTP/2 POST https://localhost:7028/api/BusinessEntities/AddBusinessEntities - 400 null text/plain; charset=utf-8 435.4775ms
2024-09-28 23:53:01.261 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ" received FIN.
2024-09-28 23:53:01.264 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ" is closed. The last processed stream ID was 3.
2024-09-28 23:53:01.266 +06:00 [DBG] The connection queue processing loop for 0HN6VSNR9OPUJ completed.
2024-09-28 23:53:01.268 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-28 23:53:01.291 +06:00 [DBG] Connection id "0HN6VSNR9OPUJ" stopped.
